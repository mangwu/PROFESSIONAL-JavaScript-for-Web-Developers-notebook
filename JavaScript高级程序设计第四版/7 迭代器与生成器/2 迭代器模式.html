<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>2. è¿­ä»£å™¨æ¨¡å¼</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-opaquegray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style><link rel="stylesheet" href="../../style.css"></head><body><article id="c9aca6f2-4970-4d60-846e-143b2b4a26f4" class="page sans"><header><img class="page-cover-image" src="https://www.notion.so/images/page-cover/met_vincent_van_gogh_cradle.jpg" style="object-position:center 80%"/><div class="page-header-icon page-header-icon-with-cover"><span class="icon">ğŸ</span></div><h1 class="page-title">2. è¿­ä»£å™¨æ¨¡å¼</h1></header><div class="page-body"><div id="0c3340a8-47ff-49ea-9b38-768b025a0c22" class="column-list"><div id="666baa60-dc63-42c6-a8f6-ba932e6882b6" style="width:12.5%" class="column"><nav id="f17f557d-1be9-43a9-b632-7fd0f721d224" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#8233b9cf-65c5-452d-82c0-5ca379251709">2.1 è¿­ä»£å™¨æ¨¡å¼</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#074eea60-487e-4e15-ad22-df4cff7b6ba4">2.1.1 æè¿°</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#ea772eef-3ba2-4a4c-9141-0b3b80ddeb04">2.1.1.1 è§£é‡Šè¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Patternï¼‰</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#92bd0ee6-c2bc-4cf3-b906-5fc607e4c017">2.1.1.2 è§£é‡Š Iterable æ¥å£</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#4f7e8c69-e748-41c6-ae4c-8fc8e3ce9543">2.1.1.2 è§£é‡Šå¯è¿­ä»£å¯¹è±¡</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#af1ee8b4-f468-4b42-9338-ba9c81cc55f2">2.1.1.3 è§£é‡Š è¿­ä»£å™¨ Iterator æ¶ˆè´¹</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#6d76b662-fbf0-44df-98c9-90d577a2d671">2.1.4 iteration iterator iterable</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#7f0102e3-13dc-4237-b93f-420142a608f2">2.1.5 å¯è¿­ä»£å¯¹è±¡çš„ç‰¹æ€§</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#a63dfe30-3e8f-4711-939e-6e19ad950aa2">2.1.6 ä¸´æ—¶æ€§å¯è¿­ä»£å¯¹è±¡</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#c5549d97-a624-4748-af08-bcfd5af09480">2.2 è¿­ä»£åè®®ï¼ˆiteration protocolsï¼‰</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#e5ba9791-a255-4c5d-8f72-dc914a9b3d70">2.2.1 å¯è¿­ä»£åè®®ï¼ˆThe Iterable protocolï¼‰</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#7f7d9081-fe50-4254-8bbb-e16a9e4ef782">2.2.1.1 å®ç°å¯è¿­ä»£åè®®</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#85e105ca-417f-4fba-8d34-458d9becdbf9">2.2.1.2 å®ç°äº†iterableæ¥å£ï¼ˆå¯è¿­ä»£åè®®ï¼‰çš„å†…ç½®ç±»å‹</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#c0c8115b-b200-4b12-9dd3-335be118da0f">2.2.1.3 æ£€æŸ¥å¯¹è±¡æ˜¯å¦æ˜¯å¯è¿­ä»£å¯¹è±¡</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#cf1d8415-5f6f-4a6d-b364-309a71d24e34">2.2.1.4 éšå¼è°ƒç”¨å·¥å‚å‡½æ•°</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#956a68e8-4fae-4504-864b-8a70d32477af">2.2.1.5 Iterableæ¥å£çš„ç»§æ‰¿</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#1d34fd59-4791-4860-9e84-67ce0edc702f">2.2.2 è¿­ä»£å™¨åè®®ï¼ˆThe iterator protocolï¼‰</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#357f86d2-2251-4389-8f2f-a6218fd5863a">2.2.2.1 è¿­ä»£å™¨</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#f8e0fba6-0df2-4c56-b1e0-b9a0eb396aee">2.3 è‡ªå®šä¹‰è¿­ä»£å™¨</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#74a3d6d8-6803-443e-b868-3066f306ae14">2.3.1 ç®€å•æœ‰ç¼ºé™·çš„å®ç°</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#cfbbc81e-cad7-4bc5-b5ff-e6f3c1137708">2.3.2 é—­åŒ…å®ç°</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#9f26cff9-386e-4dd7-9001-9d156e3d0906">2.4 æå‰ç»ˆæ­¢è¿­ä»£å™¨</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#9319d451-7fd0-4d9d-8682-337242d67e28">2.4.1 return()</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#99a882d4-8bea-401e-88a5-a23a11642738">2.4.2 éå¼ºåˆ¶å…³é—­è¿­ä»£å™¨</a></div></nav><p id="1f6e2f38-9af6-4fb1-86c6-0cc66059a3a7" class="">
</p></div><div id="49dd3e08-45d7-415b-913e-3bfd905028c4" style="width:87.5%" class="column"><h1 id="8233b9cf-65c5-452d-82c0-5ca379251709" class="">2.1 è¿­ä»£å™¨æ¨¡å¼</h1><p id="130f14c3-493e-4a59-b6a4-b8d1f82c384d" class="">JavaScripté«˜çº§ç¨‹åºè®¾è®¡ï¼ˆç¬¬å››ç‰ˆï¼‰åœ¨æœ¬ç« çš„ç¿»è¯‘å®åœ¨æ— æ³•è¯»æ‡‚ï¼ˆç‰¹åˆ«æ˜¯åœ¨è¿­ä»£å™¨æ¨¡å¼çš„æœ€åä¸€æ®µï¼‰ï¼Œå‚è€ƒéœ€è¦<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols">MDN</a>çš„è¯´æ˜</p><h2 id="074eea60-487e-4e15-ad22-df4cff7b6ba4" class="">2.1.1 æè¿°</h2><ul id="3f725999-bc60-432d-a11c-a0ef43e9d307" class="bulleted-list"><li style="list-style-type:disc">åœ¨ECMAScript6è¯­å¢ƒä¸‹ï¼Œ<strong>è¿­ä»£å™¨æ¨¡å¼</strong>æè¿°äº†ä¸€ç§æ•°æ®ç»“æ„è¿­ä»£è§£å†³æ–¹æ¡ˆ<ul id="0b26d482-2dc5-4d6c-9884-3cc32b84d559" class="bulleted-list"><li style="list-style-type:circle">æŠŠä¸€äº›ç»“æ„ç§°ä¸ºå¯è¿­ä»£å¯¹è±¡ï¼ˆ<strong>iterable</strong>ï¼‰</li></ul><ul id="06aa344d-b72a-416b-9e93-e61048f12671" class="bulleted-list"><li style="list-style-type:circle">è¿™äº›ç»“æ„å®ç°äº†æ­£å¼çš„<code>Iterable</code>æ¥å£</li></ul><ul id="581462b2-8de4-4bfc-a8b8-5f1aa70c971b" class="bulleted-list"><li style="list-style-type:circle">å¼€å‘è€…åªéœ€è¦é€šè¿‡è¿­ä»£å™¨<code>Iterator</code>æ¶ˆè´¹ï¼Œæ— éœ€å…³æ³¨æ•°æ®ç»“æ„ä¸­å…ƒç´ é¡ºåºå’Œå®ç°è¿­ä»£çš„æ–¹å¼</li></ul></li></ul><blockquote id="f83ee893-2c25-41b5-be06-4ae05312c9ce" class="">â€œè¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Patternï¼‰ï¼Œæä¾›<strong>ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­çš„å„ç§å…ƒç´ </strong>ï¼Œè€Œåˆ<strong>ä¸æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨</strong>è¡¨ç¤ºã€‚â€ â€”-<a href="https://baike.baidu.com/item/%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F/1355498">ç™¾åº¦ç™¾ç§‘</a></blockquote><h3 id="ea772eef-3ba2-4a4c-9141-0b3b80ddeb04" class="">2.1.1.1 è§£é‡Šè¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Patternï¼‰</h3><ul id="a5195ee6-6b9f-47f9-ad26-aac91fb28c9c" class="bulleted-list"><li style="list-style-type:disc">å‚è€ƒç™¾åº¦ç™¾ç§‘çš„è¯´æ³•ï¼Œè¿­ä»£å™¨æ¨¡å¼ä¸æ˜¯ä»»ä½•ä¸€é—¨è¯­è¨€çš„ç‰¹æ®Šè¯´æ³•ï¼Œè€Œæ˜¯ä¸€ç§<strong>è®¾è®¡æ¨¡å¼</strong><ul id="ad295e5e-7e29-4f20-befe-dc6b1270948f" class="bulleted-list"><li style="list-style-type:circle">åœ¨è®¨è®º<a href="1%20%E7%90%86%E8%A7%A3%E8%BF%AD%E4%BB%A3.html"><span class="icon">ğŸ›‘</span>1. ç†è§£è¿­ä»£</a> ä¸­ï¼Œæˆ‘ä»¬æè¿‡ä¸‰ç§è¿­ä»£ï¼šè®¡æ•°è¿­ä»£ï¼ˆå¾ªç¯ï¼‰ã€æœ‰åºé›†åˆè¿­ä»£ï¼ˆéå†æ•°ç»„ç­‰ï¼‰ã€å†…ç½®è¿­ä»£ï¼ˆ<code>forEach</code>ï¼‰<ul id="f96db1ea-83ba-412f-a194-02f76044c4ed" class="bulleted-list"><li style="list-style-type:square">å‰ä¸¤ç§å±äºåˆ©ç”¨å¾ªç¯è¯­å¥å’Œäº‹å…ˆçŸ¥é“çš„æ•°æ®ç»“æ„è¿›è¡Œè¿­ä»£ï¼Œè¿™å¹¶ä¸ç†æƒ³ï¼Œå› ä¸ºè¿™å¾€å¾€åªå¯¹<strong>æš´éœ²å¯¹è±¡å†…éƒ¨</strong>çš„æ•°æ®ç»“æ„æœ‰æ•ˆï¼Œå¯¹äºåƒ<code>Set</code>è¿™æ ·çš„æ•°æ®ç»“æ„ï¼Œå‰ä¸¤ç§éƒ½æ— æ³•è¿›è¡Œè¿­ä»£</li></ul><ul id="efb4bf96-ef1e-4c86-8080-83b1ef49acf7" class="bulleted-list"><li style="list-style-type:square">è€Œå†…ç½®è¿­ä»£æ–¹æ³•çš„ç¡®ä¸éœ€è¦æ•°æ®ç»“æ„æš´éœ²å†…éƒ¨ï¼Œé—®é¢˜æ˜¯å®ƒ<strong>ä¸èƒ½ä¸­é€”åœæ­¢ï¼Œ</strong>è¿™æ˜¯å¾ˆå¤§çš„ç¼ºé™·</li></ul></li></ul><ul id="46092a9d-66b1-4890-873a-49fa20a2b295" class="bulleted-list"><li style="list-style-type:circle">ä¸ºæ­¤ï¼ŒJavaScriptéœ€è¦åˆ©ç”¨è¿­ä»£å™¨æ¨¡å¼è¿™ç§è®¾è®¡æ¨¡å¼è§£å†³JavaScriptä¸­æ‰€æœ‰æ•°æ®ç»“æ„çš„è¿­ä»£</li></ul></li></ul><h3 id="92bd0ee6-c2bc-4cf3-b906-5fc607e4c017" class="">2.1.1.2 è§£é‡Š Iterable æ¥å£</h3><ul id="e5ef4c5e-2312-4734-91b0-ff95630db416" class="bulleted-list"><li style="list-style-type:disc">å®é™…ä¸ŠIterable æ¥å£å°±æ˜¯<strong>è¿­ä»£åè®®ï¼ˆIteration protocolsï¼‰ä¸­çš„å¯è¿­ä»£åè®®ï¼ˆThe Iterable protocolï¼‰</strong></li></ul><ul id="923efc9b-a32e-4ff7-be03-d72ddecfc243" class="bulleted-list"><li style="list-style-type:disc">è¿­ä»£å™¨æ¨¡å¼æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œè§£å†³æ–¹æ¡ˆï¼Œè¿­ä»£åè®®ï¼ˆIteration protocolsï¼‰å°±æ˜¯è¿™ç§è§£å†³æ–¹æ¡ˆæ›´ä¸ºå…·ä½“çš„<strong>å®ç°åè®®</strong><ul id="3ea8ddcf-1d41-46d7-b6f4-a2a9e8275a07" class="bulleted-list"><li style="list-style-type:circle">è¿­ä»£å™¨æ¨¡å¼æŒ‡å‡ºè¿­ä»£æ—¶è¦<strong>é¡ºåºè®¿é—®</strong>å’Œ<strong>ä¸æš´éœ²å¯¹è±¡å†…éƒ¨ï¼Œ</strong>è¿™ä¸¤æ¡ç»™å‡ºäº†è¿­ä»£éœ€è¦å®Œæˆçš„<strong>æ–¹å‘</strong></li></ul><ul id="f6946c02-62fb-4308-8fbd-beb70bfe48fa" class="bulleted-list"><li style="list-style-type:circle">è€Œè¿­ä»£åè®®ï¼ˆIteration protocolsï¼‰å°±æ˜¯æ ¹æ®å…·ä½“çš„<strong>å®ç°æ‰‹æ®µ</strong>ï¼ˆä¹Ÿä¸æ˜¯å…·ä½“çš„è¯­æ³•å®ç°ï¼‰</li></ul></li></ul><ul id="837d0a31-3437-49cf-b6b6-5d224a935f12" class="bulleted-list"><li style="list-style-type:disc">è¿­ä»£åè®®ï¼ˆIteration protocolsï¼‰åŒ…å«ä¸¤ä¸ª<ul id="c8922c40-7bdf-4928-8363-1f5ec6842046" class="bulleted-list"><li style="list-style-type:circle"><strong>å¯è¿­ä»£åè®®</strong>ï¼ˆ<strong>The Iterable protocol</strong>ï¼‰</li></ul><ul id="b97bae60-ca75-4b02-aa47-e5e443da39fc" class="bulleted-list"><li style="list-style-type:circle"><strong>è¿­ä»£å™¨åè®®</strong>ï¼ˆ<strong>The Iterator protocol</strong>ï¼‰</li></ul></li></ul><h3 id="4f7e8c69-e748-41c6-ae4c-8fc8e3ce9543" class="">2.1.1.2 è§£é‡Šå¯è¿­ä»£å¯¹è±¡</h3><ul id="e8840c80-f1f3-4e26-8e1f-144419713566" class="bulleted-list"><li style="list-style-type:disc">å¯è¿­ä»£å¯¹è±¡ï¼ˆiterable objectï¼‰<ul id="0731fb5b-e61e-4d8b-8b76-90c8c935daeb" class="bulleted-list"><li style="list-style-type:circle">ç¬¦åˆè¿­ä»£å™¨æ¨¡å¼æŒ‡å‡ºçš„ä¸¤ä¸ªæ–¹å‘ï¼šè¿­ä»£æ—¶å¯ä»¥æŒ‰é¡ºåºè®¿é—®å…¶ä¸­çš„å…ƒç´ ï¼›ä¸ä¼šæš´éœ²å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤º</li></ul><ul id="8d4b8f7c-877a-47e0-b03b-93c8c3fa45cf" class="bulleted-list"><li style="list-style-type:circle">ä½¿ç”¨JavaScriptå®ç°äº†è¿­ä»£åè®®ï¼ˆIteration protocolsï¼‰</li></ul></li></ul><h3 id="af1ee8b4-f468-4b42-9338-ba9c81cc55f2" class="">2.1.1.3 è§£é‡Š è¿­ä»£å™¨ Iterator æ¶ˆè´¹</h3><ul id="5be069c6-7371-42b7-a3c2-8d26e58da687" class="bulleted-list"><li style="list-style-type:disc">è¿­ä»£å™¨ Iterator å°±æ˜¯JavaScriptåœ¨å…·ä½“å®ç°è¿­ä»£åè®®æ—¶æ•´å‡ºçš„<strong>è¿­ä»£å¯¹è±¡</strong>ï¼Œå®ƒæ˜¯æŒ‰éœ€åˆ›å»ºçš„<strong>ä¸€æ¬¡æ€§</strong>å¯¹è±¡,å®ƒå…³è”ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡</li></ul><ul id="ebff2630-e41d-4690-88b7-f6882f98a8f2" class="bulleted-list"><li style="list-style-type:disc">è¿™é‡Œçš„æ¶ˆè´¹ï¼ˆconsumeï¼‰åº”è¯¥å°±æ˜¯æŒ‡ <strong>è¿­ä»£å™¨ </strong>è·å–å¯è¿­ä»£å¯¹è±¡ä¸­çš„å…ƒç´ æ—¶ï¼Œè¿›è¡Œçš„ä¸€æ¬¡æ¬¡æŒ‰é¡ºåºå¼¹å‡ºå…ƒç´ çš„è¿‡ç¨‹<ul id="1a3ff604-5099-44d6-a63d-7ece72521818" class="bulleted-list"><li style="list-style-type:circle">ä¸€æ¬¡å¼¹å‡ºå°±æ˜¯ä¸€æ¬¡æ¶ˆè´¹</li></ul><ul id="78f1b0b6-6722-40cb-a957-c71f73ddfb04" class="bulleted-list"><li style="list-style-type:circle">å…ƒç´ å…¨éƒ¨è¢«æ¶ˆè´¹å®Œåï¼Œè¿­ä»£å™¨ä¹Ÿå°±è¿­ä»£å®Œæ¯•ï¼Œæ²¡æœ‰ä½œç”¨äº†ï¼ˆæ‰€ä»¥æ˜¯ä¸€æ¬¡æ€§çš„ï¼‰</li></ul><ul id="7abbd1c7-49af-444e-a215-d1d929a4ee52" class="bulleted-list"><li style="list-style-type:circle">æƒ³è¦å†æ¬¡è¿­ä»£ï¼Œå†ç”Ÿæˆä¸€ä¸ªè¿­ä»£å™¨å³å¯</li></ul></li></ul><ul id="5b3f5e46-dbbf-425f-bda7-abca55bb41f8" class="bulleted-list"><li style="list-style-type:disc">å¯ä»¥æŸ¥çœ‹ä¸‹é¢çš„<a href="2%20%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F.html">è¯æ¡</a>è§‚å¯Ÿæ›´å¤šå…³äºè¿­ä»£å™¨çš„é—®é¢˜</li></ul><h2 id="6d76b662-fbf0-44df-98c9-90d577a2d671" class="">2.1.4 iteration iterator iterable</h2><ul id="e5b7197b-6e80-467f-9b98-99be5aaa469c" class="bulleted-list"><li style="list-style-type:disc"><strong>iteration</strong> å°±æ˜¯<strong>è¿­ä»£</strong>ï¼Œç¬¬ä¸€å°ç« å·²è§£é‡Šä¸º æŒ‰é¡ºåºåå¤æ‰§è¡Œä¸€æ®µç¨‹åºï¼Œæœ‰æ˜ç¡®çš„ç»ˆæ­¢æ¡ä»¶</li></ul><ul id="a3526d21-c7f4-427b-9d5b-729244d5e922" class="bulleted-list"><li style="list-style-type:disc"><strong>iterator</strong> ç¿»è¯‘ä¸º<strong>è¿­ä»£å™¨ </strong>ï¼Œå®ƒå’Œç”Ÿæˆå™¨ï¼ˆGeneratorï¼‰ä¸€èµ·ç»„æˆå®ç°JavaScriptæ ¸å¿ƒè¯­è¨€è¿­ä»£çš„ä¸¤ä¸ªæ¦‚å¿µï¼Œå¹¶ä¸”æä¾›äº†ä¸€ç§ç”¨äºè‡ªå®šä¹‰<code><strong>forâ€¦of</strong></code>å¾ªç¯çš„æœºåˆ¶</li></ul><ul id="926cb3bc-f8e4-4074-8e96-fba40388c502" class="bulleted-list"><li style="list-style-type:disc"><strong>iterable </strong>æ˜¯å½¢å®¹è¯ï¼Œç”¨äºæè¿°å¯¹è±¡æ˜¯å¦å¯è¿­ä»£ï¼Œå¯¹è±¡æ˜¯å¦å¯è¿­ä»£çš„<strong>æœ¬è´¨</strong>å°±æ˜¯å¯¹è±¡æ˜¯å¦å®ç°äº†<strong>å¯è¿­ä»£åè®®</strong></li></ul><ul id="5420f96c-c78a-4454-ad68-5391c178b5d2" class="bulleted-list"><li style="list-style-type:disc">JavaScripté«˜çº§ç¨‹åºè®¾è®¡ï¼ˆç¬¬4ç‰ˆï¼‰çš„ä¸­æ–‡ç¿»è¯‘æœ‰å¦‚ä¸‹è¯è¯­<blockquote id="81a2a568-7364-4481-bc23-3f554a54eb4b" class="">ä»»ä½•å®ç°Iterableæ¥å£çš„æ•°æ®ç»“æ„éƒ½å¯ä»¥è¢«å®ç°Iteratoræ¥å£çš„ç»“æ„â€æ¶ˆè´¹â€œï¼ˆconsumeï¼‰</blockquote><ul id="3b10962e-ce16-41a9-9ccd-b5fd590a83b3" class="bulleted-list"><li style="list-style-type:circle">è¿™å¥è¯ä¸­ï¼Œâ€<em><strong>Iterable æ¥å£â€</strong></em>æŒ‡çš„æ˜¯å¯è¿­ä»£åè®®ï¼ˆ<strong>The Iterable protocol</strong>ï¼‰</li></ul><ul id="fd0de3d9-5e91-4ba4-a806-8c8f65bbee2b" class="bulleted-list"><li style="list-style-type:circle">â€œ<em><strong>Iterator æ¥å£</strong></em>â€ æŒ‡çš„æ˜¯è¿­ä»£å™¨åè®®ï¼ˆ<strong>The Iterator protocol</strong>ï¼‰</li></ul><ul id="4d195d53-9111-4dd6-9d9a-ab355f3f0180" class="bulleted-list"><li style="list-style-type:circle">è€Œæœ€åä¸€ä¸ªâ€ç»“æ„â€å…¶å®å°±æ˜¯è¿­ä»£å™¨å¯¹è±¡ï¼ˆIteratorï¼‰</li></ul><ul id="1d1698cc-30c7-4c0e-ad4c-126d76e8611d" class="bulleted-list"><li style="list-style-type:circle">ç¿»è¯‘ä»¥ä¸‹å°±æ˜¯ï¼š<mark class="highlight-red">ä»»ä½•å®ç° </mark><mark class="highlight-red"><strong>å¯è¿­ä»£åè®®</strong></mark><mark class="highlight-red"> çš„æ•°æ®ç»“æ„éƒ½å¯ä»¥è¢«å®ç° </mark><mark class="highlight-red"><strong>è¿­ä»£å™¨åè®® çš„ </strong></mark><mark class="highlight-red">ï¼ˆè¯¥æ•°æ®ç»“æ„çš„ï¼‰è¿­ä»£å™¨ </mark><mark class="highlight-red"><a href="2%20%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F.html">æ¶ˆè´¹</a></mark></li></ul><p id="0210e245-f147-46bc-b458-181159506cba" class="">
</p></li></ul><h2 id="7f0102e3-13dc-4237-b93f-420142a608f2" class="">2.1.5 å¯è¿­ä»£å¯¹è±¡çš„ç‰¹æ€§</h2><ul id="d35930ef-dc88-447f-b581-9009b6c44487" class="bulleted-list"><li style="list-style-type:disc">å¯è¿­ä»£å¯¹è±¡æ˜¯ä¸€ç§æŠ½è±¡ï¼ˆä¸å…·ä½“ï¼‰çš„è¯´æ³•ï¼Œå¯è¿­ä»£å¯¹è±¡çš„ç‰¹æ€§<ul id="68f30bfd-8b51-49fa-a699-b3ac8528d1cd" class="bulleted-list"><li style="list-style-type:circle">åŸºæœ¬ä¸Šéƒ½æ˜¯æ•°ç»„æˆ–é›†åˆè¿™æ ·çš„<strong>é›†åˆç±»å‹</strong>çš„å¯¹è±¡</li></ul><ul id="495b610d-28a4-458d-8aba-9d8fefd9e1e1" class="bulleted-list"><li style="list-style-type:circle">å®ƒä»¬åŒ…å«çš„å…ƒç´ æ˜¯æœ‰é™çš„ï¼ˆ<strong>å¯æšä¸¾</strong>ï¼‰</li></ul><ul id="748ef170-d238-4398-97e5-e548aa38ef73" class="bulleted-list"><li style="list-style-type:circle">å¯è¿­ä»£å¯¹è±¡å…·æœ‰<strong>æ— æ­§ä¹‰</strong>çš„éå†é¡ºåº</li></ul></li></ul><ul id="34c04dbd-19db-40d0-8dbb-a36993610245" class="bulleted-list"><li style="list-style-type:disc">JavaScriptå†…ç½®çš„éƒ¨åˆ†å¯è¿­ä»£å¯¹è±¡<ul id="dd45a929-aa8d-42cf-b16a-1791978d4f6a" class="bulleted-list"><li style="list-style-type:circle"><code>Array</code></li></ul><ul id="dd68fdfd-4a68-4921-9e17-60ef84ebbc7c" class="bulleted-list"><li style="list-style-type:circle"><code>ElementTypeArray</code></li></ul><ul id="c1a0bdc4-5836-43ac-8ead-e24c324b074d" class="bulleted-list"><li style="list-style-type:circle"><code>Set</code></li></ul><ul id="601de043-4fd2-47cc-a0d0-83a593998014" class="bulleted-list"><li style="list-style-type:circle"><code>Map</code></li></ul></li></ul><h2 id="a63dfe30-3e8f-4711-939e-6e19ad950aa2" class="">2.1.6 ä¸´æ—¶æ€§å¯è¿­ä»£å¯¹è±¡</h2><ul id="270439fd-a95b-4748-b186-c4a59fbff5be" class="bulleted-list"><li style="list-style-type:disc">æœ‰äº›å¯è¿­ä»£å¯¹è±¡å¹¶ä¸æ˜¯é›†åˆå¯¹è±¡ï¼Œè€Œæ˜¯å…·æœ‰ç±»ä¼¼æ•°ç»„è¡Œä¸ºçš„ä¸´æ—¶å¯è¿­ä»£å¯¹è±¡</li></ul><ul id="e9126d87-4a94-416e-8be6-12575d20bdc7" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å¦‚<strong>è®¡æ•°å¾ªç¯</strong><ul id="4b8587b0-8405-4208-a312-cc37350a5e3c" class="bulleted-list"><li style="list-style-type:circle">å¾ªç¯ç”Ÿæˆçš„å€¼æ˜¯æš‚æ—¶æ€§çš„</li></ul><ul id="d96b24ac-b8ee-4029-9839-067e7034e5f1" class="bulleted-list"><li style="list-style-type:circle">å¾ªç¯æœ¬èº«æ˜¯åœ¨æ‰§è¡Œè¿­ä»£</li></ul></li></ul><ul id="4186831f-ab92-4d78-8a87-50ae3c1b8ee5" class="bulleted-list"><li style="list-style-type:disc">ä¸´æ—¶æ€§å¯è¿­ä»£å¯¹è±¡å¯ä»¥å®ç°<strong>ç”Ÿæˆå™¨ï¼ˆGeneratorï¼‰</strong></li></ul><hr id="82e92526-81bf-49cc-9b2f-97ef7cf9c70a"/><p id="d01c6be6-e84b-4603-8ecf-cd5a37852491" class="">
</p><p id="9c7015e7-d208-401b-830a-e191c28cb335" class="">ä¸ºäº†æŒæ¡è¿­ä»£ï¼Œæœ€å…ˆçŸ¥æ™“çš„å°±åº”è¯¥æ˜¯<strong>è¿­ä»£åè®®</strong>ï¼ˆ<strong>iteration</strong> <strong>protocols</strong>ï¼‰</p><h1 id="c5549d97-a624-4748-af08-bcfd5af09480" class="">2.2 è¿­ä»£åè®®ï¼ˆiteration protocolsï¼‰</h1><blockquote id="9b8b8468-db13-4218-b7dd-2d750460f2fa" class="">è¿­ä»£åè®®ä¸æ˜¯JavaScriptå†…ç½®çš„å¯¹è±¡æˆ–è¯­æ³•ï¼Œè€Œæ˜¯åè®®ã€‚è¿™äº›åè®®å¯ä»¥ç”±<strong>ä»»ä½•</strong>å¯¹è±¡é€šè¿‡éµå¾ªä¸€äº›çº¦å®šè€Œå®ç°</blockquote><p id="7f7eb2c5-dba1-4c15-bce1-6b703c8044e7" class="">è¿­ä»£åè®®æœ‰<a href="2%20%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F.html">ä¸¤ä¸ª</a></p><ol type="1" id="d099d170-2c3a-4977-95ff-036b7bc1ef35" class="numbered-list" start="1"><li>å¯è¿­ä»£åè®®ï¼ˆThe Iterable protocolï¼‰</li></ol><ol type="1" id="36afd7dc-ba29-4e6b-b58e-dfcf9495a4a7" class="numbered-list" start="2"><li>è¿­ä»£å™¨åè®®ï¼ˆThe Iterator protocolï¼‰</li></ol><h2 id="e5ba9791-a255-4c5d-8f72-dc914a9b3d70" class="">2.2.1 å¯è¿­ä»£åè®®ï¼ˆThe Iterable protocolï¼‰</h2><ul id="360783ad-ae31-4e9d-9c9a-cdfb4e8aeab4" class="bulleted-list"><li style="list-style-type:disc">å¯è¿­ä»£åè®®è¦æ±‚JavaScriptå¯¹è±¡å»è‡ªå®šä¹‰å®ƒä»¬è¢«è¿­ä»£æ—¶çš„è¡Œä¸ºï¼Œä¾‹å¦‚åœ¨<code>forâ€¦of</code> ä¸­è¢«éå†æ—¶ï¼Œä»€ä¹ˆå€¼è¯¥è¢«è¿­ä»£</li></ul><ul id="abb43132-1a07-4306-9f8d-69398e24d86e" class="bulleted-list"><li style="list-style-type:disc">ä¸€äº›å†…ç½®ç±»å‹é»˜è®¤å°±æœ‰å†…ç½®çš„é»˜è®¤è¿­ä»£è¡Œä¸ºï¼Œå¦‚<code>Array</code>ï¼Œ<code>Map</code> ï¼Œä¸€äº›å†…ç½®ç±»å‹æ²¡æœ‰ï¼Œå¦‚<code>Object</code></li></ul><h3 id="7f7d9081-fe50-4254-8bbb-e16a9e4ef782" class="">2.2.1.1 å®ç°å¯è¿­ä»£åè®®</h3><ul id="bef58722-a68b-447f-813d-3c5d1df8ef1a" class="bulleted-list"><li style="list-style-type:disc">å®ç°å¯è¿­ä»£åè®®éœ€è¦å¼•ç”¨ç±»å‹å…·å¤‡ä¸¤ç§èƒ½åŠ›<ol type="1" id="cdb70e46-670d-4f38-af55-e40e1062ce83" class="numbered-list" start="1"><li>æ”¯æŒè¿­ä»£çš„è‡ªæˆ‘è¯†åˆ«èƒ½åŠ›</li></ol><ol type="1" id="229f6a50-8024-44d1-a019-9074349981e4" class="numbered-list" start="2"><li>åˆ›å»ºå®ç°Iteratoræ¥å£çš„å¯¹è±¡çš„èƒ½åŠ›ï¼ˆå°±æ˜¯èƒ½ç”Ÿæˆè¿­ä»£å™¨å¯¹è±¡ï¼‰</li></ol></li></ul><ul id="4b00c98d-7ee1-466f-a577-b2dbe70ecb3c" class="bulleted-list"><li style="list-style-type:disc">ä¸ºäº†å®ç°è¿™ä¸¤ç§èƒ½åŠ›ä½¿å¾—å¯¹è±¡ç§°ä¸ºå¯è¿­ä»£å¯¹è±¡ï¼Œå¿…é¡»å®ç°<strong><code>@@iterator</code></strong>æ–¹æ³•ï¼Œå‚è§<a href="../3%20%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/%E5%B8%B8%E7%94%A8%E5%86%85%E7%BD%AE%E7%AC%A6%E5%8F%B7.html">4.Symbol.iterator</a> <ul id="a832e13a-630d-4492-93c0-6245fef92c93" class="bulleted-list"><li style="list-style-type:circle">å› ä¸º<code>for of</code>å¾ªç¯å°±æ˜¯åˆ©ç”¨è¯¥è¿­ä»£å™¨ç¬¦å·å±æ€§å¼•ç”¨çš„æ–¹æ³• è·å–è¿­ä»£å™¨è¿›è¡Œè¿­ä»£æ“ä½œ</li></ul><ul id="43c30d89-40bd-40bb-9cc3-c7b4a335a004" class="bulleted-list"><li style="list-style-type:circle">æ‰€ä»¥å®ç°äº†è¯¥ç¬¦å·å±æ€§å°±èƒ½å…·æœ‰ä¸Šè¿°çš„ä¸¤ç§èƒ½åŠ›</li></ul></li></ul><ul id="17a32d20-90a9-45f9-9a5c-99ce69ba6f05" class="bulleted-list"><li style="list-style-type:disc">è¿­ä»£å™¨ç¬¦å·å±æ€§å¼•ç”¨ä¸€ä¸ªè¿­ä»£å™¨å·¥å‚ï¼ˆç”Ÿæˆå™¨ï¼‰å‡½æ•°ï¼Œè°ƒç”¨è¿™ä¸ªå·¥å‚å‡½æ•°å¿…é¡»è¿”å›ä¸€ä¸ªæ–°è¿­ä»£å™¨ï¼ˆIteratorï¼‰å¯¹è±¡ï¼Œè¿™å°±æ˜¯å¯¹è±¡çš„<strong>é»˜è®¤è¿­ä»£å™¨</strong></li></ul><h3 id="85e105ca-417f-4fba-8d34-458d9becdbf9" class="">2.2.1.2 å®ç°äº†iterableæ¥å£ï¼ˆå¯è¿­ä»£åè®®ï¼‰çš„å†…ç½®ç±»å‹</h3><ul id="8a9d740a-ba2b-4691-b16d-ff2a3dfe8b0c" class="bulleted-list"><li style="list-style-type:disc">å­—ç¬¦ä¸²</li></ul><ul id="2cc646f7-8147-413e-be80-0dd79b285ee4" class="bulleted-list"><li style="list-style-type:disc">æ•°ç»„</li></ul><ul id="378014bb-9f8d-4edc-b74e-920014370747" class="bulleted-list"><li style="list-style-type:disc">æ˜ å°„</li></ul><ul id="f569fdb6-8121-41e0-85d6-05e372eb39cc" class="bulleted-list"><li style="list-style-type:disc">é›†åˆ</li></ul><ul id="89bd0c9d-43f6-425c-b4e9-248d93e5fd38" class="bulleted-list"><li style="list-style-type:disc">argumentså¯¹è±¡</li></ul><ul id="2a5d2eee-5ac8-4ece-a479-b31d5305ebe5" class="bulleted-list"><li style="list-style-type:disc">NodeListç­‰DOMé›†åˆç±»å‹</li></ul><h3 id="c0c8115b-b200-4b12-9dd3-335be118da0f" class="">2.2.1.3 æ£€æŸ¥å¯¹è±¡æ˜¯å¦æ˜¯å¯è¿­ä»£å¯¹è±¡</h3><ul id="3a49e122-126a-4b06-8e54-f3c90e89bdaa" class="bulleted-list"><li style="list-style-type:disc">æ£€æŸ¥å¯¹è±¡æ˜¯å¦å­˜åœ¨è¿­ä»£å™¨ç¬¦å·å±æ€§å³å¯ï¼ˆå³éœ€è¦æš´éœ²è¯¥ç¬¦å·å±æ€§å¼•ç”¨çš„å·¥å‚å‡½æ•°ï¼‰</li></ul><pre id="dca40f77-d322-4524-b08a-d1a4ca5d17eb" class="code"><code>// Object numberéƒ½æ˜¯ä¸å¯è¿­ä»£çš„é¢
const num = 1;
const obj = {};
console.log(num[Symbol.iterator]); // undefined
console.log(obj[Symbol.iterator]); // undefined
// æ•°ç»„ï¼Œé›†åˆï¼Œæ˜ å°„ï¼Œå­—ç¬¦ä¸²ï¼Œargumentsï¼Œéƒ½æ˜¯å¯è¿­ä»£çš„
const str = &quot;123&quot;;
const arr = [1, 2, 3];
const set = new Set(arr);
const map = new Map().set(&quot;a&quot;, 1).set(&quot;b&quot;, 2);
function test() {
  console.log(arguments[Symbol.iterator]);
}
console.log(str[Symbol.iterator]); // [Function: [Symbol.iterator]]
console.log(arr[Symbol.iterator]); // [Function: values]
console.log(set[Symbol.iterator]); // [Function: values]
console.log(map[Symbol.iterator]); // [Function: entries]
test(1, 2, &quot;a&quot;); // [Function: values]

function test() {
  console.log(arguments[Symbol.iterator]());
}
// å¯ä»¥é€šè¿‡è°ƒç”¨è¿­ä»£å™¨å·¥å‚å‡½æ•°ç”Ÿæˆä¸€ä¸ªè¿­ä»£å™¨
console.log(str[Symbol.iterator]()); // Object [String Iterator] {}
console.log(arr[Symbol.iterator]()); // Object [Array Iterator] {}
console.log(set[Symbol.iterator]()); // [Set Iterator] { 1, 2, 3 }
console.log(map[Symbol.iterator]()); // [Map Entries] { [ &#x27;a&#x27;, 1 ], [ &#x27;b&#x27;, 2 ] }
test(1, 2, &quot;a&quot;); // Object [Array Iterator] {}</code></pre><ul id="e49b9e20-3851-4f6c-93fc-47fbd31e134e" class="bulleted-list"><li style="list-style-type:disc">å¯ä»¥çœ‹åˆ°ï¼Œargumentsæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªæ•°ç»„ï¼ˆä¿å­˜å‚æ•°ï¼‰</li></ul><ul id="e0dd4a80-70cf-4ed5-911b-91bcd99d50c0" class="bulleted-list"><li style="list-style-type:disc">å­—ç¬¦ä¸²çš„å·¥å‚å‡½æ•°ï¼ˆç”Ÿæˆå™¨ï¼‰æ²¡æœ‰åˆ«åå°±æ˜¯ï¼Œ<code>[Symbol.iterator]</code></li></ul><ul id="c6c1b818-bc1e-4323-9b9b-29353a7c8072" class="bulleted-list"><li style="list-style-type:disc">æ•°ç»„å’Œé›†åˆçš„å·¥å‚å‡½æ•°å¯ä»¥ä½¿ç”¨<code>values</code> å³<code>Array/Set.prototype.values()</code></li></ul><ul id="b073f5e1-49c7-4dd6-bd88-e15a0289e5b1" class="bulleted-list"><li style="list-style-type:disc">æ˜ å°„çš„å·¥å‚å‡½æ•°å¯ä»¥ä½¿ç”¨åˆ«å<code>entries</code> å³<code>Map.prototype.entries()</code></li></ul><h3 id="cf1d8415-5f6f-4a6d-b364-309a71d24e34" class="">2.2.1.4 éšå¼è°ƒç”¨å·¥å‚å‡½æ•°</h3><ul id="ec08d71b-3856-4c42-affc-33fd989daff2" class="bulleted-list"><li style="list-style-type:disc">å®é™…å†™ä»£ç æ—¶<strong>ä¸éœ€è¦</strong>æ˜¾ç¤ºåœ°è°ƒç”¨è¿­ä»£å™¨ç¬¦å·å±æ€§å¼•ç”¨çš„å·¥å‚å‡½æ•°å»ç”Ÿæˆè¿­ä»£å™¨</li></ul><ul id="f0c1e3f7-bbae-4341-9c06-2d8d254d7fb9" class="bulleted-list"><li style="list-style-type:disc">å®ç°äº†å¯è¿­ä»£åè®®ï¼ˆIterable protocolï¼‰åçš„æ‰€æœ‰ç±»å‹éƒ½ä¼šè‡ªåŠ¨å…¼å®¹ <strong>æ¥å—å¯è¿­ä»£å¯¹è±¡ï¼ˆIterable objectï¼‰çš„ä»»ä½•è¯­è¨€ç‰¹æ€§</strong>ï¼š</li></ul><ul id="2f0f9419-dcbe-452f-afca-9a5f90601836" class="bulleted-list"><li style="list-style-type:disc"><strong>æ¥å—å¯è¿­ä»£å¯¹è±¡çš„åŸç”Ÿè¯­è¨€ç‰¹æ€§</strong> å°±æ˜¯ JavaScriptä¸­å¯¹å¯è¿­ä»£å¯¹è±¡éšå¼è°ƒç”¨å…¶å·¥å‚å‡½æ•°è·å–è¿­ä»£å™¨ çš„åŸç”Ÿè¯­å¥ï¼›åŒ…æ‹¬<ul id="ac3b240a-efc2-496c-ac9d-737368a459ee" class="bulleted-list"><li style="list-style-type:circle"><code>forâ€¦of</code>å¾ªç¯</li></ul><ul id="99af127e-43a6-4574-b94a-e9b473f362c5" class="bulleted-list"><li style="list-style-type:circle">æ•°ç»„è§£æ„<code>[,,,...]</code></li></ul><ul id="8c1d90d4-e287-49b2-8a50-4ab0c3de7408" class="bulleted-list"><li style="list-style-type:circle">æ‰©å±•æ“ä½œç¬¦ <code>â€¦</code></li></ul><ul id="d8f0c7f3-677b-44f5-889e-84ca88a48470" class="bulleted-list"><li style="list-style-type:circle"><code>Array.from()</code> åŒ…æ‹¬å®šå‹æ•°ç»„</li></ul><ul id="c95ade49-94d5-433d-abbc-a0320a052475" class="bulleted-list"><li style="list-style-type:circle">åˆ›å»ºé›†åˆ <code>new Set()</code></li></ul><ul id="f9f7dbdc-fca8-4394-b287-642601483534" class="bulleted-list"><li style="list-style-type:circle">åˆ›å»ºæ˜ å°„ <code>new Map()</code></li></ul><ul id="220121b5-cf3d-4981-bb02-bc37f1e33c6e" class="bulleted-list"><li style="list-style-type:circle"><code>Promise.all()</code> æ¥æ”¶ç”±æœŸçº¦ç»„æˆçš„å¯è¿­ä»£å¯¹è±¡</li></ul><ul id="7dda721b-7a54-4f8b-a301-e951f6310d3d" class="bulleted-list"><li style="list-style-type:circle"><code>Promise.race()</code> æ¥æ”¶ç”±æœŸçº¦ç»„æˆçš„å¯è¿­ä»£å¯¹è±¡</li></ul><ul id="085d3ad9-cb2e-47ce-ac77-4cc4c8d7e534" class="bulleted-list"><li style="list-style-type:circle"><code>yield*</code>æ“ä½œç¬¦ï¼Œåœ¨ç”Ÿæˆå™¨ä¸­ä½¿ç”¨</li></ul></li></ul><ul id="a8d77532-1c6e-49a9-b91d-20b013fb819d" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å­<pre id="23bb53c8-aaac-48b8-a1aa-77a0b6b8ba63" class="code"><code>const arr = [1, 2, 3];
// 1. for of
for (const item of arr) {
  console.log(item); // 1 2 3
}

// 2. æ•°ç»„ç»“æ„
const [a, b, c] = arr;
console.log(a, b, c); // 1 2 3

// 3. æ‰©å±•æ“ä½œç¬¦
console.log([0, ...arr]); // [0,1,2,3]

// 4. åŸºäºå…¶ä»–æ•°ç»„åˆ›å»ºæ–°æ•°ç»„
console.log(Array.from(arr)); // [1,2,3]

// 5. æ„é€ é›†åˆ
console.log(new Map(arr.map((v, i) =&gt; [i, v]))); // Map(3) {0 =&gt; 1, 1 =&gt; 2, 2 =&gt; 3}</code></pre></li></ul><h3 id="956a68e8-4fae-4504-864b-8a70d32477af" class="">2.2.1.5 Iterableæ¥å£çš„ç»§æ‰¿</h3><ul id="a8207ada-b728-4bf4-8270-06221ad2ea29" class="bulleted-list"><li style="list-style-type:disc">å¦‚æœ<strong>å¯¹è±¡åŸå‹é“¾</strong>ä¸Šçš„çˆ¶ç±»å®ç°äº†Iterableæ¥å£ï¼ˆå¯è¿­ä»£åè®®ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡ä¹Ÿå°±å®ç°äº†å¯è¿­ä»£åè®®</li></ul><ul id="aebcbb79-56c6-4c31-8cff-e0837c0802ff" class="bulleted-list"><li style="list-style-type:disc">å³ å¯è¿­ä»£åè®® çš„å®ç°æ¥å£ï¼ˆè¿­ä»£å™¨ç¬¦å·å±æ€§ï¼‰æ˜¯å¯ä»¥ç»§æ‰¿çš„<pre id="05d03690-c651-4b29-b5a2-3a0d9e6de5bf" class="code"><code>// å¯è¿­ä»£åè®®å®ç°æ¥å£å¯ä»¥ç»§æ‰¿
class FooArray extends Array {}
const foo = new FooArray([1, 2, 3]);
console.log(foo[Symbol.iterator]);
for (const item of foo) {
  console.log(item);
}
// æ‰“å°ç»“æœ
[Function: values]
[ 1, 2, 3 ]</code></pre></li></ul><h2 id="1d34fd59-4791-4860-9e84-67ce0edc702f" class="">2.2.2 è¿­ä»£å™¨åè®®ï¼ˆThe iterator protocolï¼‰</h2><ul id="155e7006-9fde-49a7-9205-84a56b8f0967" class="bulleted-list"><li style="list-style-type:disc">è¿­ä»£å™¨åè®®å®šä¹‰äº†ä¸€ä¸ªæ ‡å‡†çš„æ–¹æ³•ç”¨äºäº§ç”Ÿä¸€ç³»åˆ—çš„å€¼ï¼ˆæœ‰é™æˆ–æ— é™ï¼‰ï¼Œå¹¶ä¸”å½“ï¼ˆå…³è”çš„å¯è¿­ä»£å¯¹è±¡ï¼‰çš„æ‰€æœ‰å€¼éƒ½è¢«ç”Ÿæˆäº†ï¼Œä»ç„¶ä¼šç»§ç»­è¿”å›å€¼ï¼ˆundefinedï¼‰</li></ul><h3 id="357f86d2-2251-4389-8f2f-a6218fd5863a" class="">2.2.2.1 è¿­ä»£å™¨</h3><ul id="3406cb28-04a8-4e62-ba13-d8814384b8a0" class="bulleted-list"><li style="list-style-type:disc">è¿­ä»£å™¨æ˜¯ä¸€ç§ä¸€æ¬¡æ€§ä½¿ç”¨çš„å¯¹è±¡ï¼Œç”¨äºè¿­ä»£ä¸å…¶å…³è”çš„å¯è¿­ä»£å¯¹è±¡ï¼Œ<a href="2%20%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F.html">æ¶ˆè´¹</a>ï¼ˆconsumeï¼‰å…¶ä¸­çš„å…ƒç´ </li></ul><ul id="d6adc6cd-86c7-4833-9627-3d11ab865301" class="bulleted-list"><li style="list-style-type:disc">è¿­ä»£å™¨å®ç°äº†<code>next()</code>æ–¹æ³•ç”¨äºåœ¨å¯è¿­ä»£å¯¹è±¡éå†æ•°æ®</li></ul><ol type="1" id="4069edad-ab8b-4ae6-a8f6-c8e18f5953d3" class="numbered-list" start="1"><li><strong><code>Iterator.prototype.next()</code></strong><strong> è¯­æ³•</strong><pre id="44e2cf8e-75f1-4260-b30a-e19e7a9a285c" class="code"><code>const iterator = iterableObject[Symbol.iterator]();
const iteratorResult = iterator.next();</code></pre><ul id="97144633-0ffd-461e-ad9c-58f3437c11a0" class="bulleted-list"><li style="list-style-type:disc">å‚æ•°ï¼šæ¥å—0ä¸ªæˆ–ä¸€ä¸ªå‚æ•°ï¼ˆ<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols">mdn</a>çš„è¯´æ³•ï¼‰</li></ul><ul id="39128286-3f46-4e48-9a96-52df09019939" class="bulleted-list"><li style="list-style-type:disc">è¿”å›å€¼ï¼šè¿”å›ä¸€ä¸ª<code>IteratorResult </code>æ¥å£å¯¹è±¡ï¼ˆobjectï¼‰ï¼Œå®ƒåŒ…å«å¦‚ä¸‹ä¸¤ä¸ªå±æ€§<ul id="f3ee760f-0821-4014-8a9d-3773fb71856d" class="bulleted-list"><li style="list-style-type:circle"><code>done</code> å¯é€‰å±æ€§ï¼Œå¸ƒå°”å€¼<ul id="dc4b8e9d-e6f1-4b6c-8bc7-9fd6675e99b3" class="bulleted-list"><li style="list-style-type:square">å¦‚æœæ˜¯<code>false</code>è¡¨ç¤ºè¿­ä»£å™¨èƒ½åœ¨å¯è¿­ä»£å¯¹è±¡åºåˆ—ä¸­äº§ç”Ÿä¸‹ä¸€ä¸ªå€¼ï¼Œå®Œå…¨ç­‰æ•ˆäºä¸æŒ‡å®š<code>done</code>å±æ€§</li></ul><ul id="ee2f1ebe-7de4-4281-8cf3-c7206d8d03fa" class="bulleted-list"><li style="list-style-type:square">å¦‚æœæ˜¯<code>true</code> è¡¨ç¤ºè¿­ä»£å™¨å·²ç»æ¶ˆè´¹å®Œäº†å®ƒå…³è”çš„å¯è¿­ä»£å¯¹è±¡çš„åºåˆ—ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œ<code>value</code> å±æ€§å¯ä»¥ä¸è¢«æŒ‡å®š</li></ul></li></ul><ul id="79898d58-b9c1-4196-a17f-5067126f7ce4" class="bulleted-list"><li style="list-style-type:circle"><code>value</code> å¯é€‰å±æ€§ï¼Œç±»å‹ç”±è¿­ä»£å™¨å…³è”çš„å¯è¿­ä»£å¯¹è±¡çš„åºåˆ—ä¸­çš„å…ƒç´ ç±»å‹å†³å®š<ul id="2e740d3d-95b2-43ff-bf38-a5b0b00afb6f" class="bulleted-list"><li style="list-style-type:square">è¿­ä»£å™¨åœ¨å®ƒå…³è”çš„å¯è¿­ä»£å¯¹è±¡çš„åºåˆ—ä¸­â€æ¶ˆè´¹â€œçš„ä¸€ä¸ªå€¼</li></ul><ul id="c7317d24-082b-4825-9862-ce264379a42c" class="bulleted-list"><li style="list-style-type:square">å½“å±æ€§<code>done</code> æ˜¯<code>true</code> æ—¶ï¼Œ<code>value</code> å±æ€§å¯è¢«çœç•¥</li></ul></li></ul><hr id="2c0a504a-bc9a-4839-9e59-53b15dc8a612"/><ul id="ceaf09a7-191e-47c8-a888-bac47eea7d3f" class="bulleted-list"><li style="list-style-type:circle">è¿™ä¸¤ä¸ªå±æ€§å¹¶éæ˜¯ä¸å…³ç³»ï¼ˆè‡³å°‘æœ‰ä¸€ä¸ªï¼‰ï¼Œå³å¯ä»¥éƒ½æ²¡æœ‰ï¼Œéƒ½æ²¡æœ‰æ—¶ç­‰ä»·äº<code>{done: false, value: undefined}</code> ï¼Œè¡¨ç¤ºè¿­ä»£å™¨å…³è”çš„å¯è¿­ä»£å¯¹è±¡çš„åºåˆ—å…ƒç´ ä¸ºundefinedï¼Œä¸”è¿˜æœ‰ä¸‹ä¸€ä¸ªå…ƒç´ å¯æ¶ˆè´¹</li></ul><ul id="66b97c54-7479-4973-b74b-5a624d95b4b1" class="bulleted-list"><li style="list-style-type:circle">å½“<code>done:true</code> æ—¶ï¼Œä»ç„¶å¯ä»¥æ‰§è¡Œ<code>next()</code> ï¼Œåªä¸è¿‡ä¸‹ä¸€ä¸ª<code>IteratorResult</code> çš„<code>done</code> ä¸€å®šæ—¶<code>true</code>ï¼Œä¸”å·²ç»æ²¡æœ‰å¯ç”¨çš„<code>value</code>äº†</li></ul><ul id="2d457f57-24c4-49f2-b4b6-2ad7e066cf4a" class="bulleted-list"><li style="list-style-type:circle">æ³¨æ„ï¼Œå¯è¿­ä»£å¯¹è±¡çš„åºåˆ—ä¸­æœ€åä¸€ä¸ªå…ƒç´ å€¼æ‰€åœ¨çš„<code>IteratorResult</code> çš„<code>done</code> åº”è¯¥æ˜¯<code>false</code></li></ul></li></ul><ul id="90143b97-81f4-44dd-bd1c-2c3af1cfbb27" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å­<pre id="f40d81bf-87c6-47d6-ae14-0e4169da635c" class="code"><code>const arr = {
  [Symbol.iterator]: function* (value) {
    yield value + 1;
    yield value + 2;
    yield value + 3;
  },
};
const iterator = arr[Symbol.iterator](2);
console.log(iterator.next()); // { value: 3, done: false }
console.log(iterator.next()); // { value: 4, done: false }
console.log(iterator.next()); // { value: 5, done: false }
console.log(iterator.next()); // { value: undefined, done: true }
console.log(iterator.next()); // { value: undefined, done: true }</code></pre><ul id="2888bd46-d9b8-4372-9f12-dba87e4408f8" class="bulleted-list"><li style="list-style-type:circle">è¿­ä»£å™¨çš„<code>next()</code> æ–¹æ³•å°†è·å–å…³è”çš„å¯è¿­ä»£å¯¹è±¡çš„åºåˆ—çš„ä¸‹ä¸€ä¸ªå€¼ï¼Œå¹¶æ ¹æ®<code>done</code>åˆ¤æ–­æ˜¯å¦è¿­ä»£å®Œæ¯•</li></ul></li></ul><ul id="bf4748a1-a895-431a-91ca-eaac7837788f" class="bulleted-list"><li style="list-style-type:disc">å¯¹äºå¼€å‘è€…è€Œè¨€ï¼Œè¿­ä»£å™¨å¥½ç”¨çš„åŸå› åœ¨äº<ul id="851b3737-93de-40f9-8fe1-9175e00ddd25" class="bulleted-list"><li style="list-style-type:circle">è·å–å€¼çš„æ–¹å¼å’Œä»€ä¹ˆæ—¶å€™è¿­ä»£å®Œæ¯•éƒ½ä¸æ˜¯å¼€å‘è€…éœ€è¦è€ƒè™‘çš„é—®é¢˜ï¼Œè¿­ä»£å™¨å¾ˆå¥½çš„åŒ…è£…äº†è¿™äº›åŠŸèƒ½ä½¿å¾—è¿­ä»£æ›´åŠ æ–¹ä¾¿</li></ul><ul id="b2ee39f7-c2a2-4669-8407-c52885aca400" class="bulleted-list"><li style="list-style-type:circle">æ¯ä¸ªè¿­ä»£å™¨äº’ç›¸ç‹¬ç«‹ï¼Œéƒ½è¡¨ç¤ºä¸€æ¬¡æ€§çš„æœ‰åºéå†ï¼Œå¼€å‘è€…éœ€è¦è¿­ä»£æ—¶ä»å¯è¿­ä»£å¯¹è±¡çš„å·¥å‚å‡½æ•°è·å–ä¸€ä¸ªè¿­ä»£å™¨å³å¯</li></ul><ul id="fc5e2ba1-a272-498b-8928-f94bc9e726f5" class="bulleted-list"><li style="list-style-type:circle"><strong>è¿­ä»£å™¨ä¸ä¸æŸä¸ªæ—¶åˆ»çš„å¿«ç…§ç»‘å®š</strong>ï¼Œä»…ä»…ä½¿ç”¨<strong>æ¸¸æ ‡</strong>è®°å½•å¯è¿­ä»£å¯¹è±¡çš„å†ç¨‹â‡’<strong> </strong>å½“è¿­ä»£å™¨å…³è”çš„å¯è¿­ä»£å¯¹è±¡åœ¨è¿­ä»£æœŸé—´è¢«ä¿®æ”¹ï¼Œè¿­ä»£å™¨ä¹Ÿä¼šæœ‰ç›¸åº”çš„å˜åŒ–ï¼Œä¾‹å¦‚<pre id="373c906d-dff4-4530-871e-1a3a17c7d839" class="code"><code>const a = [1, 2, 3, 4];
const iterator2 = a.values();
console.log(iterator2.next()); // { value: 1, done: false }
// ä¿®æ”¹è¿­ä»£å™¨å…³è”çš„å¯è¿­ä»£æ•°ç»„çš„å…ƒç´ 
a.splice(0, 2, 5, 6); // åˆ é™¤ä¸¤ä¸ªå…ƒç´ ç„¶åæ·»åŠ  5 6
console.log(iterator2.next()); // { value: 6, done: false }
console.log(iterator2.next()); // { value: 3, done: false }</code></pre><ul id="be59aa7a-0aed-4e65-ae01-e72962d60413" class="bulleted-list"><li style="list-style-type:square">å¯¹äºæ•°ç»„è€Œè¨€ï¼Œ<strong>æ¸¸æ ‡</strong>å°±æ˜¯è¿­ä»£è®°å½•çš„æ•°ç»„<strong>ç´¢å¼•</strong></li></ul><ul id="fdbde500-f726-4912-b573-86f9c84b0217" class="bulleted-list"><li style="list-style-type:square">åˆå§‹æ—¶ <code>[1,2,3,4]</code> è¿­ä»£å™¨è°ƒç”¨ä¸€æ¬¡<code>next()</code> ,è¿­ä»£æ¸¸æ ‡ä¸ºæ•°ç»„ç´¢å¼• <strong>1</strong></li></ul><ul id="4be63c5f-0287-4286-b4b7-62713e60613e" class="bulleted-list"><li style="list-style-type:square">è°ƒç”¨<code>splice()</code> å¯¹è¢«å…³è”çš„å¯¹è±¡è¿›è¡Œä¿®æ”¹ï¼Œæœ€ç»ˆä¿®æ”¹ä¸º <code>[5,6,3,4]</code></li></ul><ul id="9fff1608-e7e0-490f-a8bc-8db285b661b5" class="bulleted-list"><li style="list-style-type:square">å†æ¬¡è°ƒç”¨<code>next()</code> ï¼Œè™½ç„¶æ•°ç»„ä¸­å…ƒç´ æ”¹å˜äº†ï¼Œä½†æ˜¯æ¸¸æ ‡æŒ‡å‘çš„å…ƒç´ ä»ç„¶å­˜åœ¨ï¼Œæ‰€ä»¥è·å–åˆ°è¿­ä»£å€¼ä¸º6ï¼Œè¿­ä»£æ¸¸æ ‡è®°å½•æ•°ç»„ç´¢å¼•2</li></ul></li></ul></li></ul><ul id="9f672b52-d1a4-4db5-be49-fcf24ca20084" class="bulleted-list"><li style="list-style-type:disc">å³ä½¿è¿­ä»£å™¨å…³è”çš„å¯è¿­ä»£å¯¹è±¡è¢«èµ‹å€¼ä¸ºå…¶ä»–å¯¹è±¡æˆ–æ•°æ®ï¼Œä½†æ˜¯è¿­ä»£å™¨ä»ç„¶æœ‰æ•ˆï¼Œå› ä¸ºè¿­ä»£å™¨ç»´æŠ¤ç€ä¸€ä¸ªæŒ‡å‘å¯è¿­ä»£å¯¹è±¡çš„å¼•ç”¨ï¼Œå®ƒä¼šé˜»æ­¢åƒåœ¾å›æ”¶ç¨‹åºå›æ”¶å¯è¿­ä»£å¯¹è±¡ï¼Œä¾‹å¦‚ä¸Šè¿°ä¾‹å­å°†<code><strong>a</strong></code>æ•°ç»„è®¾ç½®ä¸º<code>let</code> å˜é‡ï¼Œä¿®æ”¹å®ƒçš„å€¼ï¼Œç»§ç»­ä½¿ç”¨<code>iterator2</code>è¿­ä»£å™¨è¿›è¡Œè¿­ä»£<pre id="063d1884-43dd-46d0-9507-9ac904ebc726" class="code"><code>let a = [1, 2, 3, 4];
const iterator2 = a.values();
console.log(iterator2.next()); // { value: 1, done: false }
// ä¿®æ”¹è¿­ä»£å™¨å…³è”çš„å¯è¿­ä»£æ•°ç»„çš„å…ƒç´ 
a.splice(0, 2, 5, 6);
console.log(iterator2.next());// { value: 6, done: false }
console.log(iterator2.next());// { value: 3, done: false }
a = [9, 9, 9, 9, 9];
console.log(iterator2.next()); // { value: 4, done: false }
console.log(iterator2.next()); // { value: undefined, done: true }</code></pre><ul id="a6bbcace-a1ea-4a4f-8364-362d3615307d" class="bulleted-list"><li style="list-style-type:circle">å°†aä¿®æ”¹ä¸ºå¦ä¸€ä¸ªæ•°ç»„åï¼Œè¿­ä»£å™¨<code>iterator2</code> æ¶ˆè´¹çš„å…ƒç´ ä»ç„¶æ˜¯è¢«ä¿®æ”¹å‰çš„æ•°ç»„</li></ul><ul id="d04d1083-db75-4261-9298-a055ac77a708" class="bulleted-list"><li style="list-style-type:circle">è¿™å°±æ˜¯å› ä¸ºè¿­ä»£å™¨ç»´æŠ¤ç€ä¸€ä¸ªæŒ‡å‘å¯è¿­ä»£å¯¹è±¡çš„å¼•ç”¨</li></ul></li></ul><ol type="1" id="c1a86ec9-5c50-4219-a281-ef33085e3837" class="numbered-list" start="2"><li><code>Iterator.prototype.return()</code> <ul id="5cfa8311-3f73-4443-b82b-462ba4913fad" class="bulleted-list"><li style="list-style-type:disc">è¿­ä»£å™¨å®ç°çš„å¦ä¸€ä¸ªæ–¹æ³•ï¼Œæ¥å—ä¸€ä¸ªå¯é€‰å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ª<code>IteratorResult</code> ï¼›è°ƒç”¨è¿™ä¸ªæ–¹æ³•å°±æ˜¯å‘Šè¯‰è¿­ä»£å™¨<strong>è°ƒç”¨è€…ä¸æ‰“ç®—å†è¿›è¡Œ</strong><code><strong>next()</strong></code><strong>è°ƒç”¨</strong>ï¼Œå¯ä»¥æ‰§è¡Œä»»ä½•<strong>æ¸…ç†ï¼ˆcleanupï¼‰</strong>æ“ä½œ</li></ul><ul id="a835fab2-3364-45ab-b30a-32428298ad92" class="bulleted-list"><li style="list-style-type:disc">è¯­æ³•<pre id="2840ef98-a1aa-4239-b41a-fb219fbf1717" class="code"><code>iterator.next(value)</code></pre><ul id="4c7c2e57-f2c9-49ac-8855-1ad0601f518d" class="bulleted-list"><li style="list-style-type:circle">å‚æ•°ï¼š<code>value</code>ï¼Œå¯é€‰ï¼Œé€šå¸¸ä½œä¸ºè¿”å›å€¼ä¸­çš„valueå€¼</li></ul><ul id="4345c63e-97e6-4a9e-9771-303128a56b26" class="bulleted-list"><li style="list-style-type:circle">è¿”å›å€¼ï¼š<code>IteratorResult</code> æ¥å£ç±»å‹çš„å¯¹è±¡ï¼Œ<code>value</code> ä¸ºä¼ å…¥çš„å€¼ï¼Œ<code>done</code>ä¸º<code>true</code></li></ul></li></ul><ul id="f2229ac3-e871-4bcc-99d3-53b5a212e23e" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å­<pre id="0d967a27-f1b4-4da6-b82c-4d2df073657f" class="code"><code>// return æ–¹æ³•
const obj = {
  [Symbol.iterator](start = 0, end = 3) {
    let i = start;
    return {
      next() {
        i++;
        if (i &gt; end) return { done: true, value: undefined };
        return { done: false, value: i };
      },
      return(value) {
        console.log(&quot;Closing&quot;);
        return { done: true, value };
      },
    };
  },
};
const [b] = obj; // è§£æ„è¯­æ³•
console.log(b);
const [c, d, e] = obj; // è§£æ„è¯­æ³•
console.log(c, d, e, f);
const iterator3 = obj[Symbol.iterator]();
console.log(iterator3.next());
console.log(iterator3.next());
console.log(iterator3.next());
console.log(iterator3.next());
console.log(iterator3.next());

for (const item of obj) {
  console.log(item);
}
for (const item of obj) {
  console.log(item);
  break;
}
// æ‰“å°
Closing
1
1 2 3 undefined
{ done: false, value: 1 }
{ done: false, value: 2 }
{ done: false, value: 3 }
{ done: true, value: undefined }
{ done: true, value: undefined }
1
2
3
1
Closing</code></pre><ul id="8d311af2-fb94-45f9-86c6-93ebe984699c" class="bulleted-list"><li style="list-style-type:circle">è‡ªå®šä¹‰äº†ä¸€ä¸ªè¿­ä»£å™¨å·¥å‚å‡½æ•°ï¼Œå½“è°ƒç”¨<code>return</code> æ—¶ï¼ŒæŒ‰ç…§è¿­ä»£å™¨åè®®çš„è¯­æ³•ç»™å‡ºäº†ç›¸åº”çš„å®ç°</li></ul><ul id="40c72b7c-dce5-4b65-a971-818b2a9cad3c" class="bulleted-list"><li style="list-style-type:circle">è§‚å¯Ÿæ‰“å°å¯ä»¥å‘ç°<ul id="1c51a898-556b-4b21-b8f1-94d2b2a2cd35" class="bulleted-list"><li style="list-style-type:square">å¯ä»¥ä½¿ç”¨è§£æ„è¯­æ³•è·å–è¿­ä»£å€¼ï¼Œå› ä¸º<code>obj</code> å®šä¹‰çš„å·¥å‚å‡½æ•°è¿”å›çš„è¿­ä»£å™¨åœ¨<code>value &gt; 3</code> æ—¶å°±è¿”å›<code>done: true</code> è¡¨ç¤ºå·²è¿­ä»£å®Œæ¯•ï¼Œæ‰€ä»¥åªèƒ½è·å–ä¸‰ä¸ªè¿­ä»£å…ƒç´ </li></ul><ul id="3c0c6baa-f0b2-4846-8c3b-9fd01821a05d" class="bulleted-list"><li style="list-style-type:square"><code>Closing</code> æ˜¯ <code>return()</code> å‡½æ•°æ‰“å°çš„ï¼Œåªåœ¨<code>const [b] = obj;</code> å’Œ <code>break;</code> æ‰“å°äº†ä¸¤æ¬¡<ul id="30adae9c-f0e4-4279-b97f-41d14635f9f5" class="bulleted-list"><li style="list-style-type:disc">è§£æ„è¯­æ³•ä¹Ÿä¼šéšå¼çš„è°ƒç”¨å·¥å‚å‡½æ•°è·å–è¿­ä»£å™¨ç„¶åè¿›è¡Œ<code>next()</code> è¿­ä»£</li></ul><ul id="22b7ab9f-317e-4566-9f07-91c2e246679e" class="bulleted-list"><li style="list-style-type:disc"><code>const [b] = obj;</code> åªè¿­ä»£ä¸€æ¬¡è·å–ä¸€ä¸ªå€¼ï¼Œæ­¤æ—¶ä¸ä¼šè°ƒç”¨<code>next()</code> ä½† <code>done</code> çŠ¶æ€ä¸º<code>false</code> ï¼Œæ‰€ä»¥éœ€è¦è°ƒç”¨ä¸€æ¬¡<code>return()</code> è·å–<code>done</code> çŠ¶æ€ä¸º<code>true</code> ï¼Œè¡¨ç¤ºè¯¥è¿­ä»£å™¨åº”è¯¥è¢«æ¸…ç†äº†</li></ul><ul id="6becd97f-e3d2-416e-b7c2-6ebf2b730744" class="bulleted-list"><li style="list-style-type:disc"><code>const [c,d,e,f] = obj;</code> æ²¡æœ‰æ‰“å°<code>Closing</code> æ˜¯å› ä¸ºè°ƒç”¨äº†å››æ¬¡<code>next()</code> å³ç¬¬å››æ¬¡è°ƒç”¨æ—¶ï¼Œ<code>done</code> çŠ¶æ€ä¸º<code>true</code> æ‰€ä»¥<code>f</code>å¯ä»¥ç›´æ¥è®¾ç½®ä¸º<code>undefined</code> ä¸ç”¨å†è°ƒç”¨<code>return</code> ï¼Œå› ä¸ºè¿­ä»£å™¨å·²è¢«æ¶ˆè´¹å®Œï¼Œä¼šè¢«è‡ªåŠ¨æ¸…ç†</li></ul><ul id="ccf42677-8bba-423b-887e-e7876f686dd8" class="bulleted-list"><li style="list-style-type:disc">ç¬¬ä¸€ä¸ª<code>forâ€¦ of</code> å¾ªç¯è·å–äº†<code>obj</code> çš„è¿­ä»£å™¨åï¼Œè°ƒç”¨äº†å››æ¬¡<code>next()</code> ,<code>done</code> çŠ¶æ€ä¸º<code>true</code> è¾“å‡ºä¸‰ä¸ªå€¼ï¼Œä¸å†è°ƒç”¨<code>return</code></li></ul><ul id="e30e991c-4a88-4ec1-a382-b3eb721fc8b2" class="bulleted-list"><li style="list-style-type:disc">ç¬¬äºŒä¸ª<code>forâ€¦of</code> å¾ªç¯è·å–<code>obj</code> çš„è¿­ä»£å™¨åï¼Œå› ä¸º<code>break</code> è¯­å¥ï¼Œåªè°ƒç”¨äº†ä¸€æ¬¡<code>next()</code> ,<code>done</code> çŠ¶æ€ä¸º<code>false</code> ,éœ€è¦è°ƒç”¨<code>return</code> è®©<code>done</code> ä¸º<code>true</code> ï¼Œæ‰€ä»¥æ‰“å°äº†ä¸€ä¸ª<code>Closing</code></li></ul></li></ul></li></ul></li></ul></li></ol><ol type="1" id="2179ec3b-ae75-4d41-9998-3e0f206f0966" class="numbered-list" start="3"><li><code>Iterator.prototype.throw()</code> <ul id="d2f7361a-4844-4798-b4a5-e54f6564fc40" class="bulleted-list"><li style="list-style-type:disc">è¿­ä»£å™¨æŠ›å‡ºé”™è¯¯çš„æ–¹æ³•ï¼Œè°ƒç”¨è¿™ä¸ªæ–¹æ³•å‘Šè¯‰è¿­ä»£å™¨è°ƒç”¨è€…æ£€æŸ¥åˆ°ä¸€ä¸ªé”™è¯¯æ¡ä»¶</li></ul><ul id="c91c531f-d4a0-4dcb-b461-aae604c5e345" class="bulleted-list"><li style="list-style-type:disc">è¯­æ³•<pre id="0f11cb29-92fe-45d7-ae54-9aa4e8a2d484" class="code"><code>const iteratorResult = iterator.throw(exception);</code></pre><ul id="0f2b3476-e1b7-41af-85d9-1a288693360a" class="bulleted-list"><li style="list-style-type:circle">å‚æ•° <code>exception</code> æ˜¯ä¸€ä¸ª<code>Error</code> å®ä¾‹ï¼Œè¯´æ˜é”™è¯¯ä¿¡æ¯</li></ul><ul id="eb6b7136-2dc8-4fd0-8323-649a4b605b1a" class="bulleted-list"><li style="list-style-type:circle">è¿”å›å€¼ <code>IteratorResult</code> æ¥å£å®ä¾‹ï¼Œ<code>done</code> å±æ€§ä¸º<code>true</code></li></ul></li></ul><ul id="c8897d0d-16e5-4f8c-941a-abec81c9ce4a" class="bulleted-list"><li style="list-style-type:disc">å®é™…ä¸Š<code>throw()</code> æ–¹æ³•ä¸€èˆ¬ä¼šåœ¨<code>next()</code> è°ƒç”¨åæ£€æŸ¥è¿”å›ç»“æœæ˜¯å¦ç¬¦åˆè¿­ä»£å™¨åè®®æ‰è¢«<strong>æ‰‹åŠ¨</strong>è°ƒç”¨<ul id="63b329fc-6d8d-4070-9486-0774baaa4bed" class="bulleted-list"><li style="list-style-type:circle"><code>next()</code> æ–¹æ³•ä¸€èˆ¬ä¸ä¼šæŠ¥é”™ï¼Œåªæœ‰å½“<strong>éšå¼è°ƒç”¨</strong>å®ƒçš„è¯­å¥å‘ç°å…¶è¿”å›ç»“æœæœ‰é—®é¢˜åï¼Œè°ƒç”¨è¯­å¥ä¼šæŠ›å‡ºé”™è¯¯ï¼Œä½†æ˜¯è°ƒç”¨è¯­å¥ä¸ä¼šåƒ<code>return()</code> ä¸€æ ·è°ƒç”¨<code>throw()</code>ï¼Œè€Œæ˜¯ç›´æ¥æŠ›å‡ºç±»å‹é”™è¯¯</li></ul><ul id="4f9a732c-9525-4c7b-9036-40e656e3c382" class="bulleted-list"><li style="list-style-type:circle">å½“<strong>æ˜¾ç¤ºä½¿ç”¨</strong>è¿­ä»£å™¨è°ƒç”¨<code>next()</code> ï¼Œéœ€è¦å¼€å‘è€…è‡ªè¡Œæ£€æµ‹è¿”å›å€¼æ˜¯å¦ç¬¦åˆæ¡ä»¶ï¼Œç„¶åä¸»åŠ¨è°ƒç”¨<code>throw()</code></li></ul></li></ul><ul id="3d2ba97c-dff2-48cc-b915-d1c27b5a4285" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å­<pre id="ca3ae71f-33cc-4f99-b79b-9c2d3a85e7b7" class="code code-wrap"><code>// throwæ–¹æ³•
const obj2 = {
  [Symbol.iterator](start = 0, end = 3) {
    let i = start;
    return {
      next() {
        i++;
        if (i &lt; end) return { done: false, value: i };
        return 1;
      },
      return(value) {
        console.log(&quot;Closing&quot;);
        return { done: true, value };
      },
      throw(error = &quot;ç»“æœä¸æ˜¯å¯¹è±¡&quot;) {
        throw new TypeError(error);
      },
    };
  },
};

try {
  for (const item of obj2) {
    console.log(item); // 1 2
  }
} catch (error) {
  console.log(error.message); // Iterator result 1 is not an object
}
const iterator4 = obj2[Symbol.iterator]();
console.log(iterator4.next()); // { done: false, value: 1 }
console.log(iterator4.next()); // { done: false, value: 2 }
const next = iterator4.next();
if (next.done == undefined) {
  iterator4.throw(); // throw new TypeError(error);
        ^
// TypeError: ç»“æœä¸æ˜¯å¯¹è±¡
}</code></pre><ul id="dc58d830-edb5-4de3-861d-fc009f647da1" class="bulleted-list"><li style="list-style-type:circle">ä½¿ç”¨<code>forâ€¦of</code> éå†<code>obj2</code> æ—¶ï¼Œå› ä¸ºç¬¬ä¸‰ä¸ªç»“æœè¿”å›çš„æ˜¯åŸå§‹æ•°æ®ç±»å‹<code>1</code> ï¼Œæ‰€ä»¥å¾ªç¯è¯­å¥ç›´æ¥æŠ¥é”™ï¼Œæ‰“å°<code>Iterator result 1 is not an object</code></li></ul><ul id="34726aa4-bbbd-4bd9-83cd-c4e143a1057e" class="bulleted-list"><li style="list-style-type:circle">åé¢æ˜¾ç¤ºä½¿ç”¨è¿­ä»£å™¨è°ƒç”¨<code>next()</code>ï¼Œåˆ¤æ–­å…¶è¿”å›å€¼æ˜¯å¦ç¬¦åˆ<code>IteratorResult</code> ç„¶åæ‰‹åŠ¨è°ƒç”¨<code>throw()</code> æŠ›å‡ºé”™è¯¯</li></ul></li></ul></li></ol></li></ol><hr id="eeacdc2e-9912-459f-9aad-0a3fc6a932e4"/><p id="ecd1471d-5926-4df8-81d7-290dfcee6d4f" class=""><strong>æ³¨æ„</strong></p><ul id="946f4a9a-d4c3-4135-8aab-88d6596c26b1" class="bulleted-list"><li style="list-style-type:disc">ä¸Šè¿°çš„<code>return()</code> å’Œ<code>throw()</code> éƒ½æ˜¯å¯é€‰å®ç°çš„æ–¹æ³•ï¼Œå®ç°è¿­ä»£å™¨åè®®è‡³å°‘è¦å®Œæˆå¯¹<code>next()</code> æ–¹æ³•çš„å®ç°</li></ul><ul id="71f0d598-360b-46e4-b504-a95737366a88" class="bulleted-list"><li style="list-style-type:disc">ä¸Šè¿°è‡ªå®šä¹‰<code>next()</code> çš„æ–¹å¼å±äº<strong>æ˜¾å¼çš„è¿­ä»£å™¨</strong>å®ç°ï¼Œä¸ä¹‹å¯¹åº”çš„æ˜¯<strong>åŸç”Ÿçš„è¿­ä»£å™¨</strong>å®ç°ï¼ˆä¾‹å¦‚æ•°ç»„ï¼Œ<code>Set</code> çš„è¿­ä»£å™¨ï¼‰</li></ul><h1 id="f8e0fba6-0df2-4c56-b1e0-b9a0eb396aee" class="">2.3 è‡ªå®šä¹‰è¿­ä»£å™¨</h1><ul id="618c1330-5063-4921-9b74-fa02326f7ff9" class="bulleted-list"><li style="list-style-type:disc"><strong>è‡ªå®šä¹‰è¿­ä»£å™¨</strong>æŒ‡é€šè¿‡å®ç°<strong>è¿­ä»£å™¨åè®®ï¼ˆIteratoræ¥å£ï¼‰</strong>ä½¿å¾—å¯¹è±¡å¯ä½œä¸ºè¿­ä»£å™¨ä½¿ç”¨ï¼Œå³å®ç°ä¸ŠèŠ‚çš„<code>next(), return()</code> ç­‰æ–¹æ³•</li></ul><ul id="92db2c85-6776-4d16-96b9-37fe6147f821" class="bulleted-list"><li style="list-style-type:disc">ä¸å®ç°<strong>å¯è¿­ä»£åè®®ï¼ˆIterableæ¥å£ï¼‰</strong>ä¸€æ ·ï¼Œå®ç°<strong>Iteratoræ¥å£</strong>ä¸­çš„<code>next()</code> æ–¹æ³•å°±èƒ½ç›´æ¥ä¿è¯å¯¹è±¡å¯ä½œä¸ºè¿­ä»£å™¨ä½¿ç”¨</li></ul><h2 id="74a3d6d8-6803-443e-b868-3066f306ae14" class="">2.3.1 ç®€å•æœ‰ç¼ºé™·çš„å®ç°</h2><ul id="51626b42-74ba-4bfc-a618-5e4d09dea7e1" class="bulleted-list"><li style="list-style-type:disc">ä¸€èˆ¬å¯ä»¥å°†è¿­ä»£å™¨ç¬¦å·å±æ€§ç›´æ¥è¿”å›å¯¹è±¡æœ¬èº«ï¼ˆ<code>this</code>ï¼‰ï¼Œç„¶åå®ç°å®ä¾‹æ–¹æ³•<code>next()</code>ç­‰</li></ul><ul id="51b03661-baea-49db-856f-64c5fdbb766a" class="bulleted-list"><li style="list-style-type:disc">è¿™ç§æ–¹å¼å°†<strong>å¯¹è±¡æœ¬èº«å½“ä½œäº†è¿­ä»£å™¨</strong>ï¼Œæ²¡æœ‰æ„é€ æ–°çš„è¿­ä»£å™¨å¯¹è±¡</li></ul><ul id="2147f1b2-ea35-49ec-8f12-a9bddae73269" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å¦‚<pre id="4956b681-aa94-42c6-8263-e71f1ac33e8d" class="code code-wrap"><code>class Foo {
  constructor(limit) {
    this.limit = limit;
    this.count = 0;
  }
  next() {
    if (this.count &lt; this.limit) {
      return { done: false, value: this.count++ };
    } else {
      return { done: true, value: undefined };
    }
  }
  [Symbol.iterator]() {
    return this;
  }
}</code></pre></li></ul><ul id="265494e6-c125-4739-a2c9-f133783db5a0" class="bulleted-list"><li style="list-style-type:disc">è¿™ç§è¿­ä»£å™¨çš„å®ç°æ–¹å¼çš„ç¼ºé™·åœ¨äºï¼Œ<code>count</code>ä½œä¸ºå®ä¾‹çš„å±æ€§ï¼Œæ”¹å˜ä¹‹åå°±ä¸å¯æ¢å¤ï¼Œåœ¨è°ƒç”¨æœ‰é™æ¬¡çš„<code>next()</code> åï¼Œ<code>count</code> ä¼šè¶…è¿‡<code>limit</code> çš„å€¼ï¼Œä¹‹åå†æ€ä¹ˆè°ƒç”¨éƒ½ä¼šè¿”å›<code>{done:true, value: undefined}</code> </li></ul><ul id="273387e7-52ae-4f34-8205-76279806510f" class="bulleted-list"><li style="list-style-type:disc">å¦‚ä¸‹è°ƒç”¨<pre id="c1df85be-78d2-4416-a18d-ccd0137380f8" class="code code-wrap"><code>const foo = new Foo(5);
for (const item of foo) {
  console.log(item); // 0 - 4
}
for (const item of foo) {
  console.log(item);
}</code></pre><ul id="076ea6ba-c03f-4b08-b7ba-7c17a54b7035" class="bulleted-list"><li style="list-style-type:circle">ç¬¬äºŒä¸ªforå¾ªç¯ä¸ä¼šæ‰“å°ä»»ä½•å€¼ï¼Œ è¿™ç§ç®€å•å®ç°åªä¼šè¢«è¿­ä»£ä¸€æ¬¡</li></ul></li></ul><h2 id="cfbbc81e-cad7-4bc5-b5ff-e6f3c1137708" class="">2.3.2 é—­åŒ…å®ç°</h2><ul id="a59ddf3a-be54-4bdd-ba27-d8bd3141946a" class="bulleted-list"><li style="list-style-type:disc">ä¸ºäº†è®©æ¯ä¸ªå¯è¿­ä»£å¯¹è±¡åˆ›å»ºå¤šä¸ªè¿­ä»£å™¨ï¼Œå°±åƒåœ¨è¿­ä»£å™¨åè®®ä¸­ä¸¾å¾—ä¾‹å­ä¸€æ ·<ul id="80eaea1d-642d-428c-82cf-2fc3a864e762" class="bulleted-list"><li style="list-style-type:circle">æ¯æ¬¡è¿­ä»£éƒ½æ–°å»ºä¸€ä¸ªè¿­ä»£å™¨</li></ul><ul id="5f71fac1-94b9-4302-ac2d-615e81c08679" class="bulleted-list"><li style="list-style-type:circle">æŠŠè¿­ä»£åˆå§‹å€¼ï¼ˆè®¡æ•°å™¨ï¼‰å˜é‡æ”¾åˆ°é—­åŒ…(<strong>closure</strong>)ä¸­</li></ul><ul id="6071a044-70b5-4ba3-be95-ac817efa85d1" class="bulleted-list"><li style="list-style-type:circle">ç„¶åé€šè¿‡é—­åŒ…(<strong>closure</strong>)è¿”å›è¿­ä»£å™¨</li></ul></li></ul><ul id="814174f8-698d-4dc8-b79a-5e5fe24a9b81" class="bulleted-list"><li style="list-style-type:disc">å®ç°å¦‚ä¸‹<pre id="cf389632-dd94-47a3-ab16-8f2dbeae082f" class="code code-wrap"><code>class Counter {
  constructor(limit) {
    this.limit = limit;
  }
  [Symbol.iterator]() {
    let limit = this.limit;
    let count = 0;
    return {
      next() {
        if (count &lt; limit) {
          return { done: false, value: count++ };
        }
        return { done: true, value: undefined };
      },
    };
  }
}</code></pre></li></ul><ul id="1449b5c7-246f-4499-9215-7ff8902c3248" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å­<pre id="4f34a69e-5a7b-4c05-8f19-3b6f247d0b5b" class="code code-wrap"><code>const counter = new Counter(5);
for (const item of counter) {
  console.log(item); // 0 - 4
}
for (const item of counter) {
  console.log(item); // 0 - 4
}</code></pre></li></ul><ul id="53f135f5-98bb-4571-8220-5d6ed08d0e3b" class="bulleted-list"><li style="list-style-type:disc"><strong>ä»¥é—­åŒ…æ–¹å¼åˆ›å»ºçš„è¿­ä»£å™¨ä¹Ÿå®ç°äº†Iterableæ¥å£ï¼ˆå¯è¿­ä»£åè®®ï¼‰ï¼Œä»¥</strong><code><strong>Symbol.iterator</strong></code><strong> å±æ€§å¼•ç”¨çš„å·¥å‚å‡½æ•°ä¼šè¿”å›ç›¸åŒçš„è¿­ä»£å™¨</strong><ul id="8e046b37-32e9-41b7-83eb-b4516e1a4a8c" class="bulleted-list"><li style="list-style-type:circle">ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿­ä»£å™¨å¯¹è±¡ï¼ˆ<strong>Iterator</strong>ï¼‰æœ¬èº«ä¹Ÿæ˜¯å¯è¿­ä»£å¯¹è±¡ï¼ˆ<strong>Iterable object</strong>ï¼‰</li></ul><ul id="fce8950c-4d12-4654-b9aa-af986f715c5a" class="bulleted-list"><li style="list-style-type:circle">è°ƒç”¨è¿­ä»£å¯¹è±¡çš„è¿­ä»£å™¨ç¬¦å·å±æ€§ï¼ˆ<strong><code>Symbole.iterator</code></strong>ï¼‰å¼•ç”¨çš„å·¥å‚å‡½æ•°ä¼šè¿”å›ç›¸åŒçš„è¿­ä»£å™¨</li></ul><ul id="855ba7a5-1de4-4145-8a73-405a1bf106d0" class="bulleted-list"><li style="list-style-type:circle">ä¸Šè¿°çš„é—­åŒ…å®ç°å¹¶æœªå®ç°è¿™ä¸€åŠŸèƒ½</li></ul></li></ul><ul id="826d2037-e2fb-4410-a892-e1e631870e76" class="bulleted-list"><li style="list-style-type:disc"><strong>å†…ç½®</strong>çš„å¯è¿­ä»£å¯¹è±¡çš„è¿­ä»£å™¨éƒ½å®ç°äº†å¯è¿­ä»£åè®®ï¼Œå¦‚ä¸‹<pre id="72495320-27df-4c7e-b301-4939ca25eafb" class="code code-wrap"><code>const arr = [1, 5, 2, 3];
const iterarr1 = arr.values();
const iterarr2 = iterarr1[Symbol.iterator]();
const iterarr3 = iterarr2[Symbol.iterator]();

console.log(iterarr1 === iterarr2 &amp;&amp; iterarr1 === iterarr3); // true

console.log(iterarr1.next()); // { value: 1, done: false }
console.log(iterarr2.next()); // { value: 5, done: false }
console.log(iterarr3.next()); // { value: 2, done: false }</code></pre><ul id="2dda5b07-7c55-4a18-8d0f-0d1d63aa8e87" class="bulleted-list"><li style="list-style-type:circle">ä¸‰ä¸ªå˜é‡å®é™…ä¸Šå¼•ç”¨åŒä¸€ä¸ªè¿­ä»£å™¨</li></ul></li></ul><ul id="af1448ea-19c4-46c2-840e-e5bed501abc7" class="bulleted-list"><li style="list-style-type:disc">è‡ªå®šä¹‰è¿­ä»£å™¨å®ç°å¯è¿­ä»£åè®®ä¹Ÿå¾ˆç®€å•ï¼šç»“åˆ<a href="2%20%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F.html">2.3.1 ç®€å•æœ‰ç¼ºé™·çš„å®ç°</a> å’Œé—­åŒ…ï¼Œå®ç°è¿­ä»£å™¨çš„å¯è¿­ä»£ç¬¦å·å±æ€§æ—¶å°†è¿­ä»£å™¨æœ¬èº«ï¼ˆ<code>this</code>ï¼‰ä½œä¸ºç»“æœè¿”å›ï¼Œå¦‚ä¸‹<pre id="b3346929-d915-44a9-93c9-ec0714a124cf" class="code code-wrap"><code>class Counter {
  constructor(limit) {
    this.limit = limit;
  }
  [Symbol.iterator]() {
    let limit = this.limit;
    let count = 0;
    return {
      next() {
        if (count &lt; limit) {
          return { done: false, value: count++ };
        }
        return { done: true, value: undefined };
      },
      [Symbol.iterator]() {
        return this;
      },
    };
  }
}</code></pre></li></ul><h1 id="9f26cff9-386e-4dd7-9001-9d156e3d0906" class="">2.4 æå‰ç»ˆæ­¢è¿­ä»£å™¨</h1><h2 id="9319d451-7fd0-4d9d-8682-337242d67e28" class="">2.4.1 return()</h2><ul id="58a3f1c9-d100-4308-8905-dee6e66fde97" class="bulleted-list"><li style="list-style-type:disc">åœ¨è¿­ä»£å™¨æå‰å…³é—­åä¸€å®šä¼šæ‰§è¡Œ<code>return()</code> è¯­å¥</li></ul><ul id="a7d086ed-aec0-4546-a5cf-4e296f9e1d7c" class="bulleted-list"><li style="list-style-type:disc">è¿­ä»£æ—¶æå‰å…³é—­ï¼ˆä¸è€—å°½åºåˆ—å…ƒç´ ï¼‰çš„æƒ…å†µæ˜¯ï¼š<ul id="125cae98-ef3b-4ed0-ada8-e1495dfed573" class="bulleted-list"><li style="list-style-type:circle">for-ofå¾ªç¯é€šè¿‡<code><strong>break; continue; return æˆ–throw</strong></code><strong> </strong>æå‰é€€å‡º</li></ul><ul id="edbbe3f0-3b69-43b7-bd68-5b2ff838de8f" class="bulleted-list"><li style="list-style-type:circle">è§£æ„æ“ä½œå¹¶æœªæ¶ˆè´¹æ‰€æœ‰å€¼</li></ul></li></ul><ul id="cac3922f-7a3a-4323-a7a6-a3cfc9eab385" class="bulleted-list"><li style="list-style-type:disc"><code>return()</code> çš„è¿”å›å€¼åªä¼šç”¨åœ¨ç”Ÿæˆå™¨çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œå¯ä»¥åªè¿”å›<code>{done: true}</code> ï¼Œåœ¨è®¨è®ºç”Ÿæˆå™¨æ—¶è§£é‡Š</li></ul><ul id="ac74054a-5588-4d19-b294-9229aa64f374" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å­ï¼šå’Œ<a href="2%20%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F.html">Iterator.prototype.return() </a> åŸºæœ¬ä¸€æ ·<pre id="4ee49a9a-d771-40fe-be6d-abe9b6b0b404" class="code code-wrap"><code>class Foo {
  constructor(limit) {
    this.limit = limit;
  }
  [Symbol.iterator]() {
    let count = 0;
    let limit = this.limit;
    return {
      next() {
        if (count &lt; limit) {
          return { value: count++, done: false };
        }
        return { value: count, done: true };
      },
      return() {
        console.log(&quot;closed&quot;);
        return { done: true };
      },
      [Symbol.iterator]() {
        return this;
      },
    };
  }
}
console.log(&quot;---æ•°ç»„è§£æ„---&quot;);
const foo = new Foo(3);
const [a, b, c] = foo; // closed
console.log(a, b, c); // 0 1 2
console.log(&quot;---breakè¯­å¥---&quot;);

for (const i of foo) {
  if (i &gt; 1) break; // closed
  console.log(i); // 0 1
}
console.log(&quot;---æŠ›å‡ºé”™è¯¯---&quot;);

try {
  for (let i of foo) {
    if (i &gt; 1) {
      throw &quot;iterator result i cannot bigger than 1&quot;;
			// closed
    }
    console.log(i); // 0 1
  }
} catch (error) {
  console.log(error); // iterator result i cannot bigger than 1
}</code></pre></li></ul><h2 id="99a882d4-8bea-401e-88a5-a23a11642738" class="">2.4.2 éå¼ºåˆ¶å…³é—­è¿­ä»£å™¨</h2><ul id="15c92063-cc58-45b0-90fb-d221a1f52bf1" class="bulleted-list"><li style="list-style-type:disc">è¿­ä»£å™¨è°ƒç”¨<code>return()</code> â€œç›¸å½“äºâ€å…³é—­äº†è¿­ä»£å™¨ï¼ˆ<code>done: true</code>ï¼‰</li></ul><ul id="49c9bb44-e71a-4785-9c01-7c51fefa1edd" class="bulleted-list"><li style="list-style-type:disc">å¦‚æœè¿­ä»£å™¨æ²¡æœ‰è¢«å…³é—­ï¼Œå¯ä»¥æ¥ç€ä¸Šæ¬¡ç¦»å¼€çš„åœ°æ–¹ç»§ç»­è¿­ä»£ï¼Œæ¯”å¦‚<strong>æ•°ç»„çš„è¿­ä»£å™¨å°±æ˜¯ä¸èƒ½å…³é—­çš„</strong><pre id="608ddc2f-9eac-44ca-a0a7-cac908555f5f" class="code code-wrap"><code>const arr = [4, 2, 1, 5, 6];
const iter = arr.values();
for (const item of iter) {
  console.log(item); // 4 2 1
  if (item &lt; 2) {
    break;
  }
}
for (const item of iter) {
  console.log(item); // 5 6
}</code></pre></li></ul><ul id="6fbc6648-c009-4adc-b6d2-794e412d531e" class="bulleted-list"><li style="list-style-type:disc">å› ä¸º<code>return()</code> æ–¹æ³•æ˜¯å¯é€‰å®ç°çš„ï¼Œæ‰€ä»¥å¹¶éæ‰€æœ‰è¿­ä»£å™¨éƒ½æ˜¯å¯å…³é—­çš„<ul id="b69580cd-f7ba-44aa-8342-14a9e8449e4b" class="bulleted-list"><li style="list-style-type:circle">å¯¹äºå†…ç½®å¯è¿­ä»£å¯¹è±¡è€Œè¨€ï¼Œå®ƒæ˜¯å¦å¯å…³é—­å¯ä»¥æµ‹è¯•å®ƒçš„è¿­ä»£å™¨çš„<code>return</code>å±æ€§æ˜¯å¦æ˜¯å‡½æ•°å¯¹è±¡</li></ul><ul id="a94f4495-eda1-4a20-898e-eb4adf030e81" class="bulleted-list"><li style="list-style-type:circle">å¹¶ä¸”ä»…ä»…ç»™ä¸å¯å…³é—­çš„è¿­ä»£å™¨å¢åŠ ä¸€ä¸ª<a href="2%20%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F.html">ç®€å•</a>çš„<code>return</code>æ–¹æ³•ï¼Œ<strong>å¹¶ä¸èƒ½</strong>è®©è¿­ä»£å™¨å˜ä¸ºå¯å…³é—­çš„</li></ul><ul id="fb691d6f-0957-4613-b6b2-92bc2f47c9d7" class="bulleted-list"><li style="list-style-type:circle">å› ä¸ºè°ƒç”¨<code>return()</code><strong>ä¸ä¼šå¼ºåˆ¶</strong>è¿›å…¥å…³é—­çŠ¶æ€ï¼Œå³ä¾¿å¦‚æ­¤ï¼Œé‡åˆ°ä¸Šè¿°çš„ç»ˆæ­¢è¿­ä»£å™¨çš„æƒ…å†µä»ç„¶ä¼šè°ƒç”¨<code>return()</code></li></ul></li></ul><ul id="553dd766-a9ea-4c3a-8a3c-45959be7f6a1" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å¦‚è‡ªå®šä¹‰çš„è¿­ä»£å™¨<pre id="c8b7de8f-81be-4e37-b34e-f93c7133fd02" class="code code-wrap"><code>class Foo {
  constructor(limit) {
    this.limit = limit;
  }
  [Symbol.iterator]() {
    let count = 0;
    let limit = this.limit;
    return {
      next() {
        if (count &lt; limit) {
          return { value: count++, done: false };
        }
        return { value: count, done: true };
      },
      return() {
        console.log(&quot;closed&quot;);
        return { done: true };
      },
      [Symbol.iterator]() {
        return this;
      },
    };
  }
  values() {
    return this[Symbol.iterator]();
  }
}
console.log(&quot;--è‡ªå®šä¹‰è¿­ä»£å™¨--&quot;);
const foo = new Foo(5);
const iter2 = foo.values();
for (const item of iter2) {
  console.log(item); // 0 1 2
  if (item &gt; 1) {
    break; // closed
  }
}
for (const item of iter2) {
  console.log(item); // 3 4 
}</code></pre><ul id="9f25a3a2-1812-4771-8e72-a9589528119b" class="bulleted-list"><li style="list-style-type:circle">æ•°ç»„çš„è¿­ä»£å™¨å’Œä¸Šè¿°çš„ä¸€æ ·ï¼Œåœ¨è¿­ä»£å™¨ä¸­å®ç°äº†<code>return()</code> æ–¹æ³•åœ¨<code>break</code>åä»ç„¶æ²¡æœ‰å¼ºåˆ¶å…³é—­è¿­ä»£å™¨ï¼Œå†è°ƒç”¨æ˜¯æ¥ç€ä¸Šæ¬¡çš„çŠ¶æ€çš„</li></ul></li></ul><p id="12512edc-1d09-4cfe-9298-38e649e81ce8" class="">
</p></div></div><p id="f381224e-2ba8-41c9-bbd4-76036f913434" class="">
</p></div></article></body></html>