<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>4. ç±»</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-opaquegray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style><link rel="stylesheet" href="../../style.css"></head><body><article id="46f0babd-a3ea-43c6-8202-540a3b83d631" class="page sans"><header><img class="page-cover-image" src="https://www.notion.so/images/page-cover/rijksmuseum_mignons_1660.jpg" style="object-position:center 50%"/><div class="page-header-icon page-header-icon-with-cover"><span class="icon">âš¾</span></div><h1 class="page-title">4. ç±»</h1></header><div class="page-body"><p id="565fa0cf-b981-4d75-9bb8-8af81175a9c0" class="">å‰é¢ä¸‰èŠ‚æ˜¯åœ¨JavaScriptè¿˜æ²¡æœ‰è§„èŒƒç±»ç‰¹æ€§æ—¶ï¼ˆECMAScript5åŠä¹‹å‰ï¼‰ï¼Œç”¨æ¥æ¨¡æ‹Ÿç±»ä¼¼ç±»ï¼ˆclass-likeï¼‰çš„è¡Œä¸º</p><p id="48694560-030d-40d0-9c2f-06bc4bb2a13f" class="">å„ç§ç­–ç•¥éƒ½æœ‰è‡ªå·±çš„é—®é¢˜ï¼Œä¹Ÿæœ‰ç›¸äº’çš„å¦¥åï¼Œæœ€ç»ˆå®ç°ç»§æ‰¿çš„ä»£ç ï¼ˆå¯„ç”Ÿå¼ç»„åˆç»§æ‰¿æ¨¡å¼ï¼‰ä¹Ÿæ˜¾å¾—éå¸¸å†—é•¿å’Œæ··ä¹±</p><p id="a9afa9c3-e170-4711-ac9f-c1f4b5a4346a" class="">ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼ŒECMAScript 6 å¼•å…¥äº†æ–°çš„class å…³é”®å­—ï¼Œè®©JavaScriptå…·æœ‰æ­£å¼å®šä¹‰ç±»çš„èƒ½åŠ›</p><p id="3b1d3d13-1cde-4ca1-a534-73e2ee0bd1ae" class="">ç±»ï¼ˆclassï¼‰æ˜¯ECMAScriptä¸­æ–°çš„<strong>åŸºç¡€æ€§è¯­æ³•ç³–</strong>ç»“æ„ï¼Œå®ƒè®©JavaScriptè¡¨é¢ä¸Šçœ‹èµ·æ¥å¯ä»¥æ”¯æŒæ­£å¼çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œå®é™…ä¸ŠèƒŒåä½¿ç”¨çš„<strong>ä»ç„¶æ˜¯åŸå‹å’Œæ„é€ å‡½æ•°</strong>çš„æ¦‚å¿µ</p><div id="ad1b52e6-38ce-4b58-8ea9-ffb0e8ea8ecd" class="column-list"><div id="cd0b7daf-6986-42dc-a078-976b70bf01fc" style="width:12.5%" class="column"><nav id="293f50fe-7f57-433e-99a8-c86aeae6c96f" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#9b6a5158-ffc1-45c5-988c-ee50952f2ba4">4.1 ç±»å®šä¹‰</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#540e964d-51d9-4546-b1c9-bd0355954a0e">4.1.0 MDNè¡¥å……-ç±»å®šä¹‰</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#2a3e1c01-6e71-412e-b768-177cebe8948c">4.1.1 å®šä¹‰ç±»çš„æ–¹å¼</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#a5649a1e-fddf-495d-a844-1b1808af411c">4.1.2 ç±»çš„æ„æˆ</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#4e265d85-9a52-4246-bfd0-f641132f2c8e">4.1.3 MDNçš„è¡¥å……-ç±»æ„æˆ</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#84b806fa-1c8c-44fe-a7f9-d20747589616">4.1.3.1 ç±»ä¸»ä½“</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#0e56fd1d-ddee-45cc-987e-05488d73f9c7">4.1.3.2 ç±»æ„é€ å‡½æ•°ï¼ˆconstructor methodï¼‰</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#248f7a36-dbd5-4f45-9002-a302a3532eed">4.2 ç±»æ„é€ å‡½æ•°</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#98ad23f8-d784-4fdb-9141-26a095f891ec">4.2.1 å®ä¾‹åŒ–</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#747936fc-bd86-4a6a-820e-18d8864810c2">4.2.2 æŠŠç±»å½“æˆç‰¹æ®Šå‡½æ•°</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#80185042-77a8-4d51-b60e-b0c7f4ce4814">4.3 å®ä¾‹ã€åŸå‹å’Œç±»æˆå‘˜</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#838bbdfc-9ef4-4c59-bdd1-1874ed510cc1">4.3.1 å®ä¾‹æˆå‘˜</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#5418715e-3612-47c4-a502-2756cf8a3120">4.3.2 åŸå‹æ–¹æ³•å’Œè®¿é—®å™¨</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#c4fd8d13-80bd-44f7-ad82-f86d525cb379">4.3.2.1 åŸå‹æ–¹æ³•</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#2e1eaf7c-a507-4bf1-baab-7977b7c8c21b">4.3.2.2 è®¿é—®å™¨</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#9e11da12-f3af-4697-a505-73110474f806">4.3.3 é™æ€ç±»æ–¹æ³•</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#54e0cc47-f0db-42b7-9c95-ba0e45fe81e8">4.3.3.0 MDNè¡¥å……-ç±»é™æ€åˆå§‹åŒ–å—ï¼ˆClass static initialzation blocksï¼‰</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#b6c5eb78-9e70-4a26-b6c9-03e8a9daddad">4.3.4 éå‡½æ•°åŸå‹å’Œç±»æˆå‘˜</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#ee66159d-82b7-4c1c-b7b7-0259c7f75d59">4.3.5 è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨æ–¹æ³•</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#57f2de9b-f0d5-4145-9a87-01158529c5df">4.4 ç»§æ‰¿</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#9abdb0f4-c796-401b-92f4-f14f8c319abf">4.4.1 ç»§æ‰¿åŸºç¡€</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#84b11d80-93e7-428a-b0da-ee7aa18c0bdc">4.4.2 æ„é€ å‡½æ•°ã€HomeObjectå’Œsuper()</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#fe821d8d-199d-47ec-83b0-39611b8d2629">4.4.2.1 super</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#0a573728-3922-49f1-86c3-98c1cf69000b">4.4.2.2 [[HomeObject]]</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#ecf66c01-87dc-4f26-8365-43910ebb5ba2">4.4.3 æŠ½è±¡åŸºç±»</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#ab3c02de-3c38-4fdc-8530-1a98de198acc">4.4.4 ç»§æ‰¿å†…ç½®ç±»å‹</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#369db0ff-4691-44d2-910e-438ed694043e">4.4.5 ç±»æ··å…¥</a></div></nav><p id="9a6402cc-2884-4754-b33e-f0d86704d5ec" class="">
</p></div><div id="231140f2-9c7b-4d8b-8656-d4bbfffda0f6" style="width:87.5%" class="column"><h1 id="9b6a5158-ffc1-45c5-988c-ee50952f2ba4" class="">4.1 ç±»å®šä¹‰</h1><h2 id="540e964d-51d9-4546-b1c9-bd0355954a0e" class="">4.1.0 MDNè¡¥å……-ç±»å®šä¹‰</h2><ul id="d84da6ff-989e-4d6b-a976-8a9cb2a940ba" class="bulleted-list"><li style="list-style-type:disc">ç›´æ¥å®šä¹‰ï¼š<strong>ç±»æ˜¯ç”¨äºåˆ›å»ºå¯¹è±¡çš„æ¨¡æ¿ï¼ˆtemplateï¼‰</strong></li></ul><ul id="e7012d2a-c3aa-4bdf-988d-03022c1540e4" class="bulleted-list"><li style="list-style-type:disc">ç›´æ¥ä½œç”¨ï¼šç±»ç”¨ä»£ç <strong>å°è£…</strong>ï¼ˆ<strong>encapsulate</strong>ï¼‰æ•°æ®ä»¥æ–¹ä¾¿å¤„ç†æ•°æ®</li></ul><ul id="d05dc682-790b-469a-ab7a-025b6dc0cb39" class="bulleted-list"><li style="list-style-type:disc">è™½ç„¶ç±»çš„å®ç°æ˜¯å»ºç«‹åœ¨åŸå‹ä¸Šçš„ï¼Œä½†æ˜¯ç±»ä¸ES5çš„<strong>åƒç±»è¯­ä¹‰</strong>ï¼ˆ<strong>class-like semantics</strong>ï¼‰æœ‰ä¸å…±äº«çš„çš„è¯­æ³•å’Œè¯­ä¹‰</li></ul><h2 id="2a3e1c01-6e71-412e-b768-177cebe8948c" class="">4.1.1 å®šä¹‰ç±»çš„æ–¹å¼</h2><ul id="357c9972-3609-4bfa-8c4a-ef1c76f8e280" class="bulleted-list"><li style="list-style-type:disc">ä¸å‡½æ•°å®šä¹‰ç›¸ä¼¼ï¼Œå®šä¹‰ç±»æœ‰ä¸¤ç§ä¸»è¦æ–¹å¼ï¼šç±»å£°æ˜å’Œç±»è¡¨è¾¾å¼ï¼›è¿™ä¸¤ç§æ–¹å¼éƒ½ä½¿ç”¨<code>class</code>å…³é”®å­—å’ŒåŠ å¤§æ‹¬å·</li></ul><ul id="633a19a9-69f6-413d-ba8f-010f7afa27f8" class="bulleted-list"><li style="list-style-type:disc">ç±»å£°æ˜<pre id="01baf717-339e-4e24-be30-bebb0248fe11" class="code"><code>class Person {}</code></pre></li></ul><ul id="701aae59-1589-4fd9-b594-d3baa99855b3" class="bulleted-list"><li style="list-style-type:disc">ç±»è¡¨è¾¾å¼<pre id="bdc83a3e-a9ff-43d3-b66c-3d5a22096038" class="code code-wrap"><code>const Animal = class {};</code></pre></li></ul><ul id="dffaa4d4-12e3-4104-aeaa-df6e020d5e98" class="bulleted-list"><li style="list-style-type:disc">ä¸å‡½æ•°è¡¨è¾¾å¼ç±»ä¼¼ï¼Œç±»è¡¨è¾¾å¼çš„ç±»åœ¨è¢«æ±‚å€¼å‰ä¸èƒ½è¢«å¼•ç”¨ï¼Œä½†ä¸å‡½æ•°å®šä¹‰ä¸åŒçš„æ˜¯ï¼Œå‡½æ•°å£°æ˜å¯ä»¥æå‡ï¼Œä½†æ˜¯ç±»å®šä¹‰ä¸èƒ½<pre id="d43c8bea-3b8e-4def-8d1e-57a924294ae9" class="code code-wrap"><code>// å‡½æ•°å£°æ˜å¯ä»¥æå‡ï¼Œç±»å£°æ˜ä¸èƒ½æå‡
console.log(FunctionExpression); // undefined
var FunctionExpression = function () {};
console.log(FunctionExpression); // [Function: FunctionExpression]

console.log(FunctionDeclaration); // [Function: FunctionDeclaration]
function FunctionDeclaration() {}
console.log(FunctionDeclaration); // [Function: FunctionDeclaration]

console.log(ClassExpression); // undefined
var ClassExpression = class {};
console.log(ClassExpression); // [class ClassExpression]

try {
  console.log(ClassDeclaration);
} catch (error) {
  console.log(error.message); // Cannot access &#x27;ClassDeclaration&#x27; before initialization
}
class ClassDeclaration {}
console.log(ClassDeclaration); // [class ClassDeclaration]</code></pre><ul id="29cbe164-6008-47c8-8791-e898b46a90b7" class="bulleted-list"><li style="list-style-type:circle"><code>var</code> çš„å£°æ˜æå‡åªèƒ½ä½¿å¾—å‡½æ•°æˆ–ç±»å˜é‡å£°æ˜æå‡ï¼Œç›¸å½“äºå…ˆåœ¨ä½œç”¨åŸŸé¡¶éƒ¨å®šä¹‰ä¸€ä¸ª<code>undefined</code> å˜é‡</li></ul><ul id="ed7bbd23-1438-45c6-8cd6-e3c3c33e4c4f" class="bulleted-list"><li style="list-style-type:circle">å‡½æ•°(<code>function</code>)çš„å£°æ˜æå‡èƒ½å°†æ•´ä¸ªå‡½æ•°åœ¨ä½œç”¨åŸŸé¡¶éƒ¨ç›´æ¥å£°æ˜å®šä¹‰</li></ul><ul id="8e877577-cdb9-41c2-ae1f-85b542e993fa" class="bulleted-list"><li style="list-style-type:circle">ç±»(<code>class</code>)å£°æ˜ä¸å­˜åœ¨å£°æ˜æå‡ï¼Œåªèƒ½åœ¨å£°æ˜ä¹‹åä½¿ç”¨ï¼Œå¦åˆ™æŠ¥<code>ReferenceError</code>é”™è¯¯</li></ul></li></ul><ul id="c9ad3d69-0acb-48d1-a8aa-e915ee39f95b" class="bulleted-list"><li style="list-style-type:disc">ç±»å£°æ˜å’Œå‡½æ•°å£°æ˜çš„å¦ä¸€ä¸ªåŒºåˆ«åœ¨äºï¼Œå‡½æ•°å—å‡½æ•°ä½œç”¨åŸŸé™åˆ¶ï¼Œç±»å—å—ä½œç”¨åŸŸé™åˆ¶<pre id="d486567f-bc8c-4841-a38b-63a2464c0e16" class="code code-wrap"><code>// å‡½æ•°å£°æ˜å—å‡½æ•°ä½œç”¨åŸŸé™åˆ¶
// ç±»å£°æ˜å—å—ä½œç”¨åŸŸé™åˆ¶
{
  function FunctionDeclaration2() {}
  class ClassDeclaration2 {}
}
console.log(FunctionDeclaration2); // [Function: FunctionDeclaration2]
try {
  console.log(ClassDeclaration2);
} catch (error) {
  console.log(error.message); // ClassDeclaration2 is not defined
}

function declatation() {
  function FunctionDeclaration3() {}
  class ClassDeclaration3 {}
}
declatation();
try {
  console.log(FunctionDeclaration3);
} catch (error) {
  console.log(error.message); // FunctionDeclaration3 is not defined
}
try {
  console.log(ClassDeclaration3);
} catch (error) {
  console.log(error.message); // ClassDeclaration3 is not defined
}</code></pre></li></ul><h2 id="a5649a1e-fddf-495d-a844-1b1808af411c" class="">4.1.2 ç±»çš„æ„æˆ</h2><ul id="71b4b7c7-7641-4e9a-aa9e-af1177b78b78" class="bulleted-list"><li style="list-style-type:disc">ç±»å¯ä»¥åŒ…å«<strong>æ„é€ å‡½æ•°æ–¹æ³•</strong>ã€<strong>å®ä¾‹æ–¹æ³•</strong>ã€<strong>è·å–å‡½æ•°(Getter)</strong>ã€<strong>è®¾ç½®å‡½æ•°(Setter)</strong>å’Œ<strong>é™æ€ç±»æ–¹æ³•</strong><ul id="46d21777-220f-472c-bec4-9a5fcea05703" class="bulleted-list"><li style="list-style-type:circle">è¿™äº›éƒ½ä¸æ˜¯å¿…é¡»çš„ï¼Œç©ºçš„ç±»å®šä¹‰ä¹Ÿæœ‰æ•ˆ</li></ul><ul id="b03f290a-c1b3-42e2-898e-197daa8da35e" class="bulleted-list"><li style="list-style-type:circle">é»˜è®¤æƒ…å†µä¸‹ï¼Œç±»å®šä¹‰çš„ä»£ç éƒ½åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹æ‰§è¡Œ</li></ul></li></ul><ul id="701e805a-0717-4201-a22f-71bb8d69b9b8" class="bulleted-list"><li style="list-style-type:disc">ä»¥ä¸‹æ˜¯ä¸€äº›åˆæ³•çš„ç±»å®šä¹‰ï¼Œå®ƒä»¬æˆ–ç©ºï¼Œæˆ–åŒ…å«æ„é€ å‡½æ•°ï¼Œæˆ–åŒ…å«è·å–å‡½æ•°ï¼Œæˆ–æœ‰é™æ€æ–¹æ³•ï¼›ç±»åé¦–å­—æ¯å¤§å†™ï¼Œä¸å®ƒåˆ›å»ºçš„å®ä¾‹åŒºåˆ†<pre id="472a5466-a823-4212-97dd-b526b0560e11" class="code code-wrap"><code>// ç©ºç±»
class Foo {}
// åŒ…å«æ„é€ å‡½æ•°
class Bar {
  constructor() {}
}
// åŒ…å«è·å–å‡½æ•°
class Baz {
  get myBaz() {}
}
// åŒ…å«é™æ€æ–¹æ³•
class Qux {
  static myQux() {}
}</code></pre></li></ul><ul id="313de5a3-5efe-4dfb-8ace-4a24c157885c" class="bulleted-list"><li style="list-style-type:disc">æ‰“å°ç±»çš„<code>prototype</code>å±æ€§ï¼Œå‘ç°å®ƒä»¬çš„åŸå‹å¯¹è±¡å’Œä¸Šä¸€èŠ‚çš„æ„é€ å‡½æ•°ç»“æ„ä¸€è‡´ï¼ˆä»ä¾§é¢éªŒè¯ç±»èƒŒååŸç†è¿˜æ˜¯åŸå‹å’Œæ„é€ å‡½æ•°ï¼‰<pre id="cca1a041-9bd2-4b00-89d0-f30600b16c18" class="code code-wrap"><code>console.log(Foo.prototype);
console.log(Bar.prototype);
console.log(Baz.prototype);
console.log(Qux.prototype);
console.log(typeof Foo); // &#x27;function&#x27;</code></pre><div id="1899c344-78b0-4f01-b1f1-3637312e4f44" class="column-list"><div id="3e02c2d7-6fce-43b5-9573-a847743b464a" style="width:100%" class="column"><figure id="f1bd0bc0-9193-4bd3-9ad3-6c79c69df5a1" class="image" style="text-align:left"><a href="4%20%E7%B1%BB/Untitled.png"><img style="width:342px" src="4%20%E7%B1%BB/Untitled.png"/></a></figure><figure id="60a8e227-180d-44d7-b10c-fb797f22adec" class="image"><a href="4%20%E7%B1%BB/Untitled%201.png"><img style="width:377px" src="4%20%E7%B1%BB/Untitled%201.png"/></a></figure><ul id="5dcada00-ef4c-4630-b0be-1f215fbb9ed6" class="bulleted-list"><li style="list-style-type:disc">å®šä¹‰äº†è·å–å‡½æ•°çš„<code>Baz</code> åœ¨åŸå‹å¯¹è±¡ä¸­åŒ…å«<code>myBaz</code>å±æ€§å’Œ<code>myBaz getter</code> </li></ul><ul id="cf5199f6-66e1-4e90-9c07-7422e9f05b60" class="bulleted-list"><li style="list-style-type:disc">å®šä¹‰äº†é™æ€å‡½æ•°çš„<code>Qux</code> åŸå‹å¯¹è±¡æ²¡æœ‰æ”¹å˜ï¼Œä½†æ˜¯ç±»æœ¬èº«æ‹¥æœ‰äº†å±æ€§æ–¹æ³•<code>myQux</code> </li></ul><ul id="50b21cbc-e3ca-4945-ab73-bb9808b2c722" class="bulleted-list"><li style="list-style-type:disc">ä½¿ç”¨<code>typeof</code> åˆ¤æ–­å£°æ˜çš„ç±»ï¼Œå‘ç°è¿”å›çš„æ˜¯<code>function</code>, è¯´æ˜ç±»åº•å±‚å®ç°ä»ç„¶æ˜¯æ„é€ å‡½æ•°</li></ul><p id="dd302087-79c1-4926-b5d8-2b2c102775a2" class="">
</p><p id="e6d93289-37e3-4da7-aeb0-9cb79109c9fa" class="">
</p></div><div id="27aa4a44-a0be-4fb3-8aa4-0f649aa34b00" style="width:100%" class="column"><figure id="dcc7a3ba-bf75-490f-a47b-f3853e9a6a46" class="image"><a href="4%20%E7%B1%BB/Untitled%202.png"><img style="width:371px" src="4%20%E7%B1%BB/Untitled%202.png"/></a></figure><figure id="9f92c0a4-ebaf-4055-8df2-370d6f6299ad" class="image"><a href="4%20%E7%B1%BB/Untitled%203.png"><img style="width:416px" src="4%20%E7%B1%BB/Untitled%203.png"/></a></figure></div></div></li></ul><ul id="b48a4f21-3e79-4b21-9654-63befef7416c" class="bulleted-list"><li style="list-style-type:disc">é€šè¿‡<strong>ç±»è¡¨è¾¾å¼</strong>å£°æ˜ç±»æ—¶ï¼Œå¯ä»¥<strong>è‡ªå®šä¹‰åç§°</strong><ul id="e74bdb89-6ea8-41df-9be0-02a0a51ded62" class="bulleted-list"><li style="list-style-type:circle">æŠŠç±»èµ‹å€¼ç»™å˜é‡åï¼Œé€šè¿‡<code>name</code> å±æ€§å¯ä»¥è·å–ç±»è¡¨è¾¾å¼çš„åç§°å­—ç¬¦ä¸²</li></ul><ul id="e1e21bf4-8a9d-4fe8-9581-54c70085d942" class="bulleted-list"><li style="list-style-type:circle">ä½†æ˜¯ä¸èƒ½åœ¨è¡¨è¾¾å¼ä½œç”¨åŸŸå¤–éƒ¨è®¿é—®è‡ªå®šä¹‰çš„åç§°æ ‡è¯†ç¬¦</li></ul><pre id="0318ced4-e2d8-46f5-aed5-d3d0a684fcd7" class="code code-wrap"><code>// ç±»è¡¨è¾¾å¼ ç±»åç§°è‡ªå®šä¹‰
let Person = class PersonName {
  identify() {
    console.log(Person.name, PersonName.name); 
  }
};

let p = new Person();
p.identify(); // PersonName PersonName

console.log(Person.name); // PersonName
try {
  console.log(PersonName);
} catch (error) {
  console.log(error.message); // PersonName is not defined
}
console.log(Object.getOwnPropertyDescriptor(Person, &quot;name&quot;));
// {
  // value: &#x27;PersonName&#x27;,
  // writable: false,
  // enumerable: false,
  // configurable: true
// }
Object.defineProperty(Person, &quot;name&quot;, {
  writable: true,
  configurable: true,
  value: &quot;Person&quot;,
});
p.identify(); // Person Person</code></pre></li></ul><ul id="5fd7a3d9-b467-4da5-a2d0-e6bc1ddfbac2" class="bulleted-list"><li style="list-style-type:disc">ç”±ä¸Šè¿°ä¾‹å­å¯ä»¥å¾—çŸ¥<code>name</code> å±æ€§çš„ä¸€äº›ç‰¹æ€§<ul id="7285341d-7795-4435-af1b-201c9d2d9346" class="bulleted-list"><li style="list-style-type:circle"><code>name</code> å±æ€§çš„åˆå§‹å€¼åœ¨ç±»å£°æ˜ä¸­å°±æ˜¯<strong>ç±»æ ‡è¯†ç¬¦çš„å­—ç¬¦ä¸²å½¢å¼</strong>ï¼Œåœ¨ç±»è¡¨è¾¾å¼å®šä¹‰ä¸­ï¼Œå¦‚æœæ²¡æœ‰ç±»æ ‡è¯†ç¬¦ï¼Œå°±æ˜¯<strong>å˜é‡æ ‡è¯†ç¬¦çš„å­—ç¬¦ä¸²å½¢å¼</strong>ï¼Œå¦‚æœæœ‰ç±»æ ‡è¯†ç¬¦å°±æ˜¯ç±»æ ‡è¯†ç¬¦çš„å­—ç¬¦ä¸²å½¢å¼</li></ul><ul id="1ae29174-ce88-465f-93d5-8256d6de0df3" class="bulleted-list"><li style="list-style-type:circle"><code>name</code> å±æ€§æ˜¯å¯é…ç½®ä¸å¯æšä¸¾ä¸å¯å†™çš„ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡<code>Object.defineProperty()</code> æ–¹æ³•åº”ç”¨äºç±»å¯¹è±¡ï¼Œå°†å…¶<code>name</code> å±æ€§ç‰¹æ€§è¿›è¡Œä¿®æ”¹ï¼Œä¸Šé¢ä¾‹å­ä¸­ä¿®æ”¹æˆäº†<code>&quot;Person&quot;</code> ,å®ä¾‹æ‰“å°çš„æ ‡è¯†ç¬¦ä¹Ÿå°±å˜äº†</li></ul><ul id="dd40da5d-7829-4ad4-b8e8-99ab4b010169" class="bulleted-list"><li style="list-style-type:circle">åœ¨ä½¿ç”¨ç±»è¡¨è¾¾å¼å®šä¹‰ä¸­ï¼Œç±»çš„å†…éƒ¨å¯ä»¥ä½¿ç”¨æ ‡è¯†ç¬¦<code>PersonName</code> ï¼Œå› ä¸º<code>PersonName</code>åªå­˜åœ¨äºç±»å®šä¹‰ä¸­</li></ul></li></ul><p id="0a348e4b-2ee3-47db-b666-8686c0c448c6" class=""><mark class="highlight-red">æ³¨æ„ï¼Œå…³äºç±»è¡¨è¾¾å¼è‡ªå®šä¹‰åç§°ï¼Œã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡ç¬¬4ç‰ˆã€‹è¿™é‡Œçš„ä¾‹å­å…¶å®å¾ˆç»å…¸ï¼Œä½†æ˜¯ä¸å¥½ç†è§£ï¼Œå› ä¸ºæ²¡æœ‰ç»™å‡º</mark><strong><mark class="highlight-red">ä¸ºä»€ä¹ˆ</mark></strong><mark class="highlight-red">ç±»è¡¨è¾¾å¼çš„è‡ªå®šä¹‰åç§°çš„æ ‡è¯†ç¬¦</mark><strong><mark class="highlight-red">åªèƒ½ç”¨äºç±»å†…éƒ¨</mark></strong><mark class="highlight-red">ï¼Œè€Œå¤–éƒ¨</mark><strong><mark class="highlight-red">ä¸èƒ½ä½¿ç”¨</mark></strong><mark class="highlight-red">è‡ªå®šä¹‰åç§°çš„æ ‡è¯†ç¬¦ï¼Œåœ¨ã€Šæ·±å…¥ç†è§£ES6ã€‹ä¸­å…³äºç±»çš„å£°æ˜æ–¹å¼æ›´åŠ è¯¦ç»†ï¼Œä¸‹é¢çš„æ–‡ç« å‚è€ƒ</mark><a href="http://wjhsh.net/Ryukaka-p-7885802.html"><mark class="highlight-red">ç½‘ç»œ</mark></a></p><figure id="977aff53-0863-437c-9a63-e655b4e0ba6d" class="link-to-page"><a href="4%20%E7%B1%BB/%E3%80%90%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6%E3%80%91JavaScript%E4%B8%AD%E7%9A%84%E7%B1%BB.html"><span class="icon">ğŸ¥ˆ</span>ã€æ·±å…¥ç†è§£ES6ã€‘JavaScriptä¸­çš„ç±»</a></figure><h2 id="4e265d85-9a52-4246-bfd0-f641132f2c8e" class="">4.1.3 MDNçš„è¡¥å……-ç±»æ„æˆ</h2><h3 id="84b806fa-1c8c-44fe-a7f9-d20747589616" class="">4.1.3.1 ç±»ä¸»ä½“</h3><ul id="282e5cda-d7a0-451c-a0c5-cf9464e790ca" class="bulleted-list"><li style="list-style-type:disc"><strong>class body ï¼Œ</strong>ç±»ä¸»ä½“æŒ‡classå…³é”®å­—åï¼ŒèŠ±æ‹¬å·ï¼ˆcurly bracketsï¼‰<code>{}</code>åŒ…è£¹çš„éƒ¨åˆ†</li></ul><ul id="dd949b5a-dec3-4afc-9657-60e5672bd6cb" class="bulleted-list"><li style="list-style-type:disc">è¿™ç±»ä¸»ä½“ä¸­å®šä¹‰çš„ä»»ä½•ä¸œè¥¿éƒ½ç§°ä¸º<strong>ç±»æˆå‘˜</strong>(<strong>class members</strong>),ç±»æˆå‘˜å°±åŒ…æ‹¬ä¸Šé¢<a href="4%20%E7%B1%BB.html">4.1.2 ç±»çš„æ„æˆ</a> æåˆ°çš„constructorã€methodsç­‰</li></ul><ul id="5d15570c-b7f2-43ee-b7f6-b7c582494221" class="bulleted-list"><li style="list-style-type:disc"><strong>ç±»ä¸»ä½“ä¸­çš„ä»£ç ä»¥ä¸¥æ ¼æ¨¡å¼æ‰§è¡Œ</strong>ï¼Œå³<ul id="2d9e6765-ffef-482b-b6a7-950e76b6b248" class="bulleted-list"><li style="list-style-type:circle">classå…³é”®å­—åï¼ŒèŠ±æ‹¬å·åŒ…è£¹çš„éƒ¨åˆ†ä»£ç æœä»æ›´ä¸¥æ ¼çš„è¯­æ³•ï¼Œè¿™èƒ½æé«˜æ€§èƒ½</li></ul><ul id="bae3ea27-b10f-40a9-9faa-cfe5c0a02954" class="bulleted-list"><li style="list-style-type:circle">ä¸€äº›åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ä¸å…è®¸çš„è¯­æ³•ä¼šæŠ›å‡º<strong>é™é»˜é”™è¯¯ï¼ˆsilent errorï¼‰</strong></li></ul><ul id="a5ee93be-2270-4ef7-98b8-a809184ba2dd" class="bulleted-list"><li style="list-style-type:circle">ä¸€äº›å…³é”®å­—ä¸ºECMAScriptçš„æœªæ¥ç‰ˆæœ¬ä¿ç•™ï¼ˆreserveï¼‰ï¼Œå¦‚<code>private</code> å…³é”®å­—ï¼Œè¡¨ç¤ºç±»æˆå‘˜ç§æœ‰ï¼Œåœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹å¯ä»¥ä½œä¸ºå˜é‡åç§°ï¼Œä½†æ˜¯ä¸¥æ ¼æ¨¡å¼ä¸‹ä¸è¡Œ</li></ul></li></ul><h3 id="0e56fd1d-ddee-45cc-987e-05488d73f9c7" class="">4.1.3.2 ç±»æ„é€ å‡½æ•°ï¼ˆconstructor methodï¼‰</h3><ul id="9edb0aee-cf50-4b51-a1d3-5ea797f2b9dc" class="bulleted-list"><li style="list-style-type:disc">ç›´æ¥å®šä¹‰ï¼šæ„é€ å‡½æ•°(constructor method)æ˜¯ç”¨äº<strong>åˆ›å»º</strong>å¹¶<strong>åˆå§‹åŒ–</strong>å¯¹è±¡çš„ç‰¹æ®Šæ–¹æ³•</li></ul><ul id="f1f4af27-f35f-4fc6-a93f-cc6a2d9f9abf" class="bulleted-list"><li style="list-style-type:disc">ç‰¹æ®Šæ€§ï¼šä¸€ä¸ªç±»ä¸­åªèƒ½æœ‰ä¸€ä¸ªåä¸º<code>constructor</code>çš„æ„é€ æ–¹æ³•ï¼Œå¦‚æœæœ‰å¤šä¸ªä¼šæŠ›å‡ºè¯­æ³•é”™è¯¯ï¼ˆSyntax Errorï¼‰</li></ul><h1 id="248f7a36-dbd5-4f45-9002-a302a3532eed" class="">4.2 ç±»æ„é€ å‡½æ•°</h1><p id="4aff5880-6341-48c1-8637-757ae07158db" class=""><code><strong>constructor</strong></code><strong>å…³é”®å­—ç”¨äºåœ¨ç±»å®šä¹‰å—å†…éƒ¨åˆ›å»ºç±»çš„æ„é€ å‡½æ•°</strong>ã€‚</p><p id="b63d876c-0312-4c1b-9549-679837e1a8f5" class="">æ–¹æ³•å<code>constructor</code>ä¼šå‘Šè¯‰è§£é‡Šå™¨åœ¨ä½¿ç”¨<code>new</code> æ“ä½œç¬¦åˆ›å»ºç±»çš„æ–°å®ä¾‹æ—¶ï¼Œåº”è¯¥è°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚</p><p id="4f8229d0-55b0-4f0a-8dfd-413457605625" class="">æ„é€ å‡½æ•°<a href="4%20%E7%B1%BB.html">ä¸æ˜¯å¿…é¡»</a>çš„ï¼Œä¸å®šä¹‰æ„é€ å‡½æ•°ç›¸å½“äºå°†æ„é€ å‡½æ•°å®šä¹‰ä¸ºç©ºå‡½æ•°</p><h2 id="98ad23f8-d784-4fdb-9141-26a095f891ec" class="">4.2.1 å®ä¾‹åŒ–</h2><ul id="389b9fee-acd6-4006-afc3-613853611532" class="bulleted-list"><li style="list-style-type:disc">ä½¿ç”¨<code>new</code> æ“ä½œç¬¦å®ä¾‹åŒ–ç±»çš„æ“ä½œç­‰ä»·äºä½¿ç”¨<code>new</code> è°ƒç”¨ç±»çš„æ„é€ å‡½æ•°</li></ul><ul id="1ed3b44b-d9fe-4dd0-8c29-b14cc91c0297" class="bulleted-list"><li style="list-style-type:disc">JavaScriptè§£é‡Šå™¨çŸ¥é“ä½¿ç”¨<code>new</code> å’Œç±»æ„å‘³ç€åº”è¯¥ä½¿ç”¨<code>constructor</code>å‡½æ•°è¿›è¡Œå®ä¾‹åŒ–</li></ul><ul id="2be91c01-543a-469b-a437-4fa6a8196159" class="bulleted-list"><li style="list-style-type:disc">ä½¿ç”¨<code>new</code> è°ƒç”¨ç±»çš„æ„é€ å‡½æ•°ä¼šæ‰§è¡Œå¦‚ä¸‹æ“ä½œ<ol type="1" id="ed5b4117-1871-43e9-acb9-6e37ca740429" class="numbered-list" start="1"><li>åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡</li></ol><ol type="1" id="faa5653d-a87a-48ff-a2c9-bb61dc55e653" class="numbered-list" start="2"><li>è¿™ä¸ªæ–°å¯¹è±¡å†…éƒ¨çš„[[Prototype]]æŒ‡é’ˆè¢«èµ‹å€¼ä¸ºæ„é€ å‡½æ•°çš„<code>prototype</code>å±æ€§</li></ol><ol type="1" id="8afc5c18-7304-4622-9fa9-363459fa0ca8" class="numbered-list" start="3"><li>æ„é€ å‡½æ•°å†…éƒ¨çš„<code>this</code> è¢«èµ‹å€¼ä¸ºè¿™ä¸ªæ–°å¯¹è±¡ï¼ˆå³<code>this</code>æŒ‡å‘æ–°å¯¹è±¡ï¼‰</li></ol><ol type="1" id="ed0b635d-e308-4db2-99a2-244b8d772375" class="numbered-list" start="4"><li>æŒ‡å‘æ„é€ å‡½æ•°å†…éƒ¨çš„ä»£ç ï¼ˆç»™æ–°å¯¹è±¡æ·»åŠ å±æ€§ï¼‰</li></ol><ol type="1" id="87f837f1-7fd0-49dd-b88c-3fffb1eb7b7d" class="numbered-list" start="5"><li>å¦‚æœæ„é€ å‡½æ•°è¿”å›éç©ºå¯¹è±¡ï¼Œåˆ™è¿”å›è¯¥å¯¹è±¡ï¼›å¦åˆ™è¿”å›åˆšåˆ›å»ºçš„æ–°å¯¹è±¡</li></ol></li></ul><ul id="fc64a230-b1d6-415e-b1e7-dc11653a25de" class="bulleted-list"><li style="list-style-type:disc">ä»¥ä¸Šå®ä¾‹åŒ–çš„è¿‡ç¨‹å’Œæ„é€ å‡½æ•°æ¨¡å¼åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹<a href="2%20%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1.html"><strong>å®Œå…¨ä¸€æ ·</strong></a><ul id="7204667a-1405-41b7-bb22-98b982ecc19a" class="bulleted-list"><li style="list-style-type:circle">åªæ˜¯ä¸€ä¸ªæ˜¯ä½¿ç”¨new æ“ä½œç¬¦è°ƒç”¨å¤–éƒ¨å£°æ˜çš„æ„é€ å‡½æ•°</li></ul><ul id="85aedbf0-858a-43ad-b911-1667557ed124" class="bulleted-list"><li style="list-style-type:circle">ä¸€ä¸ªæ˜¯ä½¿ç”¨<code>new</code>æ“ä½œç¬¦ è°ƒç”¨ç±»å†…éƒ¨çš„æ„é€ å‡½æ•°</li></ul></li></ul><ul id="88bb4ba3-1d49-4a5d-9856-8778bd7742cc" class="bulleted-list"><li style="list-style-type:disc">ç±»æ„é€ å‡½æ•°å’Œæ„é€ å‡½æ•°çš„ä¸»è¦åŒºåˆ«åœ¨äº<ul id="75887321-f9ae-46e5-958f-5adf34949673" class="bulleted-list"><li style="list-style-type:circle">è°ƒç”¨ç±»æ„é€ å‡½æ•°å¿…é¡»ä½¿ç”¨<code>new</code> æ“ä½œç¬¦åŠ ç±»ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨<code>new</code>ï¼Œä¼š<a href="4%20%E7%B1%BB/%E3%80%90%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6%E3%80%91JavaScript%E4%B8%AD%E7%9A%84%E7%B1%BB.html">æŠ›å‡ºé”™è¯¯</a></li></ul><ul id="2f8ebe66-3983-40f1-86e1-cd0310674c45" class="bulleted-list"><li style="list-style-type:circle">è°ƒç”¨æ™®é€šæ„é€ å‡½æ•°å¯ä»¥ä¸ä½¿ç”¨<code>new</code> è°ƒç”¨ï¼Œè€Œæ˜¯ä»¥å…¨å±€çš„<code>this</code>ä½œä¸ºå†…éƒ¨å¯¹è±¡</li></ul><ul id="9c3a339e-3cfc-4260-b78f-e55f8cb74d16" class="bulleted-list"><li style="list-style-type:circle">ç±»æ„é€ å‡½æ•°æ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šä¹‹å¤„ï¼Œå®ä¾‹åŒ–åï¼Œå®ƒä¼šæˆä¸ºæ™®é€šçš„å®ä¾‹æ–¹æ³•ï¼Œä½†ä»ç„¶éœ€è¦ä½¿ç”¨<code>new</code> æ‰èƒ½è°ƒç”¨</li></ul></li></ul><ul id="0251c4c9-27be-4568-a87a-993a2d0c4e82" class="bulleted-list"><li style="list-style-type:disc">ä½¿ç”¨ç±»æ„é€ å‡½æ•°æ—¶ï¼Œå¦‚æœä¸éœ€è¦å‚æ•°ï¼Œç±»ååçš„æ‹¬å·<strong>ä¹Ÿ</strong>æ˜¯å¯é€‰çš„</li></ul><ul id="cc369c4f-2a75-4ba0-9902-e47ded117182" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å­ï¼šç®€å•ä¾‹å­ï¼Œå®ä¾‹åŒ–å°±æ˜¯è°ƒç”¨ç±»æ„é€ å‡½æ•°ï¼Œç±»åªæ˜¯è¯­æ³•ç³–ï¼Œå…¶æ‰€åšçš„äº”æ­¥å’Œæ„é€ å‡½æ•°<strong>æ²¡æœ‰åŒºåˆ«</strong><pre id="6a36b436-fab3-4ae2-8a73-cda9b6c6f925" class="code code-wrap"><code>class Person {
  constructor(age, name) {
    this.age = age;
    this.name = name;
  }
}

const person = new Person(22, &quot;mangwu&quot;); 
console.log(person.__proto__ === Person.prototype); // true
console.log(person.constructor === Person.prototype.constructor); // true
console.log(person.constructor); // [class Person]</code></pre><p id="4cb01cb6-4bdc-4594-9bc6-a15d9e13a149" class="">åº•å±‚åŸå‹é“¾å¯è§†åŒ–ï¼Œå’Œæ„é€ å‡½æ•°æ²¡æœ‰åŒºåˆ«ï¼Œå”¯ä¸€åŒºåˆ«åœ¨äºæ„é€ å‡½æ•°è¢«æ¢åšäº†æ‰€è°“çš„<strong>ç±»</strong>ï¼Œ<code>constructor</code>å±æ€§æŒ‡å‘è¿™ä¸ªç±»</p><figure id="eb402604-eacf-496a-91eb-9e8874f9cae7" class="image"><a href="4%20%E7%B1%BB/%25E7%25B1%25BB.png"><img style="width:1976px" src="4%20%E7%B1%BB/%25E7%25B1%25BB.png"/></a></figure><ul id="d4c32970-1832-4038-afb2-43c454ef8423" class="bulleted-list"><li style="list-style-type:circle"><code>name</code> å’Œ<code>length</code> æ˜¯ç±»çš„è‡ªæœ‰å±æ€§ï¼Œæ„é€ å‡½æ•°åŒæ ·æ‹¥æœ‰è¿™ä¸¤ä¸ªå±æ€§</li></ul><ul id="24ecc71c-7acb-4adc-9b07-a707ae63fdff" class="bulleted-list"><li style="list-style-type:circle">é™¤æ­¤ä¹‹å¤–ï¼Œæ„é€ å‡½æ•°æœ¬èº«è¿˜å…·æœ‰<code>arguments</code>å’Œ<code>caller</code> å±æ€§ï¼Œå› ä¸ºç±»çš„åº•å±‚å®ç°ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œæ‰€ä»¥ä¸èƒ½è®¿é—®è¿™ä¸¤ä¸ªå±æ€§ï¼Œæˆ–è€…æŠ›å‡ºå¼‚å¸¸ï¼Œå¦‚ä¸‹<figure id="de0a5442-9983-4103-9ac8-08a477dfb0cb" class="image"><a href="4%20%E7%B1%BB/Untitled%204.png"><img style="width:1106px" src="4%20%E7%B1%BB/Untitled%204.png"/></a></figure></li></ul></li></ul><ul id="6138d8c3-9585-4071-80b3-ead2c4315548" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å­ï¼šç±»å®ä¾‹åŒ–å¯ä»¥ä¸ä¼ å…¥å‚æ•°ï¼Œä¸ä¼ å…¥å‚æ•°å°±å¯ä»¥çœç•¥ç±»ååçš„æ‹¬å·<pre id="e7297056-e361-4265-845d-b74717903490" class="code code-wrap"><code>class Person {
  constructor(age, name) {
    console.log(arguments.length);
    this.age = age;
    this.name = name;
  }
}
let p0 = new Person; // 0
console.log(p0.name); // undefined
let p1 = new Person(); // 0
console.log(p1.name); // undefined
let p2 = new Person(22); // 1
console.log(p2.name); // undefined
let p3 = new Person(22, &quot;mangwu&quot;); // 2
console.log(p3.name); // mangwu</code></pre></li></ul><ul id="472495cd-2e50-4a9d-9460-045b43326614" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å­ï¼šåœ¨<code>new</code> ç±»æ„é€ å‡½æ•°çš„<a href="4%20%E7%B1%BB.html">ç¬¬äº”æ­¥</a>ï¼Œå¦‚æœ<strong>ç±»æ„é€ å‡½æ•°æœ‰è¿”å›å€¼</strong>ï¼Œè¿™ä¸ªè¿”å›å€¼ä¸ä¼šå’Œç±»æœ‰ä»»ä½•å…³è”ï¼Œå› ä¸ºè¿”å›å€¼çš„åŸå‹æŒ‡é’ˆå¹¶æ²¡æœ‰è¢«ä¿®æ”¹ä¸ºç±»çš„åŸå‹<pre id="c6426c76-e739-4877-aaa0-6ab44aaa0c7f" class="code code-wrap"><code>class Person {
  constructor(name, override) {
    this.name = name;
    if (override) {
      return {
        name,
      };
    }
  }
}
const p1 = new Person(&quot;mangwu&quot;);
const p2 = new Person(&quot;mangwu&quot;, true);
console.log(p1); // Person { name: &#x27;mangwu&#x27; }
console.log(p1 instanceof Person); // true
console.log(p2); // { name: &#x27;mangwu&#x27; }
console.log(p2 instanceof Person); // false</code></pre></li></ul><ul id="909aa391-080c-4046-90b4-730e226f4230" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å­ï¼šè°ƒç”¨ç±»çš„æ„é€ å¿…é¡»ä½¿ç”¨<code>new</code> ï¼Œå¦åˆ™æŠ¥é”™ï¼Œå¯¹äºä¿å­˜åœ¨å®ä¾‹ä¸­çš„<code>constructor</code> å±æ€§åŒæ ·å¦‚æ­¤<pre id="413718e9-431f-40e6-92f8-76d880fb52b0" class="code code-wrap"><code>class Person {
  constructor(name) {
    this.name = name;
  }
}

try {
  const p1 = Person(&quot;mangwu&quot;);
} catch (error) {
  console.log(error.toString()); // TypeError: Class constructor Person cannot be invoked without &#x27;new&#x27;
}

const p2 = new Person(&quot;mangwu&quot;);
try {
  const p3 = p2.constructor(&quot;wumang&quot;);
} catch (error) {
  console.log(error.toString()); // TypeError: Class constructor Person cannot be invoked without &#x27;new&#x27;
}

const p4 = new p2.constructor(&quot;wumang&quot;);

console.log(p2); // Person { name: &#x27;mangwu&#x27; }
console.log(p4); // Person { name: &#x27;wumang&#x27; }</code></pre><ul id="2965cc7e-ff47-4f18-89f8-fcf3d69f0545" class="bulleted-list"><li style="list-style-type:circle">ä¸ºä½•ä¸€å®šè¦ä½¿ç”¨<code>new</code> æ˜¯ECMAScript6 ç±»ç‰¹æ€§è§„èŒƒçš„ï¼Œå®ƒé€šè¿‡<code>new.target</code> çš„å€¼åˆ¤æ–­ä½¿ç”¨äº†<code>new</code> ï¼Œå…·ä½“å®ç°æŸ¥çœ‹<a href="4%20%E7%B1%BB/%E3%80%90%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6%E3%80%91JavaScript%E4%B8%AD%E7%9A%84%E7%B1%BB.html">ä½¿ç”¨å‡ºäº†ç±»ä¹‹å¤–çš„è¯­æ³•(é—­åŒ…åŠ æ„é€ å‡½æ•°)ä¸ºPersonClassç¼–å†™ç­‰ä»·ä»£ç </a> </li></ul></li></ul><h2 id="747936fc-bd86-4a6a-820e-18d8864810c2" class="">4.2.2 æŠŠç±»å½“æˆç‰¹æ®Šå‡½æ•°</h2><ul id="2ec4668a-4598-4ff9-a17a-cc537f275ae6" class="bulleted-list"><li style="list-style-type:disc">ECMAScriptä¸­çš„ç±»å’Œå…¶ä»–è¯­è¨€ä¸å¤ªåŒï¼ŒECMAScriptä¸­æ²¡æœ‰æ­£å¼çš„ç±»è¿™ä¸ªç±»å‹ï¼Œå®ƒåªæ˜¯åœ¨æ„é€ å‡½æ•°å’ŒåŸå‹é“¾çš„ç»§æ‰¿ä¸Šæå‡ºçš„å¿«é€Ÿåˆ›å»ºå¯¹è±¡çš„è¯­æ³•ç³–</li></ul><ul id="723aea19-6770-4800-96ba-a50ddb247c6f" class="bulleted-list"><li style="list-style-type:disc">ä»å„æ–¹é¢çœ‹ï¼Œ<strong>ECMAScript ç±»å°±æ˜¯ä¸€ç§ç‰¹æ®Šå‡½æ•°</strong>ï¼Œä¸€ç§ä¸èƒ½ç›´æ¥è°ƒç”¨åªèƒ½é€šè¿‡<code>new</code> æ“ä½œç¬¦è°ƒç”¨çš„äº§ç”Ÿç±»å®ä¾‹çš„ç‰¹æ€§å‡½æ•°</li></ul><ul id="5cf96f67-c474-4617-b48a-db31f3bccca4" class="bulleted-list"><li style="list-style-type:disc">å’Œæ™®é€šæ„é€ å‡½æ•°ç›¸åŒçš„åœ°æ–¹<ol type="1" id="8868abf1-6b11-44ca-847a-c3e73523c308" class="numbered-list" start="1"><li>ç±»æ ‡è¯†ç¬¦æœ‰<code>prototype</code>å±æ€§ï¼Œå’Œæ¯ä¸ªå‡½æ•°å£°æ˜åå°±æœ‰çš„<code>prototype</code> ç›¸åŒï¼Œä¸”è¿™ä¸ªåŸå‹ä¹Ÿæœ‰ä¸€ä¸ª<code>constructor</code>å±æ€§æŒ‡å‘ç±»è‡ªèº«</li></ol><ol type="1" id="f79f7f56-0762-464c-902a-ba9d1c081a55" class="numbered-list" start="2"><li>ä¸æ™®é€šæ„é€ å‡½æ•°ä¸€æ ·ï¼Œå¯ä»¥ä½¿ç”¨<code>instanceof</code>æ“ä½œç¬¦æ£€æŸ¥æ„é€ å‡½æ•°åŸå‹æ˜¯å¦å­˜åœ¨äºå®ä¾‹çš„åŸå‹é“¾ä¸­</li></ol><ol type="1" id="babc2098-378b-4bf4-a810-9e6cd881c2ac" class="numbered-list" start="3"><li>ç±»æœ¬èº«å…·æœ‰å’Œæ™®é€šæ„é€ å‡½æ•°ä¸€æ ·çš„è¡Œä¸ºï¼Œç±»ä¸Šä¸‹æ–‡ä¸­ï¼Œç±»æœ¬èº«ä½¿ç”¨<code>new</code>è°ƒç”¨æ—¶å°±ä¼šè¢«å½“æˆæ„é€ å‡½æ•°</li></ol><ol type="1" id="c0f466d2-b21e-4a12-a85e-7a132fa44c40" class="numbered-list" start="4"><li>ç±»ä¸å…¶ä»–å‡½æ•°ä¸€æ ·ï¼Œå¯ä»¥ä½¿ç”¨ç±»è¡¨è¾¾å¼å£°æ˜åç«‹å³è°ƒç”¨(å¿…é¡»ä½¿ç”¨<code>new</code>è°ƒç”¨)</li></ol></li></ul><ul id="3094719d-6b21-4e65-83ea-e28219a0082a" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å­<pre id="664b2a27-5ee7-45a1-b33c-53b9075f9185" class="code"><code>// ç±»ä¸æ„é€ å‡½æ•°ç›¸åŒçš„åœ°æ–¹
// 1. ç±»ä¹Ÿå…·æœ‰prototypeå±æ€§ï¼Œå¹¶ä¸”è¿™ä¸ªåŸå‹ä¹Ÿæœ‰ä¸€ä¸ªconstructoræŒ‡å‘è‡ªèº«
class Person {}
console.log(Person.prototype); // {} åŸå‹çš„å±æ€§æ˜¯ä¸å¯æšä¸¾çš„
console.log(Person === Person.prototype.constructor); // true

// 2. ä¸æ™®é€šæ„é€ å‡½æ•°ä¸€æ ·å¯ä»¥ä½¿ç”¨instanceof æ£€æŸ¥æ„é€ å‡½æ•°çš„åŸå‹æ˜¯å¦å­˜åœ¨äºå®ä¾‹åŸå‹é“¾ä¸­
let p = new Person();
console.log(p instanceof Person); // true

// 3. ç±»æœ¬èº«ä¸æ™®é€šæ„é€ å‡½æ•°å…·æœ‰ä¸€æ ·çš„è¡Œä¸ºï¼Œä½¿ç”¨newè°ƒç”¨ç±»æ—¶ç±»å°±ä¼šè¢«å½“ä½œæ„é€ å‡½æ•°
console.log(p.constructor === Person); // true
console.log(p.__proto__ === Person.prototype); // true
console.log(p.__proto__.constructor === Person.prototype.constructor); // true

// 4. ç±»åœ¨å’Œå…¶ä»–å‡½æ•°ä¸€æ ·ï¼Œå¯ä»¥ä½¿ç”¨ç±»è¡¨è¾¾å¼å£°æ˜åç«‹å³è°ƒç”¨
let foo = new (class Bar {
  constructor(str) {
    console.log(str);
    this.str = str;
  }
})(&quot;bar&quot;); // bar
console.log(foo); // Bar { str: &#x27;bar&#x27; }</code></pre></li></ul><ul id="a2881717-5c68-4688-b368-5478b8c0571c" class="bulleted-list"><li style="list-style-type:disc"><strong>æ³¨æ„</strong><ul id="b0dcd616-d822-4751-a07a-3f0ce8a27475" class="bulleted-list"><li style="list-style-type:circle">ç±»ä¸­å®šä¹‰çš„<code>constructor</code>å’Œç±»åŸå‹ä¸­çš„å±æ€§<code>constructor</code> ä¸æ˜¯åŒä¸€ç§ä¸œè¥¿<ul id="b43cba32-960c-47c9-9827-853cde999708" class="bulleted-list"><li style="list-style-type:square">å‰è€…æ˜¯ç±»ä½œä¸ºç‰¹æ®Šå‡½æ•°è¢«è°ƒç”¨æ—¶éœ€è¦æ‰§è¡Œçš„æ„é€ å‡½æ•°ï¼Œå®ƒè¢«å®šä¹‰åœ¨ç±»çš„[[Prototype]]ç‰¹æ€§ä¸­ï¼Œå®ƒæœ‰è‡ªå·±çš„åŸå‹å¯¹è±¡</li></ul><ul id="98208acc-97f5-4f22-8a03-4d49f6d9f36e" class="bulleted-list"><li style="list-style-type:square">è€Œåè€…æ˜¯ç±»åŸå‹ä¸Šçš„å±æ€§ï¼Œå±æ€§å€¼ä¸ºç±»æœ¬èº«</li></ul></li></ul><ul id="13e92c44-26c5-4a8b-9528-a908deac29d5" class="bulleted-list"><li style="list-style-type:circle">ä½¿ç”¨ç±»å£°æ˜çš„å®ä¾‹çš„[[Prototype]]ç‰¹æ€§æŒ‡å‘çš„æ˜¯ç±»çš„åŸå‹ï¼Œå³<code>ClassName.prototype</code> </li></ul><ul id="fc54dff6-755d-48fe-b59b-806558f49b07" class="bulleted-list"><li style="list-style-type:circle">ä½¿ç”¨ç±»ä¸­å®šä¹‰<code>constructor</code> å£°æ˜çš„å®ä¾‹æŒ‡å‘çš„æ˜¯æ„é€ å‡½æ•°æœ¬èº«çš„åŸå‹ï¼Œå³<code>ClassName.__proto__.constructor.prototype</code> </li></ul><ul id="d93e78b1-a7dc-4daf-ab87-e88087de92af" class="bulleted-list"><li style="list-style-type:circle"><code>constructor</code> ä½œä¸ºç±»ä¸­å”¯ä¸€çš„<span style="border-bottom:0.05em solid"><mark class="highlight-red"><a href="4%20%E7%B1%BB/%E3%80%90%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6%E3%80%91JavaScript%E4%B8%AD%E7%9A%84%E7%B1%BB.html">ä¿ç•™æ–¹æ³•åç§°</a></mark></span> ï¼Œå®ƒæ˜¯ä½œä¸ºç±»å¯¹è±¡æœ¬èº«çš„[[Prototype]]ç‰¹æ€§ä¸­çš„æ–¹æ³•ï¼ˆç±»å¯¹è±¡çš„åŸå‹æ–¹æ³•ï¼‰ï¼Œè€Œä¸æ˜¯åƒå…¶ä»–æ–¹æ³•ä¸€æ ·å®šä¹‰åœ¨<code>ClassName.prototype</code> å±æ€§ä¸Šï¼ˆå®ä¾‹å¯¹è±¡çš„åŸå‹æ–¹æ³•ï¼‰<pre id="1f596d0c-3b24-4999-bf05-954a6e74907d" class="code"><code>// ä¸€ä¸ªæ˜¯å®šä¹‰åœ¨ç±»ä¸­çš„æ„é€ å‡½æ•°constructor
// ä¸€ä¸ªæ˜¯å®šä¹‰åœ¨ç±»çš„prototypeå±æ€§ä¸­çš„constructorå±æ€§ï¼ŒæŒ‡å‘ç±»æœ¬èº«
class Person {}

let p1 = new Person();
console.log(p1.constructor === Person); // true
console.log(p1 instanceof Person); // true
console.log(p1 instanceof Person.constructor); // false

let p2 = new Person.constructor();
console.log(p2.constructor === Person); // false
console.log(p2 instanceof Person); // false
console.log(p2 instanceof Person.constructor); // true

console.log(p2.constructor === Person.constructor); // true
console.log(p2.__proto__ === Person.__proto__.constructor.prototype); // true</code></pre><ul id="6e548fe0-3316-4e25-8ebf-481531ed09d0" class="bulleted-list"><li style="list-style-type:square"><code>p2</code> æ˜¯ç±»ä¸­çš„æ„é€ å‡½æ•°æœ¬èº«åˆ›å»ºçš„å®ä¾‹ï¼Œå®ƒçš„åŸå‹è¢«èµ‹å€¼ä¸ºå‡½æ•°æœ¬èº«çš„<code>prototype</code> å±æ€§ï¼Œå³<code>Person.__proto__.constructor.prototype</code></li></ul></li></ul><ul id="ea3e5bd7-7399-41e9-8cc9-e4bfc4f8b52f" class="bulleted-list"><li style="list-style-type:circle">ä¸Šé¢ä¾‹å­çš„å¯è§†åŒ–å¦‚ä¸‹<figure id="3ffa2da2-5c3a-4be7-92bb-fc5c9005c60b" class="image"><a href="4%20%E7%B1%BB/%25E7%25B1%25BB%25E6%259E%2584%25E9%2580%25A0%25E5%2587%25BD%25E6%2595%25B0.png"><img style="width:1976px" src="4%20%E7%B1%BB/%25E7%25B1%25BB%25E6%259E%2584%25E9%2580%25A0%25E5%2587%25BD%25E6%2595%25B0.png"/></a></figure></li></ul></li></ul><ul id="ada24e87-77d7-4dbc-a83a-9fbe383be00f" class="bulleted-list"><li style="list-style-type:disc"><strong>ç±»æ˜¯JavaScriptçš„ä¸€ç­‰å…¬æ°‘ï¼Œ</strong>å› æ­¤å¯ä»¥åƒå…¶ä»–å¯¹è±¡æˆ–å‡½æ•°å¼•ç”¨ä¸€æ ·æŠŠç±»ä½œä¸ºå‚æ•°ä¼ é€’ï¼š<strong>ç±»æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡</strong><pre id="2cdea429-49c5-442d-93c2-390ed3a6c157" class="code"><code>// ç±»æ˜¯JavaScriptçš„ä¸€ç­‰å…¬æ°‘ï¼Œå¯ä»¥åƒå¯¹å¾…å…¶ä»–å¯¹è±¡æˆ–å‡½æ•°å¼•ç”¨ä¸€æ ·æŠŠç±»ä½œä¸ºå‚æ•°ä¼ é€’
let classList = [
  class {
    constructor(id) {
      this.id_ = id;
      console.log(`instance ${this.id_}`);
    }
  },
];
function createInstance(classDefinition, id) {
  return new classDefinition(id);
}
let foo = createInstance(classList[0], 2415); // instance 2415</code></pre><ul id="6c367c56-7f7b-4440-ac26-06cb292a97b6" class="bulleted-list"><li style="list-style-type:circle">æŠŠç±»å½“ä½œä¸€ä¸ªå¯¹è±¡å¯¹å¾…ï¼Œå¯ä»¥ä¿å­˜åœ¨æ•°ç»„ä¸­ï¼Œå¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°</li></ul></li></ul><h1 id="80185042-77a8-4d51-b60e-b0c7f4ce4814" class="">4.3 å®ä¾‹ã€åŸå‹å’Œç±»æˆå‘˜</h1><p id="d27d8e8c-9c1c-4ec5-956c-f926ec911cf6" class="">ç±»çš„è¯­æ³•æ–¹ä¾¿å®šä¹‰å­˜åœ¨äºå®ä¾‹ä¸Šçš„æˆå‘˜ï¼ˆå¯¹è±¡è‡ªæœ‰å±æ€§ï¼‰ã€åº”è¯¥å­˜åœ¨äºåŸå‹ä¸Šçš„æˆå‘˜ï¼ˆå¯¹è±¡åŸå‹å±æ€§ï¼‰ã€ä»¥åŠåº”è¯¥å­˜åœ¨äºç±»æœ¬èº«çš„æˆå‘˜ï¼ˆç±»è‡ªæœ‰å±æ€§ï¼‰</p><h2 id="838bbdfc-9ef4-4c59-bdd1-1874ed510cc1" class="">4.3.1 å®ä¾‹æˆå‘˜</h2><ul id="f51541d4-7493-490e-ab97-56e982073a1c" class="bulleted-list"><li style="list-style-type:disc">æ¯æ¬¡é€šè¿‡ <code>new</code> æ“ä½œç¬¦è°ƒç”¨ç±»æ ‡è¯†ç¬¦ï¼Œéƒ½ä¼šæ‰§è¡Œç±»æ„é€ å‡½æ•°<code>constructor</code></li></ul><ul id="df2bfa8a-da42-4902-9ff7-8cc112ad4085" class="bulleted-list"><li style="list-style-type:disc"><code>constructor</code> å‡½æ•°ä¼šä¸ºæ–°åˆ›å»ºçš„å®ä¾‹(<code>this</code>)æ·»åŠ <strong>è‡ªæœ‰</strong>ï¼ˆ<strong>own</strong>ï¼‰å±æ€§</li></ul><ul id="71a5b28f-2826-4d6c-863f-a7341044160a" class="bulleted-list"><li style="list-style-type:disc">è‡³äºæ·»åŠ ä»€ä¹ˆæ ·çš„å±æ€§ï¼Œå±æ€§å€¼çš„ç±»å‹æ²¡æœ‰ä»»ä½•é™åˆ¶</li></ul><ul id="d4d54c0b-3c88-4bc6-b5cb-fd429d8d58ee" class="bulleted-list"><li style="list-style-type:disc">åœ¨<code>constructor</code> å‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œä»ç„¶å¯ä»¥ç»™å®ä¾‹ç»§ç»­æ·»åŠ æ–°æˆå‘˜</li></ul><ul id="32115239-9274-49eb-9444-e807821af271" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å­<pre id="301cdea4-54cc-4bd8-88d3-8d9d677a363b" class="code"><code>// å®ä¾‹æˆå‘˜ï¼Œå³å®ä¾‹å¯¹è±¡çš„è‡ªæœ‰å±æ€§æˆ–æ–¹æ³•
class Person {
  constructor() {
    // ä½¿ç”¨åŒ…è£…å¯¹è±¡æ˜¯ä¸ºäº†è¯´æ˜å®ä¾‹æˆå‘˜ä¸ä¼šå…±äº«å±äºå¯¹è±¡çš„è‡ªæœ‰å±æ€§æˆ–æ–¹æ³•
    this.name = new String(&quot;mangwu&quot;);
    this.sayName = () =&gt; console.log(this.name);
    this.nicknames = [&quot;mang&quot;, &quot;mango&quot;];
  }
}
let p1 = new Person();
let p2 = new Person();
console.log(p1.name === p2.name); // false
console.log(p1.sayName === p2.sayName); // false
console.log(p1.nicknames === p2.nicknames); // false</code></pre><ul id="bacca665-c7d9-4083-a402-1c6eda0c119a" class="bulleted-list"><li style="list-style-type:circle">åœ¨ç±»æ„é€ å‡½æ•°ä¸­ä¸º<code>this</code> æ·»åŠ çš„å±æ€§å°±æ˜¯å®ä¾‹æˆå‘˜ï¼Œå› ä¸ºå®ƒä»¬ä¸åœ¨<code>Person.prototype</code> ä¸Šï¼Œæ‰€ä»¥ä¸ä¼šå…±äº«</li></ul></li></ul><h2 id="5418715e-3612-47c4-a502-2756cf8a3120" class="">4.3.2 åŸå‹æ–¹æ³•å’Œè®¿é—®å™¨</h2><h3 id="c4fd8d13-80bd-44f7-ad82-f86d525cb379" class="">4.3.2.1 åŸå‹æ–¹æ³•</h3><ul id="f9c899fa-8579-41b9-8b79-b419245c9575" class="bulleted-list"><li style="list-style-type:disc">ä¸Šé¢ä¸€å°èŠ‚çš„ä¾‹å­ä¸­ï¼Œ<code>this.sayName()</code> æ–¹æ³•å…·æœ‰ç›¸åŒçš„é€»è¾‘ï¼Œ<code>this</code> åœ¨å®ä¾‹è°ƒç”¨æ—¶ä¼šè‡ªåŠ¨è¯†åˆ«ï¼Œæ‰€ä»¥å¯ä»¥å®šä¹‰åˆ°åŸå‹é“¾ä¸Šä½œä¸ºå…±äº«æ–¹æ³•ä½¿ç”¨ï¼Œæ–¹ä¾¿å¤ç”¨æ–¹æ³•</li></ul><ul id="df3cc905-d2fa-417e-be85-a39466ca370a" class="bulleted-list"><li style="list-style-type:disc">ä¸ºäº†åœ¨å®ä¾‹ä¹‹é—´å…±äº«æ–¹æ³•ï¼Œ<strong>ç±»å®šä¹‰è¯­æ³•</strong>æŠŠåœ¨<strong>ç±»å—ä¸­</strong>å®šä¹‰çš„æ–¹æ³•ä½œä¸ºåŸå‹æ–¹æ³•ï¼Œè¯­æ³•å¦‚ä¸‹<pre id="49486ae8-ea63-493b-b388-1dc33431f3a8" class="code"><code>class ClassName {
	constructor() {
		// ç±»ä¿ç•™æ–¹æ³•ï¼Œå®šä¹‰åœ¨ç±»çš„__proto__ç‰¹æ€§ä¸Š
	}
	method1() {
		// ç±»åŸå‹æ–¹æ³•ï¼Œå®šä¹‰åœ¨ç±»çš„prototypeå±æ€§ä¸Š
	}
	method2() {
		// å¯ä»¥å®šä¹‰å¤šä¸ªä¸é‡åçš„ç±»åŸå‹æ–¹æ³•
	}
	...
	methodn() {
		// å¦‚æœè¯¥ç±»ç»§æ‰¿äº†å…¶ä»–ç±»ï¼Œé‚£ä¹ˆå®šä¹‰çš„åŸå‹æ–¹æ³•å¯ä»¥ä¸çˆ¶ç±»çš„æ–¹æ³•é‡åä»¥é®è”½çˆ¶ç±»æ–¹æ³•
	}
}</code></pre><ul id="c0a464d9-e28b-43d4-842b-7b0748720227" class="bulleted-list"><li style="list-style-type:circle"><code>methodi</code> æ˜¯ç±»æ–¹æ³•åç§°ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²ï¼ˆstringï¼‰ï¼Œç¬¦å·ï¼ˆSymbolï¼‰æˆ–è®¡ç®—çš„å€¼ï¼ˆexpressionï¼‰ä½œä¸ºé”®</li></ul></li></ul><ul id="876fff1b-4198-4146-a774-9c1d7c9f094d" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å­<pre id="1e1e3212-a19a-4fa5-aad2-80827fec4dbf" class="code"><code>class Person {
  // constructor æ˜¯ç±»å”¯ä¸€ä¿ç•™çš„å®šä¹‰åœ¨__proto__ä¸Šçš„æ–¹æ³•
  // ç”¨äºåˆ›å»ºå®ä¾‹æˆå‘˜
  constructor(friends = []) {
    // æ·»åŠ åˆ°thisçš„æ‰€æœ‰å†…å®¹éƒ½ä¼šå­˜åœ¨äºä¸åŒå®ä¾‹ä¸Š
    this.locate = () =&gt; console.log(&quot;instance&quot;);
    this.friends = friends;
  }
  locate() {
    console.log(&quot;prototype&quot;);
  }
  *[Symbol.iterator]() {
    yield* this.friends;
  }
  [22]() {
    console.log(22);
  }
}
const p = new Person([&quot;mangwu&quot;, &quot;mangwu&quot;, &quot;wugo&quot;]);
p.locate(); // instance
Person.prototype.locate(); // prototype

for (const friend of p) {
  console.log(friend); // mangwu mangwu wugo
}
p[22](); // 22</code></pre><ul id="06f327ec-6ee6-428c-9bb7-57626e76a82f" class="bulleted-list"><li style="list-style-type:circle">å¯¹æ¯”äº†<code>this.locate()</code> å’Œ<code>Person.prototype.locate()</code> æ–¹æ³•ï¼Œä¸€ä¸ªå±äºç±»å®ä¾‹æˆå‘˜ï¼Œä¸€ä¸ªå±äºç±»åŸå‹æ–¹æ³•</li></ul><ul id="1c799a16-9fa4-4f4f-96fa-e6704e472211" class="bulleted-list"><li style="list-style-type:circle">å®šä¹‰æ„é€ å™¨å·¥å‚å‡½æ•°ï¼ˆ<code>Symbol.iterator</code>ï¼‰ä½¿å¾—ç±»å®ä¾‹å¯è·Œæ‰“</li></ul><ul id="ca509efd-273c-4d2e-832d-af158e6ff9bc" class="bulleted-list"><li style="list-style-type:circle">å®šä¹‰ä»¥æ•°å­—ä¸ºåç§°çš„å‡½æ•°ï¼Œè°ƒç”¨æ—¶éœ€è¦ä½¿ç”¨ä¸­æ‹¬å·</li></ul></li></ul><ul id="3c586404-9ee0-4854-b518-c69c108c6804" class="bulleted-list"><li style="list-style-type:disc">æ³¨æ„ï¼ŒJavaScripté«˜çº§ç¨‹åºè®¾è®¡ï¼ˆç¬¬4ç‰ˆï¼‰ä¸­æœ‰å¦‚ä¸‹è¯´æ³•<blockquote id="0306ea3f-f263-4bfb-bc0b-8397daf3defb" class="">å¯ä»¥æŠŠæ–¹æ³•å®šä¹‰åœ¨ç±»æ„é€ å‡½æ•°ä¸­æˆ–ç±»å—ä¸­ï¼Œä½†æ˜¯ä¸èƒ½åœ¨ç±»å—ä¸­ç»™åŸå‹æ·»åŠ åŸå§‹å€¼æˆ–å¯¹è±¡ä½œä¸ºæˆå‘˜æ•°æ®</blockquote><p id="4ba0469e-e468-4f57-9266-4c041749a198" class="">è¦ç†è§£è¿™å¥è¯çš„å«ä¹‰åº”è¯¥ä»å‡ ä¸ªæ–¹é¢å…¥æ‰‹ï¼š</p><ol type="1" id="75339be9-323b-458f-81ca-99009d7f6ea5" class="numbered-list" start="1"><li>ç›´æ¥åœ¨ç±»å—ä¸­è€Œä¸æ˜¯åœ¨æ„é€ å‡½æ•°ç¡®å®æ— æ³•ç»™ç±»<strong>åŸå‹</strong>æ·»åŠ åŸå§‹å€¼æˆ–å¯¹è±¡ä½œä¸ºæˆå‘˜æ•°æ®<pre id="5525d22a-7fda-4c8c-921d-3e2aa17fdf4a" class="code"><code>class Person {
	name: &#x27;Jake&#x27;
}
// æŠ¥è¯­æ³•é”™è¯¯ SyntaxError: Unexpected identifier</code></pre><ul id="9caea2f1-ae83-49e0-8698-dd20c62f7f41" class="bulleted-list"><li style="list-style-type:disc">è¿™å±äºè¯­æ³•é”™è¯¯ï¼Œæ•´ä¸ªä»£ç å°±æ— æ³•è¿è¡Œ</li></ul></li></ol><ol type="1" id="a2a01136-fe6b-4920-bfe1-908720fc1ef4" class="numbered-list" start="2"><li>ä½†æ˜¯ç›´æ¥åœ¨ç±»å—ä¸­ä½¿ç”¨èµ‹å€¼è¯­å¥æ˜¯å¯ä»¥ç»™<strong>å®ä¾‹</strong>æ·»åŠ åŸå§‹å€¼æˆ–å¯¹è±¡ä½œä¸ºæˆå‘˜æ•°æ®çš„<pre id="b98c1765-b385-4881-b13c-0cf31ed9e1ee" class="code"><code>class Test {
  name = 2;
}
const test = new Test();
console.log(test); // Test { name: 2 }
console.log(Object.getOwnPropertyDescriptors(test)); 
// {
  // name: { value: 2, writable: true, enumerable: true, configurable: true }
// }</code></pre><ul id="fd830f3c-bc63-427e-aa2b-21468dd56cf3" class="bulleted-list"><li style="list-style-type:disc"><code>name</code> æ˜¯å®šä¹‰åœ¨æ–°å®ä¾‹ä¸Šçš„è‡ªæœ‰å±æ€§ï¼Œå®ƒå¯é…ç½®å¯æšä¸¾å¯å†™</li></ul></li></ol><ol type="1" id="55dfb7d2-f66a-4a97-88eb-ae48f0b4404c" class="numbered-list" start="3"><li>è™½ç„¶ä¸èƒ½ç›´æ¥åœ¨ç±»å—ä¸­ç»™ç±»åŸå‹æ·»åŠ åŸå§‹å€¼æˆ–å¯¹è±¡ä½œä¸ºæˆå‘˜ï¼Œä½†æ˜¯å¯ä»¥åœ¨æ„é€ å‡½æ•°ä¸­ç›´æ¥é€šè¿‡ç±»åŸå‹è¿›è¡Œæ·»åŠ <pre id="982b71ed-3e4a-4bd6-b4e7-bc5a5016d18b" class="code"><code>class Test2 {
  constructor() {
    Test2.prototype.name = 3;
  }
}
const test2 = new Test2();
console.log(test2.__proto__); // { name: 3 }
console.log(Object.getOwnPropertyDescriptors(test2.__proto__));
// æ‰“å°
{
  constructor: {
    value: [class Test2],
    writable: true,
    enumerable: false,
    configurable: true
  },
  name: { value: 3, writable: true, enumerable: true, configurable: true }
}</code></pre><ul id="6c1eb72e-0168-49f5-ba58-d1e8e3c3607b" class="bulleted-list"><li style="list-style-type:disc">å¯ä»¥åœ¨æ„é€ å‡½æ•°ä¸­ç›´æ¥è·å–ç±»çš„åŸå‹å±æ€§ç„¶åå®šä¹‰åŸå‹çš„åŸå§‹å€¼æˆ–å¯¹è±¡å±æ€§æˆå‘˜</li></ul><ul id="9c734a8e-c7c1-4eb1-8e1d-44ae1becf89a" class="bulleted-list"><li style="list-style-type:disc">ä½†æ˜¯<strong>ä¸èƒ½</strong><a href="4%20%E7%B1%BB/%E3%80%90%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6%E3%80%91JavaScript%E4%B8%AD%E7%9A%84%E7%B1%BB.html">é‡å†™ç±»çš„åŸå‹</a> <ul id="7ecdb35a-d539-4290-8bd4-69b043cc1015" class="bulleted-list"><li style="list-style-type:circle">åœ¨æ„é€ å‡½æ•°å†…éƒ¨é‡å†™åŸå‹<ul id="cfdbcc58-a5c0-4c30-865b-9b82c0769fbf" class="bulleted-list"><li style="list-style-type:square">å¦‚æœä¸é€šè¿‡ç±»å®ä¾‹åŒ–å¾—åˆ°å¯¹è±¡ï¼ˆå³ä¸è°ƒç”¨ç±»çš„<code>constructor</code>æ„é€ æ–¹æ³•ï¼‰JavaScriptä¸€èˆ¬æƒ…å†µä¸ä¼šæŠ¥é”™ï¼Œè¯­æ³•æ²¡æœ‰é—®é¢˜</li></ul><ul id="4161fe69-6eae-4e3d-8c92-016e4257a840" class="bulleted-list"><li style="list-style-type:square">ä½†æ˜¯ä¸€æ—¦å®ä¾‹åŒ–ï¼Œå› ä¸ºç±»æœ¬èº«çš„ä»£ç å¼ºåˆ¶è¦æ±‚åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹è¿è¡Œï¼Œæ‰€ä»¥ä¼šæŠ¥å‡ºç±»å‹é”™è¯¯ï¼Œå³åŸå‹ä¸å¯è¯»</li></ul></li></ul><ul id="61113e96-535d-4393-9a5d-5411f464b28b" class="bulleted-list"><li style="list-style-type:circle">åœ¨æ„é€ å‡½æ•°å¤–éƒ¨ï¼ˆç±»å¤–éƒ¨ï¼‰é‡å†™åŸå‹<ul id="165985f6-8e48-4a46-9545-ded34756ec56" class="bulleted-list"><li style="list-style-type:square">å¦‚æœè„šæœ¬éä¸¥æ ¼æ¨¡å¼ï¼Œè¯¥è¯­å¥ä¼šè¢«å¿½ç•¥ï¼Œä¸ä¼šæŠ¥é”™</li></ul><ul id="2f668032-1d2b-4acd-876f-ce05da03f4f7" class="bulleted-list"><li style="list-style-type:square">å¦‚æœè„šæœ¬æ˜¯ä¸¥æ ¼æ¨¡å¼çš„ï¼Œæ‰§è¡Œè¯¥è¯­å¥æ—¶ä¼šæŠ¥é”™ï¼ŒæŠ›å‡ºç±»å‹é”™è¯¯</li></ul></li></ul></li></ul></li></ol></li></ul><h3 id="2e1eaf7c-a507-4bf1-baab-7977b7c8c21b" class="">4.3.2.2 è®¿é—®å™¨</h3><ul id="a2fefde5-e14c-42c6-890e-536cd101024f" class="bulleted-list"><li style="list-style-type:disc">ç±»å®šä¹‰æ”¯æŒè·å–å’Œè®¾ç½®è®¿é—®å™¨ï¼Œå…³äºè®¿é—®å™¨çš„è¯­æ³•å¯ä»¥æŸ¥çœ‹<a href="https://www.notion.so/getter-setter-4c63f3b052984b70b4d01a36151f6a97"><span class="icon">ğŸª…</span>getterä¸setter</a> </li></ul><ul id="bd5c96e3-3788-4ba1-ae8f-d914d215fca1" class="bulleted-list"><li style="list-style-type:disc">ç›´æ¥åœ¨ç±»å—ä¸­å®šä¹‰è®¿é—®å™¨çš„è¯­æ³•å’Œåœ¨æ™®é€šå¯¹è±¡ï¼ˆå­—é¢é‡ï¼‰ä¸­å®šä¹‰çš„è¯­æ³•ç±»ä¼¼</li></ul><ul id="f7795775-ee97-4384-b85b-adb98ead77a5" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å­<pre id="d92cc513-03e8-4f1e-9db4-e979afc0f1df" class="code"><code>class Person {
  set name(newName) {
    this.name_ = newName;
  }
  get name() {
    return this.name_;
  }
}
const person = new Person();
console.log(person); // Person {}
person.name = &quot;mangwu&quot;;
console.log(person); // Person { name_: &#x27;mangwu&#x27; }</code></pre><ul id="665ca374-a8a7-4be8-8822-772712fc4548" class="bulleted-list"><li style="list-style-type:circle">å®é™…ä¸Šç±»å¹¶æ²¡æœ‰å®šä¹‰<code>name_</code> æˆå‘˜ï¼Œæ‰€ä»¥åˆæ¬¡æ‰“å°æ˜¯<code>person</code> ä¸­æ˜¯æ²¡æœ‰<code>name_</code> å±æ€§çš„</li></ul><ul id="6940b56f-834c-4d35-8fd3-ba13407fdd6e" class="bulleted-list"><li style="list-style-type:circle">ä½†æ˜¯é€šè¿‡<code>person.name</code> ä¸ºè®¿é—®å™¨å±æ€§èµ‹å€¼ï¼Œé—´æ¥è°ƒç”¨<code>setter</code> æ–¹æ³•ï¼Œä¼šä¸ºå®ä¾‹æ·»åŠ <code>name_</code> å±æ€§</li></ul><ul id="7ccedef6-bb47-47c3-8900-a435825cea58" class="bulleted-list"><li style="list-style-type:circle">å’Œç±»æ–¹æ³•æˆå‘˜ä¸€æ ·ï¼Œè®¿é—®å™¨å±æ€§ä¹Ÿæ˜¯å®šä¹‰åœ¨åŸå‹ä¸Šçš„ï¼Œå¦‚ä¸‹æ˜¯ç±»åŸå‹çš„å±æ€§ç‰¹å¾<figure id="beeab1fb-d795-46a0-a9eb-f944119e26c1" class="image"><a href="4%20%E7%B1%BB/Untitled%205.png"><img style="width:768px" src="4%20%E7%B1%BB/Untitled%205.png"/></a></figure></li></ul><ul id="e4235a43-03da-4095-bf4c-bf114330e208" class="bulleted-list"><li style="list-style-type:circle">æµè§ˆå™¨ä¸ºäº†æ›´å¥½çš„è¿›è¡Œåˆ†è¾©ï¼Œ<code>person</code>å¯¹è±¡çš„è®¿é—®å™¨å±æ€§ä¼šåœ¨è‡ªæœ‰å±æ€§ä¸­æœ‰æ˜¾ç¤ºï¼ˆä½†æ˜¯å®é™…ä¸Š<strong>ä¸å­˜åœ¨</strong>ä¸€ä¸ªå«nameçš„æ•°æ®å±æ€§ï¼‰<figure id="faf027d2-db5b-4f44-8f94-980af5e44cf4" class="image"><a href="4%20%E7%B1%BB/Untitled%206.png"><img style="width:528px" src="4%20%E7%B1%BB/Untitled%206.png"/></a></figure></li></ul></li></ul><h2 id="9e11da12-f3af-4697-a505-73110474f806" class="">4.3.3 é™æ€ç±»æ–¹æ³•</h2><ul id="0192d296-305f-4285-b24f-ad2b58fe70df" class="bulleted-list"><li style="list-style-type:disc">é™æ€ç±»æ–¹æ³•ï¼ˆstatic class methodï¼‰æ˜¯å±äºç±»å¯¹è±¡æœ¬èº«çš„æ–¹æ³•ï¼Œè€Œä¸æ˜¯ç±»çš„<code>prototype</code> å±æ€§æˆ–å®ä¾‹æ–¹æ³•</li></ul><ul id="1d0f9ea9-652a-44d1-ba4d-6e13078ed9b0" class="bulleted-list"><li style="list-style-type:disc">é™æ€ç±»æ–¹æ³•é€šå¸¸ç”¨äºæ‰§è¡Œä¸ç‰¹å®šäºå®ä¾‹çš„æ“ä½œï¼Œä¹Ÿä¸è¦æ±‚å­˜åœ¨ç±»çš„å®ä¾‹</li></ul><ul id="38db2b45-b5dd-4e44-b145-0792e916f8dd" class="bulleted-list"><li style="list-style-type:disc">è¯­æ³•<pre id="5f6d17d9-e5c7-44ff-9276-a104ddd81204" class="code"><code>class ClassName{
	static methodName() {
		// thiså¼•ç”¨ç±»æœ¬èº«è€Œä¸æ˜¯å®ä¾‹å¯¹è±¡
	}
}</code></pre><ul id="da8b2818-3ec3-43d1-9898-333e3798f704" class="bulleted-list"><li style="list-style-type:circle"><code>methodName</code> å°±æ˜¯ä¸€ä¸ªé™æ€ç±»æ–¹æ³•ï¼Œå±äºä¸€ä¸ªé™æ€æˆå‘˜ï¼Œ<code>this</code> å¼•ç”¨ç±»æœ¬èº«ï¼›å…¶ä»–çš„è¯­æ³•å’ŒåŸå‹æˆå‘˜ç±»ä¼¼</li></ul></li></ul><ul id="5f887065-68cd-4b56-96c4-99b4df540122" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å­ï¼Œç®€å•ä¾‹å­<pre id="fa726c9a-9f49-44f1-b4ab-7550cc67a05f" class="code"><code>class Person {
  constructor() {
    this.locate = () =&gt; {
      console.log(&quot;instance&quot;, this);
    };
  }
  locate() {
    console.log(&quot;prototype&quot;, this);
  }
  static locate() {
    console.log(&quot;class&quot;, this);
  }
}
const person = new Person();
person.locate(); // instance Person { locate: [Function (anonymous)] }
person.__proto__.locate(); // prototype {}
Person.locate(); // class [class Person]</code></pre><ul id="221c6f67-b2f0-4276-b2e3-e940c07a9432" class="bulleted-list"><li style="list-style-type:circle">ä¸ºäº†æ›´æ¸…æ™°çš„çœ‹å‡ºä¸‰ä¸ªæ–¹æ³•çš„ä½ç½®ï¼Œå‚è€ƒå¦‚ä¸‹<code>person</code>å®ä¾‹çš„æ‰“å°<figure id="da97c90e-0fd5-4dd4-8b20-0e76fe79f1d4" class="image"><a href="4%20%E7%B1%BB/Untitled%207.png"><img style="width:864px" src="4%20%E7%B1%BB/Untitled%207.png"/></a></figure></li></ul></li></ul><ul id="5d9c393b-0470-4f16-b117-687b7d3360b0" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å­ï¼šç±»é™æ€æ–¹æ³•éå¸¸é€‚åˆä½œä¸ºå®ä¾‹å·¥å‚ï¼›åŒæ—¶é™æ€æ–¹æ³•ä¹Ÿé€‚åˆä½œä¸ºä¸€äº›ä¸å¯¹è±¡æ— å…³çš„è®¡ç®—æ–¹æ³•ï¼Œå¦‚å†…ç½®å¯¹è±¡<code>Math</code> çš„è¯¸å¤šAPI<pre id="086e90fa-b661-4a56-9a22-22c77169b81c" class="code"><code>class Person2 {
  constructor(age) {
    this.age = age;
  }
  static createPerson() {
    return new Person2(Math.floor(Math.random() * 100));
  }
}
const p1 = Person2.createPerson();
const p2 = Person2.createPerson();
console.log(p1); // Person2 { age: 89 }
console.log(p2); // Person2 { age: 34 }</code></pre><ul id="47311328-ce04-4724-80c1-099473abaa90" class="bulleted-list"><li style="list-style-type:circle">ä¸Šè¿°çš„<code>createPerson</code> å°±æ˜¯ä¸€ä¸ªé™æ€ç±»æ–¹æ³•ï¼Œå®ƒç”Ÿæˆéšæœºå¹´é¾„çš„<code>Person2</code> å®ä¾‹</li></ul></li></ul><h2 id="54e0cc47-f0db-42b7-9c95-ba0e45fe81e8" class="">4.3.3.0 MDNè¡¥å……-ç±»é™æ€åˆå§‹åŒ–å—ï¼ˆClass static initialzation blocksï¼‰</h2><figure id="5e7e1003-ed03-47e4-b507-0ddbfaefb7c1" class="link-to-page"><a href="4%20%E7%B1%BB/%E7%B1%BB%E9%9D%99%E6%80%81%E5%88%9D%E5%A7%8B%E5%8C%96%E5%9D%97%EF%BC%88Class%20static%20initalization%20blocks%EF%BC%89.html"><span class="icon">ğŸ</span>ç±»é™æ€åˆå§‹åŒ–å—ï¼ˆClass static initalization blocksï¼‰</a></figure><h2 id="b6c5eb78-9e70-4a26-b6c9-03e8a9daddad" class="">4.3.4 éå‡½æ•°åŸå‹å’Œç±»æˆå‘˜</h2><ul id="780ee6eb-d361-43f1-9951-fd056ec140af" class="bulleted-list"><li style="list-style-type:disc">æ³¨æ„æ ‡é¢˜åº”è¯¥è¿™æ ·ç†è§£ â€œéå‡½æ•°çš„ åŸå‹æˆå‘˜ å’Œ ç±»æˆå‘˜ â€ å³è®²è¿°å¦‚ä½•å®šä¹‰ä¸æ˜¯å‡½æ•°çš„å±æ€§æˆå‘˜</li></ul><ul id="ce140061-f9da-46fa-a0c7-2522605c0f49" class="bulleted-list"><li style="list-style-type:disc">è™½ç„¶ç±»å®šä¹‰å¹¶ä¸æ˜¾ç¤ºæ”¯æŒåœ¨åŸå‹æˆ–ç±»ä¸Šæ·»åŠ æˆå‘˜æ•°æ®ï¼Œä½†æ˜¯åœ¨ç±»å¤–éƒ¨å¯ä»¥æ‰‹åŠ¨æ·»åŠ <div><pre id="ba977ba7-9fd8-44d9-a2d4-72fbbebaa930" class="code"><code>class Person {
  sayName() {
    console.log(`${Person.greeting}${this.name}`);
  }
}
const person = new Person();
person.sayName(); // undefinedundefined
// å®šä¹‰ç±»æˆå‘˜
Person.greeting = &quot;My name is &quot;;

// å®šä¹‰åŸå‹æˆå‘˜
Person.prototype.name = &quot;mangwu&quot;;
person.sayName(); // My name is mangwu</code></pre></div></li></ul><ul id="169550d2-ff64-4431-9caa-353b88292cd5" class="bulleted-list"><li style="list-style-type:disc">æ³¨æ„åœ¨<strong>æ„é€ å‡½æ•°</strong>ä¸­ä¹Ÿå¯ä»¥æ·»åŠ éå‡½æ•°çš„ç±»æˆå‘˜å’ŒåŸå‹æˆå‘˜ï¼Œå‚è€ƒ<a href="4%20%E7%B1%BB.html">4.3.2.1</a> ï¼Œä½†è¿™ç§æ–¹å¼éœ€è¦å®ä¾‹åŒ–ä¸€æ¬¡åæ‰èƒ½æˆåŠŸï¼Œå¹¶ä¸æ¨è</li></ul><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="15703de2-7db9-43da-813b-e94f14bc7ecc"><div style="font-size:1.5em"><span class="icon">ğŸ’¡</span></div><div style="width:100%">æ³¨æ„ï¼šç±»å®šä¹‰ä¸­ä¹‹æ‰€ä»¥æ²¡æœ‰æ˜¾å¼æ”¯æŒæ·»åŠ æ•°æ®æˆå‘˜ï¼Œæ˜¯å› ä¸ºåœ¨å…±äº«ç›®æ ‡ï¼ˆåŸå‹å’Œç±»ï¼‰ä¸Šæ·»åŠ å¯å˜ï¼ˆå¯ä¿®æ”¹ï¼‰æ•°æ®æˆå‘˜æ˜¯ä¸€ç§<strong>åæ¨¡å¼ã€‚</strong>ä¸€èˆ¬æ¥è¯´ï¼Œå¯¹è±¡å®ä¾‹åº”è¯¥ç‹¬è‡ªæ‹¥æœ‰é€šè¿‡<code>this</code>å¼•ç”¨çš„æ•°æ®</div></figure><ul id="1c6394ba-4574-42fa-9699-122b6cd61af7" class="bulleted-list"><li style="list-style-type:disc">ä¸Šè¿°æ˜¯JavaScripté«˜çº§ç¨‹åºè®¾è®¡ä¸­çš„æ³¨æ„äº‹é¡¹<strong>åŸè¯</strong>ï¼Œå…¶å®åœ¨å…±äº«ç›®æ ‡ä¸Šæ·»åŠ æ•°æ®æˆå‘˜ä»ç„¶æ˜¯æœ‰åº”ç”¨åœºæ™¯çš„ï¼Œå¦‚<code>Math</code> ä¸Šå®šä¹‰çš„ä¸€äº›æ•°å­¦å¸¸é‡ï¼Œéƒ½æ˜¯ç±»æˆå‘˜ï¼›å¹¶ä¸”â€œ<mark class="highlight-blue"><em>æ²¡æœ‰æ˜¾å¼æ”¯æŒæ·»åŠ æ•°æ®æˆå‘˜</em></mark>â€è¿™å¥è¯æ˜¯ä¸å¤ªå¯¹çš„ï¼Œå°±åƒ<a href="4%20%E7%B1%BB.html">4.3.2.1</a> ä¸­æåˆ°çš„<mark class="highlight-red">â€ç›´æ¥åœ¨ç±»å—ä¸­ä½¿ç”¨èµ‹å€¼è¯­å¥æ˜¯å¯ä»¥ç»™</mark><mark class="highlight-red"><strong>å®ä¾‹</strong></mark><mark class="highlight-red">æ·»åŠ åŸå§‹å€¼æˆ–å¯¹è±¡ä½œä¸ºæˆå‘˜æ•°æ®çš„</mark>â€œï¼ŒåŒæ ·ï¼Œå¯ä»¥ä½¿ç”¨<code>static</code> å…³é”®å­—ä¿®é¥°èµ‹å€¼è¯­å¥çš„å˜é‡æ ‡è¯†ç¬¦ï¼Œè¿™æ ·å°±<mark class="highlight-red">å¯ä»¥ç»™ç±»æ·»åŠ åŸå§‹å€¼æˆ–å¯¹è±¡ä½œä¸ºç±»æœ¬èº«çš„è‡ªæœ‰å±æ€§</mark>äº†<div><pre id="90225f1c-16c1-45f6-91a9-b3e8ec844364" class="code code-wrap"><code>class Person {
	static constitute = [&quot;åŒ–å­¦ç»„æˆ&quot;, &quot;è¡€æ¶²&quot;, &quot;è‚Œè‚‰&quot;, &quot;éª¨éª¼&quot;, &quot;å¤§è„‘&quot;, &quot;å››å¤§ç»„ç»‡&quot;]; 
}
console.log(Person.constitute); // [&quot;åŒ–å­¦ç»„æˆ&quot;, &quot;è¡€æ¶²&quot;, &quot;è‚Œè‚‰&quot;, &quot;éª¨éª¼&quot;, &quot;å¤§è„‘&quot;, &quot;å››å¤§ç»„ç»‡&quot;]</code></pre></div><figure id="a41d4567-6f49-4245-9c87-f9a78bde2caf" class="image"><a href="4%20%E7%B1%BB/Untitled%208.png"><img style="width:816px" src="4%20%E7%B1%BB/Untitled%208.png"/></a></figure></li></ul><p id="6a2902e4-86c6-473f-8cb0-d0410df9dc67" class="">
</p><h2 id="ee66159d-82b7-4c1c-b7b7-0259c7f75d59" class="">4.3.5 è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨æ–¹æ³•</h2><ul id="b01b0e03-dc2a-4511-805a-07c08dd87756" class="bulleted-list"><li style="list-style-type:disc">ç±»å®šä¹‰è¯­æ³•æ”¯æŒåœ¨åŸå‹å’Œç±»æœ¬èº«ä¸Šå®šä¹‰ç”Ÿæˆå™¨æ–¹æ³•ï¼Œè¯­æ³•å¦‚ä¸‹<pre id="1debdb81-97e4-46f1-8321-9b4193c44f12" class="code"><code>class ClassName {
	// åœ¨åŸå‹ä¸Šå®šä¹‰ç”Ÿæˆå™¨æ–¹æ³•
	* [iteratorName]() {
		
	}
	// åœ¨ç±»ä¸Šå®šä¹‰ç”Ÿæˆå™¨æ–¹æ³•
	static * [staticIteratorName]() {

	}
}</code></pre><ul id="8d625ec5-1d3b-4ecf-8299-227e6874ef65" class="bulleted-list"><li style="list-style-type:circle"><code>iteratorName</code> æ˜¯å®šä¹‰åœ¨ç±»åŸå‹ä¸Šçš„ç”Ÿæˆå™¨æ–¹æ³•ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€æ•°å­—ã€ç¬¦å·ã€è¡¨è¾¾å¼ï¼Œå¦‚æœè¦æ·»åŠ ä¸€ä¸ªé»˜è®¤çš„è¿­ä»£å™¨ï¼ŒæŠŠç±»å®ä¾‹å˜ä¸ºå¯è¿­ä»£å¯¹è±¡ï¼Œç›´æ¥ä½¿ç”¨å†…ç½®è¿­ä»£å™¨ç¬¦å·<code>Symbol.iterator</code> ï¼ˆå³å°†<code>iteratortName</code> è®¾ç½®ä¸ºè¯¥å†…ç½®è¿­ä»£å™¨ç¬¦å·ï¼‰</li></ul><ul id="1872179c-34a3-4647-8256-746960bef8f9" class="bulleted-list"><li style="list-style-type:circle"><code>staticIteratorName</code> æ˜¯å®šä¹‰åœ¨ç±»ä¸Šçš„ç”Ÿæˆå™¨æ–¹æ³•ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€æ•°å­—ã€ç¬¦å·ã€è¡¨è¾¾å¼ï¼Œå¦‚æœè¦ä¸ºç±»æ·»åŠ ä¸€ä¸ªé»˜è®¤çš„è¿­ä»£å™¨ï¼ŒæŠŠç±»æœ¬èº«å˜ä¸ºå¯è¿­ä»£å¯¹è±¡ï¼Œç›´æ¥ä½¿ç”¨å†…ç½®è¿­ä»£å™¨ç¬¦å·<code>Symbol.iterator</code> ï¼ˆå³å°†<code>staticIteratorName</code> è®¾ç½®ä¸ºè¯¥å†…ç½®è¿­ä»£å™¨ç¬¦å·ï¼‰</li></ul></li></ul><ul id="283f0d97-b85a-490e-86fa-4e6233d4a8e4" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å­<pre id="78f7e41d-a94e-4dc5-afe6-bdc3fd858bf3" class="code"><code>class Person {
  static *[Symbol.iterator]() {
    yield* [&quot;åŒ–å­¦ç»„æˆ&quot;, &quot;è¡€æ¶²&quot;, &quot;è‚Œè‚‰&quot;, &quot;éª¨éª¼&quot;, &quot;å¤§è„‘&quot;, &quot;å››å¤§ç»„ç»‡&quot;];
  }
  constructor() {
    this.nicknames = [&quot;mangwu&quot;, &quot;wumang&quot;, &quot;mangmang&quot;];
  }
  *[Symbol.iterator]() {
    yield* this.nicknames.entries();
  }
}

for (const item of Person) {
  console.log(item);
}
const p = new Person();
for (const [key, val] of p) {
  console.log(key, val);
}
// æ‰“å°ç»“æ„
åŒ–å­¦ç»„æˆ
è¡€æ¶²
è‚Œè‚‰
éª¨éª¼
å¤§è„‘
å››å¤§ç»„ç»‡
0 mangwu
1 wumang
2 mangmang</code></pre></li></ul><h1 id="57f2de9b-f0d5-4145-9a87-01158529c5df" class="">4.4 ç»§æ‰¿</h1><p id="0310f507-7d9c-487e-931a-9f1b07429509" class=""><a href="3%20%E7%BB%A7%E6%89%BF.html"><span class="icon">ğŸ”‰</span>3. ç»§æ‰¿</a> èŠ±è´¹äº†å¤§é‡ç¯‡å¹…è®¨è®ºES5çš„ç»§æ‰¿æœºåˆ¶ï¼ŒECMAScript6æ–°å¢ç‰¹æ€§ä¸­æœ€å‡ºè‰²çš„ä¸€ä¸ªå°±æ˜¯<strong>åŸç”Ÿæ”¯æŒäº†ç±»ç»§æ‰¿æœºåˆ¶</strong></p><p id="4df7732e-3c1c-44fe-a102-23cc6764a2e2" class="">è™½ç„¶ç±»ç»§æ‰¿ä½¿ç”¨çš„æ˜¯æ–°è¯­æ³•ï¼Œä½†æ˜¯èƒŒåä¾æ—§ä½¿ç”¨çš„æ˜¯åŸå‹é“¾</p><h2 id="9abdb0f4-c796-401b-92f4-f14f8c319abf" class="">4.4.1 ç»§æ‰¿åŸºç¡€</h2><ul id="2d081593-297e-4135-a36b-56dde1756726" class="bulleted-list"><li style="list-style-type:disc">ES6ç±»æ”¯æŒ<strong>å•ç»§æ‰¿</strong></li></ul><ul id="826bed87-c9fe-43d8-93bd-adb71df9e0dd" class="bulleted-list"><li style="list-style-type:disc">ä½¿ç”¨<code>extends</code> å…³é”®å­—ï¼Œå°±å¯ä»¥ç»§æ‰¿ä»»ä½•æ‹¥æœ‰<a href="https://tc39.es/ecma262/multipage/ordinary-and-exotic-objects-behaviours.html#sec-ecmascript-function-objects-construct-argumentslist-newtarget">[[Construct]]</a>å’ŒåŸå‹çš„å¯¹è±¡</li></ul><ul id="ba4527bd-2829-42af-a73a-440f79fe702e" class="bulleted-list"><li style="list-style-type:disc">ä¸ºäº†ä¿æŒå‘ä¸‹å…¼å®¹ï¼Œç±»ä¸ä»…å¯ä»¥ç»§æ‰¿ä¸€ä¸ªç±»ï¼Œä¹Ÿå¯ä»¥ç»§æ‰¿ä¸€ä¸ªæ™®é€šçš„æ„é€ å‡½æ•°</li></ul><ul id="a01e399f-42af-4ee7-b046-ee25932c7886" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å­<pre id="15bbb236-e920-40cd-a19b-64f7cec82fdc" class="code"><code>class Vehicle {
  constructor(speed) {
    // é€Ÿåº¦ km/h
    this.speed = speed;
  }
  saySpeed() {
    console.log(this.speed);
  }
}

class Bus extends Vehicle {
  constructor(speed, fuel) {
    super(speed);
    // è€—æ²¹ l/km
    this.fuel = fuel;
  }
	// é¸£ç¬›
  makeSound() {
    console.log(&quot;å‘œå‘œå‘œï¼Œå‘œå‘œå‘œ&quot;);
  }
}
const vehicle = new Vehicle(0);
const bus = new Bus(40, 0.1);
bus.saySpeed(); // 40
bus.makeSound(); // å‘œå‘œå‘œï¼Œå‘œå‘œå‘œ
console.log(bus instanceof Bus); // true
console.log(bus instanceof Vehicle); // true</code></pre><ul id="c9f3aea2-ddc3-4ef7-96cc-318fe3171cbd" class="bulleted-list"><li style="list-style-type:circle"><code>Bus</code> æ˜¯ç»§æ‰¿<code>Vehicle</code> ï¼Œå®ƒæ˜¯<code>Vehicle</code>çš„<strong>æ´¾ç”Ÿç±»ï¼ˆderived classï¼‰</strong></li></ul><ul id="d293b31e-08fb-4289-be8e-107e8a5eb9ea" class="bulleted-list"><li style="list-style-type:circle">æ´¾ç”Ÿç±»éƒ½ä¼šé€šè¿‡åŸå‹é“¾è®¿é—®åˆ°ç±»å’ŒåŸå‹ä¸Šå®šä¹‰çš„æ–¹æ³•ï¼Œ<code>this</code> å€¼ä¼šåæ˜ è°ƒç”¨ç›¸åº”æ–¹æ³•çš„å®ä¾‹æˆ–ç±»</li></ul><ul id="f706e6af-d7cb-4c09-96a1-583ad8c13447" class="bulleted-list"><li style="list-style-type:circle">ä¸‹é¢æ˜¯ä¸Šè¿°ä¾‹å­çš„åŸå‹é“¾å¯è§†åŒ–<figure id="f940308e-e59f-4815-8511-53b5a561d670" class="image"><a href="4%20%E7%B1%BB/%25E7%25B1%25BB%25E7%25BB%25A7%25E6%2589%25BF.png"><img style="width:1976px" src="4%20%E7%B1%BB/%25E7%25B1%25BB%25E7%25BB%25A7%25E6%2589%25BF.png"/></a></figure></li></ul><ul id="5e4b1add-b3e9-4349-b574-217c7dc1b9b9" class="bulleted-list"><li style="list-style-type:circle">å®é™…ä¸Šå’Œ<strong>å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿ </strong>çš„<a href="3%20%E7%BB%A7%E6%89%BF.html">å¯è§†åŒ–å›¾</a>åŸºæœ¬ä¸€æ ·ï¼Œåº•å±‚åŸç†ä»ç„¶ä¾é åŸå‹é“¾</li></ul></li></ul><figure class="block-color-red_background callout" style="white-space:pre-wrap;display:flex" id="a81a2c82-999f-458a-93d9-e2d4aa251999"><div style="font-size:1.5em"><span class="icon">ğŸ’¡</span></div><div style="width:100%">æ³¨æ„ï¼š<code>extends</code> å…³é”®å­—ä¹Ÿå¯ä»¥ç”¨åœ¨ç±»è¡¨è¾¾å¼ä¸­ï¼Œå› æ­¤<code>let Bar = class extends Foo{}</code> ä¹Ÿæ˜¯æœ‰æ•ˆçš„è¯­æ³•</div></figure><h2 id="84b11d80-93e7-428a-b0da-ee7aa18c0bdc" class="">4.4.2 æ„é€ å‡½æ•°ã€HomeObjectå’Œsuper()</h2><h3 id="fe821d8d-199d-47ec-83b0-39611b8d2629" class="">4.4.2.1 super</h3><ul id="2b11dd6c-b2bc-49aa-baaf-e91a2ed11941" class="bulleted-list"><li style="list-style-type:disc">æ´¾ç”Ÿç±»çš„æ–¹æ³•å¯ä»¥é€šè¿‡<code>super</code>å…³é”®å­—å¼•ç”¨å®ƒä»¬çš„<strong>åŸå‹(</strong>å³<strong>æ´¾ç”Ÿç±»æˆ–æ´¾ç”Ÿç±»prototypeå±æ€§çš„åŸå‹)</strong><ul id="c347fd50-4ff4-4058-9a1d-e0c65e5ca771" class="bulleted-list"><li style="list-style-type:circle"><del>è¿™ä¸ªå…³é”®å­—åªèƒ½åœ¨æ´¾ç”Ÿç±»ä¸­ä½¿ç”¨ </del>ï¼ˆJavaScripté«˜çº§ç¨‹åºè®¾è®¡ç¬¬4ç‰ˆçš„é”™è¯¯ï¼Œå¯ä»¥åœ¨å­—é¢é‡å¯¹è±¡ä¸­ä½¿ç”¨ï¼‰</li></ul><ul id="609237a6-6e23-40a6-a2cb-e5e631c7d8a6" class="bulleted-list"><li style="list-style-type:circle">åœ¨æ´¾ç”Ÿç±»ä¸­ï¼Œåªç”¨åœ¨æ„é€ å‡½æ•°ã€å®ä¾‹æ–¹æ³•å’Œé™æ€æ–¹æ³•å†…éƒ¨ï¼ˆè¿˜å¯ä»¥ç”¨åœ¨ç±»åˆå§‹åŒ–çš„èµ‹å€¼è¯­å¥ä¸­ï¼‰</li></ul><ul id="49674417-f3b8-479b-84a4-30269966b28e" class="bulleted-list"><li style="list-style-type:circle">åœ¨ç±»æ„é€ å‡½æ•°ä¸­ä½¿ç”¨<code>super()</code> å¯ä»¥è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼ˆç›¸å½“äº<strong>ç›—ç”¨æ„é€ å‡½æ•°</strong>ï¼‰</li></ul></li></ul><ul id="9fd39f59-a9b0-4ee7-953e-f18b2b68679e" class="bulleted-list"><li style="list-style-type:disc"><code>super</code>æ˜¯ä¸€ä¸ªæ“ä½œç¬¦å…³é”®å­—ï¼Œå®ƒæ— æ³•è¢«æ‰“å°ï¼Œç”¨äºè®¿é—®å¯¹è±¡å­—é¢é‡(object literal)æˆ–ç±»çš„[[Prototype]]ã€è°ƒç”¨è¶…ç±»(invoke)çš„æ„é€ å‡½æ•°<ul id="2e790250-61de-459c-abf5-3befa2a2ec35" class="bulleted-list"><li style="list-style-type:circle"><code>super.prop</code> å’Œ<code>super[expr]</code> è¡¨è¾¾å¼åœ¨ä»»ä½•çš„ç±»æˆ–å¯¹è±¡å­—é¢é‡ï¼ˆobject literalï¼‰çš„æ–¹æ³•å®šä¹‰ï¼ˆmethod definitionï¼‰ä¸­éƒ½æ˜¯åˆæ³•çš„</li></ul><ul id="7d5a4e8e-835a-4276-afed-13ebe5886b1c" class="bulleted-list"><li style="list-style-type:circle"><code>super(â€¦args)</code> è¡¨è¾¾å¼ä»…åœ¨ç±»æ„é€ å‡½æ•°ä¸­åˆæ³•</li></ul></li></ul><ul id="ba2092f2-c1b2-4b38-803c-699123fde43c" class="bulleted-list"><li style="list-style-type:disc">è¯­æ³•<pre id="ec9623f4-4e1f-412f-9f2e-67db1bf0e30d" class="code"><code>super([arguments]); // è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°
super.propertyOnParent;
super[expression]; // ä¸­æ‹¬å·è°ƒç”¨æ³•æ–¹ä¾¿ä¸èƒ½ç›´æ¥ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºçš„å±æ€§è°ƒç”¨</code></pre></li></ul><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="34a0019c-2126-4bf6-a113-7b1bf0983b78"><div style="font-size:1.5em"><span class="icon">ğŸ’¡</span></div><div style="width:100%">æ³¨æ„ï¼šsuperå…³é”®å­—åªèƒ½è¢«ç”¨äºä¸¤ç§æ–¹å¼ï¼šä½œä¸ºæ–¹æ³•è¢«è°ƒç”¨ï¼ˆ<code>super(...args)</code>ï¼‰æˆ– ä½œä¸ºâ€<strong>å±æ€§æŸ¥è¯¢å™¨</strong>â€(<strong>property lookup</strong>)(super.prop å’Œ super[expr])ã€‚superä¸èƒ½è¢«<strong>å•ç‹¬</strong>ä½¿ç”¨ï¼Œå› ä¸ºå®ƒ<strong>ä¸æ˜¯</strong>ä¸€ä¸ªæŒ‡å‘åŸå‹å¯¹è±¡çš„å˜é‡ï¼Œè¯•å›¾æ‰“å°<code>super</code> ä¼šå‡ºè¯­æ³•é”™è¯¯<pre id="fdf6fe75-83e4-4c77-ba17-e4ed0d627c39" class="code"><code>const child = {
	myParent() {
		console.log(super); // Syntax Error: &quot;super&quot; keyword unepected here
	}
}</code></pre></div></figure><ul id="ae477a43-f4f3-450e-8b19-57df0bdb4993" class="bulleted-list"><li style="list-style-type:disc">åœ¨æœ‰æ„é€ ä½“ï¼ˆconstructor bodyï¼‰çš„æ´¾ç”Ÿç±»ï¼ˆderived classï¼‰ä¸­ï¼Œ<code>super</code> å…³é”®å­—å¯ä»¥ä»¥<strong>å‡½æ•°è°ƒç”¨</strong>ï¼ˆ<strong>function call</strong>ï¼‰å½¢å¼è¢«è°ƒç”¨ï¼ˆ<code>super(â€¦args)</code>ï¼‰å¹¶ä¸”åœ¨æ„é€ å‡½æ•°ä¸­åº”è¯¥<strong>åœ¨</strong><strong><code>this</code></strong><strong> è¢«ä½¿ç”¨ä¹‹å‰</strong>ä»¥åŠ<strong><code>return</code></strong><strong> è¯­å¥ä¹‹å‰</strong>è¢«ä½¿ç”¨ï¼›åœ¨æ„é€ å‡½æ•°ä¸­çš„<code>super(â€¦args)</code> ä¼šè°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œå¹¶ä¸ºç»‘å®šçˆ¶ç±»çš„<strong>å…¬å…±å­—æ®µ</strong>ï¼ˆ<strong>public fields</strong>ï¼‰ä»¥ä¾¿æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°è¿›ä¸€æ­¥è®¿é—®å’Œä¿®æ”¹<code>this</code></li></ul><ul id="2f63e0f7-9031-4f85-b0f6-c2a5bb7594a9" class="bulleted-list"><li style="list-style-type:disc">å±æ€§æŸ¥è¯¢å™¨å¼ï¼ˆproperty lookupï¼‰çš„<code>super</code>è¯­æ³•ç”¨äºè®¿é—®æ–¹æ³•ã€å¯¹è±¡å­—é¢é‡çš„å±æ€§æˆ–ç±»çš„[[Property]]ç‰¹æ€§ï¼›åœ¨ä¸€ä¸ªç±»ä¸»ä½“ä¸­ï¼Œsuperçš„å¼•ç”¨å¯ä»¥æ˜¯è¶…ç±»çš„æ„é€ å‡½æ•°ï¼ˆconstructorï¼‰æœ¬èº«æˆ–æ„é€ å‡½æ•°çš„åŸå‹<code>prototype</code> ï¼Œè¿™å–å†³äºæŒ‡å‘ä¸Šä¸‹æ–‡æ˜¯<strong>å®ä¾‹åˆ›å»º</strong>(<strong>instance creation</strong>)æˆ–<strong>ç±»åˆå§‹åŒ–</strong>(class initialization)</li></ul><ul id="87149b7d-020b-4ed5-bd72-4d82d24b6697" class="bulleted-list"><li style="list-style-type:disc">æ³¨æ„<code>super</code>çš„å¼•ç”¨æ˜¯ç”±å£°æ˜çš„ç±»æˆ–å¯¹è±¡å­—é¢é‡å†³å®šçš„ï¼Œè€Œä¸æ˜¯è°ƒç”¨æ–¹æ³•çš„å¯¹è±¡ï¼Œå› æ­¤è§£ç»‘ï¼ˆunbindingï¼‰æˆ–é‡ç»‘å®šï¼ˆre-bindingï¼‰ä¸€ä¸ªæ–¹æ³•å¹¶ä¸ä¼šæ”¹å˜<code>super</code>åœ¨å…¶ä¸­çš„å¼•ç”¨ï¼ˆä¼šæ”¹å˜<code>this</code>çš„å¼•ç”¨ï¼‰ï¼›å¯ä»¥å°†<code>super</code> è§†ä¸ºç±»æˆ–å¯¹è±¡å­—é¢é‡ä½œç”¨åŸŸï¼ˆscopeï¼‰çš„ä¸€ä¸ªå˜é‡ï¼Œæ–¹æ³•åœ¨æ•´ä¸ªä½œç”¨åŸŸä¸­åˆ›å»ºé—­åŒ…ï¼ˆä½†å®é™…ä¸Š<code>super</code> ä¸æ˜¯ä¸€ä¸ªå˜é‡è€Œæ˜¯ä¸€ä¸ªå…³é”®å­—æ“ä½œç¬¦ï¼‰</li></ul><ul id="23bcd5c0-0501-4e2e-9774-048dac71c1b1" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å­<figure id="03fbd924-e091-498b-86c5-c82fbf292e61" class="link-to-page"><a href="4%20%E7%B1%BB/Super%E5%85%B3%E9%94%AE%E5%AD%97%E4%BD%BF%E7%94%A8%E7%9A%84%E4%BE%8B%E5%AD%90.html"><span class="icon">ğŸŒ”</span>Superå…³é”®å­—ä½¿ç”¨çš„ä¾‹å­</a></figure><p id="ec40ae48-15d5-4933-8124-fe136587a50b" class="">å…³äºå­ç±»æ„é€ å‡½æ•°ä¸ä½¿ç”¨<code>super()</code> çš„æƒ…å†µï¼šå­ç±»æ„é€ å‡½æ•°å¿…é¡»è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¦åˆ™å¿…é¡»åœ¨<code>this</code>ä½¿ç”¨å‰è°ƒç”¨<code>super()</code></p><pre id="bc6687bb-c9c5-4a97-8a9f-6912e6bb148a" class="code code-wrap"><code>class Vehicle{
	constructor() {
    this.hasEngine = true;
  }
}
class Car extends Vehicle {} // é»˜è®¤è°ƒç”¨super
class Van extends Vehicle {
  constructor() {
    return {}; // ä¸è°ƒç”¨super
  }
}
console.log(new Car()); // Car { hasEngine: true }
console.log(new Van()); // {}</code></pre></li></ul><h3 id="0a573728-3922-49f1-86c3-98c1cf69000b" class="">4.4.2.2 [[HomeObject]]</h3><ul id="4fae2092-7670-4d3a-9b8f-18ffe724e415" class="bulleted-list"><li style="list-style-type:disc">ä¸åŒäº<code>this</code> æŒ‡é’ˆï¼Œ<code>this</code> æ˜¯è‡ªæœ‰çš„ï¼Œå®ƒå¯ä»¥æŒ‡å‘å¼€å‘è€…æƒ³è¦å®ƒæŒ‡å‘çš„å¼•ç”¨ï¼Œä¸”ä¼šæ ¹æ®è°ƒç”¨è€…è€Œæ”¹å˜</li></ul><ul id="f0926cc6-a07e-461d-b4d8-0023aa73b394" class="bulleted-list"><li style="list-style-type:disc">è€ŒES6ç»™æ„é€ å‡½æ•°å’Œé™æ€æ–¹æ³•æ·»åŠ äº†å†…éƒ¨ç‰¹æ€§[[HomeObject]], è¿™ä¸ªç‰¹æ€§æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å®šä¹‰è¯¥æ–¹æ³•çš„å¯¹è±¡<ul id="33983658-605e-42b9-a1ec-292ee5ac4743" class="bulleted-list"><li style="list-style-type:circle">è¿™ä¸ªæŒ‡é’ˆæŒ‡é’ˆè‡ªåŠ¨èµ‹å€¼ï¼Œä¸”åªèƒ½åœ¨JavaScriptå¼•æ“å†…éƒ¨è®¿é—®ï¼ˆå¼€å‘è€…æ— æ³•ç›´æ¥è·å–ï¼‰</li></ul><ul id="bef17344-1e42-4386-8ff9-a6ecf403440e" class="bulleted-list"><li style="list-style-type:circle"><code>super</code>å§‹ç»ˆä¼šå®šä¹‰ä¸º[[HomeObject]]çš„åŸå‹</li></ul></li></ul><ul id="d734fab7-8019-44ca-bd3f-f610a63abdeb" class="bulleted-list"><li style="list-style-type:disc">åœ¨ç±»ä¸­<ul id="c3a0c953-a2cd-4d91-9555-8f8a9f7589c6" class="bulleted-list"><li style="list-style-type:circle">é™æ€ç¯å¢ƒä¸‹ï¼Œ[[HomeObject]]å°±æ˜¯ç±»æœ¬èº«ï¼Œæ‰€ä»¥<code>super</code> å¼•ç”¨çš„å°±æ˜¯ç±»çš„[[Prototype]]ç‰¹æ€§ï¼ˆè¶…åˆ©å„çš„æ„é€ å‡½æ•°æœ¬èº«ï¼‰</li></ul><ul id="de9be728-d0bf-49b9-b60e-ca82c8579a9f" class="bulleted-list"><li style="list-style-type:circle">éé™æ€ç¯å¢ƒä¸‹ï¼ˆåŒ…æ‹¬æ„é€ å‡½æ•°ï¼‰ï¼Œ[[HomeObject]]å°±æ˜¯ç±»çš„<code>prototype</code>å±æ€§ï¼ˆå› ä¸ºéé™æ€æ–¹æ³•å®šä¹‰åœ¨ç±»çš„<code>prototype</code>ä¸Šï¼‰ï¼Œ æ‰€ä»¥<code>super</code> å¼•ç”¨çš„å°±æ˜¯prototypeå±æ€§çš„[[Prototype]]ç‰¹æ€§ï¼Œå³çˆ¶ç±»çš„prototypeå±æ€§</li></ul></li></ul><h2 id="ecf66c01-87dc-4f26-8365-43910ebb5ba2" class="">4.4.3 æŠ½è±¡åŸºç±»</h2><ul id="eb080c34-1054-4cbc-9de3-e6bac259cf65" class="bulleted-list"><li style="list-style-type:disc">æŠ½è±¡åŸºç±»ï¼šä¾›å…¶å®ƒç±»ç»§æ‰¿ï¼Œä½†æœ¬èº«ä¸ä¼šè¢«å®ä¾‹åŒ–</li></ul><ul id="12ee6398-9f73-4a59-837a-331f72049f9f" class="bulleted-list"><li style="list-style-type:disc">ECMAScriptæ²¡æœ‰ä¸“é—¨æ”¯æŒè¿™ç§ç±»çš„è¯­æ³•ï¼Œå…¶å®ƒè¯­è¨€ä½¿ç”¨<code>abstract</code> ä¿®é¥°ç¬¦ä½œä¸ºå®šä¹‰æŠ½è±¡åŸºç±»çš„å…³é”®å­—ï¼Œåœ¨ECMAScript <code>abstract</code> ä½œä¸ºä¿ç•™å­—åœ¨æœªæ¥ä½¿ç”¨</li></ul><ul id="dd7245af-dd43-4be2-91b1-e297ead4196d" class="bulleted-list"><li style="list-style-type:disc">è¦å®ç°ECMAScriptä¸­çš„æŠ½è±¡åŸºç±»ï¼Œéœ€è¦åˆ©ç”¨<code>new.target</code> å…³é”®å­—æ“ä½œç¬¦ï¼Œ<code>new.target</code> ä¿å­˜é€šè¿‡<code>new</code>è°ƒç”¨çš„ç±»æˆ–å‡½æ•°</li></ul><ul id="1e292d67-b8c7-4fef-bc03-0e77373beb51" class="bulleted-list"><li style="list-style-type:disc">ç±»åœ¨å®ä¾‹åŒ–æ—¶å¿…é¡»ä½¿ç”¨<code>new</code>å…³é”®å­—ï¼Œæ‰€ä»¥ä½¿ç”¨<code>new + åŸºç±»</code> è°ƒç”¨æ—¶ï¼Œåœ¨ç±»æ„é€ å‡½æ•°ä¸­<code>new.target</code> å°±æ˜¯åŸºç±»æœ¬èº«ï¼Œè€Œç»§æ‰¿äºæŠ½è±¡åŸºç±»çš„å­ç±»ï¼Œåœ¨å­ç±»çš„æ„é€ å‡½æ•°ä¸­ä½¿ç”¨<code>super(â€¦args)</code> è°ƒç”¨äº†åŸºç±»çš„æ„é€ å‡½æ•°ï¼Œæ‰€ä»¥åŸºç±»çš„ç±»æ„é€ å‡½æ•°ä¸­çš„<code>new.target</code> å°±æ˜¯å­ç±»æœ¬èº« ï¼Œæ•…è€Œå¯ä»¥é€šè¿‡æ¡ä»¶åˆ¤æ–­è°ƒç”¨è€…<pre id="6d6350cf-43b9-417a-a14a-c45ff50053a5" class="code code-wrap"><code>class Vehicle {
  constructor() {
    console.log(new.target);
    if (new.target === Vehicle) {
      throw new Error(&quot;æŠ½è±¡åŸºç±» Vehicleä¸èƒ½è¢«å®ä¾‹åŒ–&quot;);
    }
  }
}
class Bus extends Vehicle {
  constructor() {
    super();
  }
}

const b = new Bus(); // [class Bus extends Vehicle]
try {
  new Vehicle(); // [class Vehicle]
} catch (error) {
  console.log(error.toString()); // Error: æŠ½è±¡åŸºç±» Vehicleä¸èƒ½è¢«å®ä¾‹åŒ–
}</code></pre></li></ul><ul id="9f150f70-9641-43a3-bd62-037ebef4e870" class="bulleted-list"><li style="list-style-type:disc">å¦å¤–é€šè¿‡åœ¨åŸºç±»çš„æ„é€ å‡½æ•°ä¸­è¿›è¡Œæ£€æŸ¥ï¼Œå¯ä»¥è¦æ±‚æ´¾ç”Ÿç±»å¿…é¡»å®šä¹‰æŸä¸ªæ–¹æ³•ï¼Œå› ä¸ºåŸå‹æ–¹æ³•åœ¨è°ƒç”¨ç±»æ„é€ å‡½æ•°ä¹‹é—´å°±å·²ç»å­˜åœ¨ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡<code>this</code>ï¼ˆå­ç±»çš„å®ä¾‹ï¼‰å…³é”®å­—æ£€æŸ¥ç›¸åº”çš„æ–¹æ³•<pre id="a130b25b-b6eb-4955-83a2-6092be69ad3a" class="code code-wrap"><code>class A {
  constructor() {
    if (new.target === A) {
      throw new Error(&quot;æŠ½è±¡åŸºç±»Aä¸èƒ½è¢«å®ä¾‹åŒ–&quot;);
    }
    if (new.target === B) {
      if (!this.foo) {
        throw new Error(&quot;æ´¾ç”Ÿç±»Bå¿…é¡»å®šä¹‰foo()&quot;);
      }
    }
    if (new.target === C) {
      if (!this.bar) {
        throw new Error(&quot;æ´¾ç”Ÿç±»Cå¿…é¡»å®šä¹‰bar()&quot;);
      }
    }
  }
}
class B extends A {}
class C extends A {}

try {
  new B();
} catch (error) {
  console.log(error.message); // æ´¾ç”Ÿç±»Bå¿…é¡»å®šä¹‰foo()
}
try {
  new C();
} catch (error) {
  console.log(error.message); // æ´¾ç”Ÿç±»Cå¿…é¡»å®šä¹‰bar()
}</code></pre></li></ul><ul id="e04c5212-a74b-493a-bf74-bc5fcee21c51" class="bulleted-list"><li style="list-style-type:disc">å…³äº<code>new.target</code>çš„è·Ÿå¤šä¿¡æ¯å¦‚ä¸‹ï¼Œå‚è€ƒ<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new.target">mdn</a><figure id="576b6900-9c7e-477e-943c-cf18fb9273aa" class="link-to-page"><a href="4%20%E7%B1%BB/new%20target.html"><span class="icon">ğŸŒ‘</span>new.target</a></figure></li></ul><h2 id="ab3c02de-3c38-4fdc-8530-1a98de198acc" class="">4.4.4 ç»§æ‰¿å†…ç½®ç±»å‹</h2><p id="d7481f8c-2c42-4858-914c-f31b7142ec1e" class="">ES6ä¸ºç±»çš„ç»§æ‰¿å†…ç½®å¼•ç”¨ç±»å‹æä¾›äº†é¡ºç•…çš„æœºåˆ¶ï¼Œå¼€å‘è€…å¯ä»¥æ–¹ä¾¿çš„æ‰©å±•å†…ç½®ç±»å‹</p><ul id="724c4d18-5b84-4a2c-a082-8d1c2cc4aa39" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å¦‚ç»§æ‰¿æ•°ç»„ï¼Œæ–°å»ºåŸå‹æ–¹æ³•<pre id="78ec3aff-7a39-4382-889c-afdbaee2d484" class="code code-wrap"><code>class SuperArray extends Array {
  shuffle() {
    for (let i = 0; i &lt; this.length; i++) {
      const j = Math.floor(Math.random() * (i + 1));
      [this[i], this[j]] = [this[j], this[i]];
    }
    return this;
  }
}
const a = SuperArray.from([1, 2, 3, 4, 5, 6, 7]);
console.log(a); // SuperArray(7) [1, 2, 3, 4,5, 6, 7]
a.shuffle()
console.log(a); // SuperArray(7) [6, 1, 4, 5, 7, 3, 2]
console.log(a instanceof Array); // true
console.log(a instanceof SuperArray); // true</code></pre></li></ul><ul id="2d7e34b8-fe7b-442c-871c-8d78ded34ac8" class="bulleted-list"><li style="list-style-type:disc">æœ‰äº›å†…ç½®å¯¹è±¡çš„æ–¹æ³•ä¼šè¿”å›æ–°å®ä¾‹ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œè¿”å›çš„æ–°å®ä¾‹å’ŒåŸå§‹å®ä¾‹çš„ç±»å‹æ˜¯ä¸€è‡´çš„<pre id="18fff721-82e2-4f99-96d7-d00199f6687c" class="code code-wrap"><code>const filterA = a.filter((v) =&gt; v % 2);
console.log(filterA); // SuperArray(4) [ 7, 5, 3, 1 ]
console.log(filterA instanceof SuperArray); // true</code></pre><ul id="6c9f0c62-a39d-4d10-8f0a-d5ca823258bb" class="bulleted-list"><li style="list-style-type:circle">ç»§æ‰¿ä¼šä½¿å¾—æ´¾ç”Ÿç±»çš„è¿”å›ç›¸åŒç±»å‹çš„åŸå‹æ–¹æ³•è¿”å›æ´¾ç”Ÿç±»å‹çš„å®ä¾‹</li></ul></li></ul><ul id="2e5ec906-9673-464e-a804-499904f224d6" class="bulleted-list"><li style="list-style-type:disc">è¦æ§åˆ¶è¿™ç§é»˜è®¤è¡Œä¸ºï¼Œå¯ä»¥è¦†ç›–<code>Symbol.species</code>è®¿é—®å™¨ï¼Œè¿™ä¸ªè®¿é—®å™¨å†³å®šåˆ›å»ºè¿”å›å®ä¾‹æ—¶ä½¿ç”¨çš„ç±»ï¼Œæ›´å¤šå…³äº<code>Symbol.species</code>å†…ç½®ç¬¦å·çš„ä¿¡æ¯å¯ä»¥æŸ¥çœ‹<a href="../3%20%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/%E5%B8%B8%E7%94%A8%E5%86%85%E7%BD%AE%E7%AC%A6%E5%8F%B7.html">8.Symbol.species</a> <pre id="f8019088-d859-472c-aaa0-fbe5742128d8" class="code code-wrap"><code>class XArray extends Array {
  shuffle() {
    for (let i = 0; i &lt; this.length; i++) {
      const j = Math.floor(Math.random() * (i + 1));
      [this[i], this[j]] = [this[j], this[i]];
    }
    return this;
  }
  static get [Symbol.species]() {
    return Array;
  }
}

const xarr = new XArray(1, 2, 3, 4, 5, 6, 7);
console.log(xarr); // XArray(7) [1, 2, 3, 4,5, 6, 7]
xarr.shuffle();
const filterX = xarr.filter((v) =&gt; v % 2 == 0);
console.log(filterX); // [ 6, 4, 2 ]
console.log(filterX instanceof XArray); // false</code></pre></li></ul><h2 id="369db0ff-4691-44d2-910e-438ed694043e" class="">4.4.5 ç±»æ··å…¥</h2><ul id="a549812e-9bd0-460e-a636-8bddc8017428" class="bulleted-list"><li style="list-style-type:disc">æŠŠä¸åŒç±»çš„è¡Œä¸ºé›†ä¸­åˆ°ä¸€ä¸ªç±»æ˜¯ä¸€ç§å¸¸è§çš„JavaScriptæ¨¡å¼</li></ul><ul id="b03d837f-d7fa-49c3-837b-a9d8ebd1a23e" class="bulleted-list"><li style="list-style-type:disc">ES6æ²¡æœ‰æ˜¾ç¤ºçš„æ”¯æŒå¤šç±»ç»§æ‰¿ï¼Œä½†æ˜¯é€šè¿‡ç°æœ‰ç‰¹æ€§å¯ä»¥è½»æ¾åœ°æ¨¡æ‹Ÿè¿™ç§è¡Œä¸º</li></ul><figure class="block-color-red_background callout" style="white-space:pre-wrap;display:flex" id="a71515b1-9ecb-4507-b398-c7b8e89d463b"><div style="font-size:1.5em"><span class="icon">ğŸ’¡</span></div><div style="width:100%">æ³¨æ„ï¼šObject.assign() æ–¹æ³•æ˜¯ä¸ºäº†æ··å…¥å¯¹è±¡è¡Œä¸ºè€Œè®¾è®¡çš„ã€‚åªæœ‰åœ¨éœ€è¦æ··å…¥ç±»çš„è¡Œä¸ºæ—¶æ‰æœ‰å¿…è¦è‡ªå·±å®ç°æ··å…¥è¡¨è¾¾å¼ã€‚å¦‚æœåªæ˜¯éœ€è¦æ··å…¥å¤šä¸ªå¯¹è±¡çš„å±æ€§ï¼Œé‚£ä¹ˆä½¿ç”¨Object.assign()å°±å¯ä»¥äº†</div></figure><ul id="7203f350-aec6-4f61-9c7e-a2f464ededb7" class="bulleted-list"><li style="list-style-type:disc">åœ¨ç»§æ‰¿è¯­æ³•ä¸­ï¼Œ<code>extends</code>åçš„æ ‡è¯†ç¬¦å¯ä»¥æ˜¯ä¸€ä¸ªJavaScript<code>Expression</code> åªè¦è¿™ä¸ªè¡¨è¾¾å¼æœ€ç»ˆæ‰§è¡Œç»“æœæ˜¯ä¸€ä¸ªç±»æˆ–æ„é€ å‡½æ•°å³å¯</li></ul><ul id="91691693-ce69-4f51-bb6e-0d6e56963656" class="bulleted-list"><li style="list-style-type:disc">åˆ©ç”¨è¿™ç§æ–¹å¼ï¼Œæ··å…¥æ¨¡å¼å¯ä»¥é€šè¿‡åœ¨ä¸€ä¸ªè¡¨è¾¾å¼ä¸­è¿ç¼€å¤šä¸ªæ··å…¥å…ƒç´ å®ç°ï¼Œè¿™ä¸ªè¡¨è¾¾å¼æœ€ç»ˆä¼šè§£ææˆä¸€ä¸ªç»§æ‰¿çš„ç±»</li></ul><ul id="35d40a3d-1502-44f8-93b0-54c02cc342d6" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å¦‚Personç±»éœ€è¦ç»„åˆAã€Bã€Cï¼Œåˆ™éœ€è¦ä¸€ç§æœºåˆ¶ä¸€æ¬¡å®ç°Bç»§æ‰¿Aï¼ŒCç»§æ‰¿Bï¼Œè€ŒPersonå†ç»§æ‰¿Cï¼Œä»è€ŒæŠŠAã€Bã€Cä¸‰ä¸ªç±»éƒ½ç»„åˆåˆ°Personä¸­</li></ul><p id="71442e5b-591f-45b9-bff1-ead95aa6bde4" class=""><strong>å¯åµŒå¥—å‡½æ•°</strong></p><ul id="e5a3f74d-904e-4493-8e7a-8575c2702763" class="bulleted-list"><li style="list-style-type:disc">å®šä¹‰ä¸€ç»„å¯åµŒå¥—çš„å‡½æ•°ï¼Œæ¯ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªè¶…ç±»ä½œä¸ºå‚æ•°ï¼Œç„¶ååœ¨å‡½æ•°ä½“å†…å°†ä¸´æ—¶å®šä¹‰çš„æ··å…¥ç±»ç»§æ‰¿ä¼ å…¥çš„å‚æ•°ï¼Œå¹¶è¿”å›ä¸´æ—¶å®šä¹‰çš„æ··å…¥ç±»</li></ul><ul id="6773ac1c-c147-479c-91c0-64fd59414359" class="bulleted-list"><li style="list-style-type:disc">è¿™äº›ç»„åˆå‡½æ•°å¯ä»¥è¿ç¼€è°ƒç”¨ï¼Œæœ€ç»ˆç»„åˆæˆè¶…ç±»è¡¨è¾¾å¼<pre id="d00f45a7-2de8-42ab-85ca-3867e57acacf" class="code code-wrap"><code>class Vehicle {}

let FooMin = (superclass) =&gt;
  class extends superclass {
    foo() {
      console.log(&quot;foo&quot;);
    }
  };
let BarMin = (superclass) =&gt;
  class extends superclass {
    bar() {
      console.log(&quot;bar&quot;);
    }
  };
let BazMin = (superclass) =&gt;
  class extends superclass {
    baz() {
      console.log(&quot;Baz&quot;);
    }
  };

class Bus extends FooMin(BarMin(BazMin(Vehicle))) {}
const bus = new Bus();
bus.foo();
bus.bar();
bus.baz();</code></pre><ul id="accb08aa-77a6-4995-b074-a8c35974833a" class="bulleted-list"><li style="list-style-type:circle">è¿™ç§æ··å…¥æ–¹å¼å®é™…ä¸Šå°±æ˜¯å°†ä¸åŒçš„è¡Œä¸ºï¼ˆåŸå‹æ–¹æ³•ï¼‰æŒ‚è½½åˆ°ä¸åŒçš„<strong>ä¸´æ—¶ç±»</strong>ä¸Šï¼Œç±»é¡ºåºç»§æ‰¿ç»„æˆä¸€ä¸ªä¸´æ—¶è¶…ç±»ï¼Œè®©æœ€ç»ˆçš„å­ç±»èƒ½æ‹¥æœ‰è¿™äº›æ–°è¡Œä¸ºï¼Œé‚£äº›<strong>ä¸´æ—¶ç±»</strong>å†ä¸‹ä¸€æ¬¡ç»„åˆæ—¶åˆä¼šè¢«é‡æ–°åˆ›å»ºï¼Œä¸å®šä¹‰å®é™…çš„ç±»è¿›è¡Œé¡ºåºç»§æ‰¿è¿˜æ˜¯æœ‰åŒºåˆ«çš„</li></ul></li></ul><p id="cbdda211-0c84-45f1-9463-e07eace36d5d" class=""><strong>å±•å¼€åµŒå¥—è°ƒç”¨</strong></p><ul id="5fe1ef49-676d-4960-885a-bf2778541092" class="bulleted-list"><li style="list-style-type:disc">å½“éœ€è¦æ··å…¥çš„è¡Œä¸ºè¿‡å¤šæ—¶ï¼Œéœ€è¦åµŒå¥—çš„æ¬¡æ•°ä¹Ÿå°±å¾ˆå¤šäº†ï¼Œå¯ä»¥å†™ä¸€ä¸ª<strong>è¾…åŠ©å‡½æ•°</strong>ï¼ŒæŠŠåµŒå¥—è°ƒç”¨å±•å¼€ï¼Œç›´æ¥æŠŠæ‰€æœ‰éœ€è¦åŠ å…¥çš„è¡Œä¸ºä¼ å…¥åˆ°è¿™ä¸ªè¾…åŠ©å‡½æ•°ä¸­ï¼Œè®©è¿™ä¸ªè¾…åŠ©å‡½æ•°ç›´æ¥è¿”å›è¶…ç±»<pre id="b44458c6-36dc-47aa-bc33-b8afd6b873ce" class="code code-wrap"><code>// è¾…åŠ©å‡½æ•°
function mix(BaseClass, ...mixins) {
  return mixins.reduce((pre, cur) =&gt; cur(pre), BaseClass);
}

class Car extends mix(Vehicle, BazMin, BarMin, FooMin) {}
const car = new Car();
car.foo();
car.bar();
car.baz();</code></pre></li></ul><ul id="68b5e107-094c-4f53-b282-2077623c06f0" class="bulleted-list"><li style="list-style-type:disc">å®é™…ä¸Šè¿™ä¸ªè¾…åŠ©å‡½æ•°å°±æ˜¯æŠŠåµŒå¥—è°ƒç”¨åˆ†ç¦»åˆ°å‡½æ•°ä½“ä¸­ï¼Œä½¿ç”¨æ‰©å±•æ“ä½œç¬¦é…åˆ<code>reduce</code>æ–¹æ³•å®ç°å›ºå®šä»£ç åµŒå¥—è°ƒç”¨</li></ul><figure class="block-color-red_background callout" style="white-space:pre-wrap;display:flex" id="b2f1f56f-6237-410c-95dc-ec5d5a72f928"><div style="font-size:1.5em"><span class="icon">ğŸ’¡</span></div><div style="width:100%">æ³¨æ„ï¼šå¾ˆå¤šJavaScriptæ¡†æ¶ï¼ˆç‰¹åˆ«æ˜¯Reactï¼‰å·²ç»<a href="https://www.notion.so/10-8cce62006faa46da95d4661276079253">æŠ›å¼ƒäº†æ··å…¥æ¨¡å¼</a>ï¼Œè½¬å‘äº†ç»„åˆæ¨¡å¼ï¼ˆæŠŠæ–¹æ³•æå–åˆ°ç‹¬ç«‹çš„ç±»å’Œè¾…åŠ©å¯¹è±¡ä¸­ï¼Œç„¶åæŠŠå®ƒä»¬ç»„åˆèµ·æ¥ï¼Œä½†ä¸ä½¿ç”¨ç»§æ‰¿ï¼‰ã€‚è¿™åæ˜ äº†é‚£ä¸ªä¼—æ‰€å‘¨çŸ¥çš„è½¯ä»¶è®¾è®¡åŸåˆ™ï¼šâ€œç»„åˆèƒœè¿‡ç»§æ‰¿ï¼ˆcomposition over inheritanceï¼‰ã€‚â€è¿™ä¸ªè®¾è®¡åŸåˆ™è¢«å¾ˆå¤šäººéµå¾ªï¼Œåœ¨ä»£ç è®¾è®¡ä¸­èƒ½æä¾›æå¤§çš„çµæ´»æ€§</div></figure><p id="f1aa152e-3e0c-4035-bd80-3d7b97e403ba" class="">
</p><p id="301dfd83-698c-4b08-a6fb-1ca3818076ea" class="">
</p></div></div><p id="3ad344d6-ca61-4d67-b6a8-b43a4daa758d" class="">
</p></div></article></body></html>