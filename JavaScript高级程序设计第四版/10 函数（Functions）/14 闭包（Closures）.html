<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>14. é—­åŒ…ï¼ˆClosuresï¼‰</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-opaquegray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="a563a90e-7f4c-48aa-8398-9fb20044d690" class="page sans"><header><img class="page-cover-image" src="https://www.notion.so/images/page-cover/gradients_2.png" style="object-position:center 19.999999999999996%"/><div class="page-header-icon page-header-icon-with-cover"><span class="icon">ğŸš”</span></div><h1 class="page-title">14. é—­åŒ…ï¼ˆClosuresï¼‰</h1></header><div class="page-body"><div id="662d729c-f9bf-4e8b-9447-179f24ff7cad" class="column-list"><div id="a42ac9d7-7b94-4b14-9f2d-91589539dc8a" style="width:12.5%" class="column"><nav id="5f74082c-adb5-4713-9893-c735aad67940" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#71abdaea-4aef-4554-a017-41af6e361806">14.1 é—­åŒ…</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#abffd0ff-267a-48b5-9977-172ae26d0442">14.1.1 å®šä¹‰</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#3c4e6a7b-8cf6-462c-a258-c4e5aa254870">14.1.2 ç†è§£é—­åŒ…</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#7b170185-1478-4fae-badd-95ee5acccfcb">14.2 é—­åŒ…ä¸­çš„thiså¯¹è±¡</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#5f52960f-5722-4e45-8050-bebf119cc63b">14.3 å†…å­˜æ³„æ¼ï¼ˆMemory Leaksï¼‰</a></div></nav><p id="367ac0e9-44e4-46a9-b962-5dca2f46d7f1" class="">
</p></div><div id="35a8ca8c-3094-4205-9ece-c9019b4debea" style="width:87.5%" class="column"><h1 id="71abdaea-4aef-4554-a017-41af6e361806" class="">14.1 é—­åŒ…</h1><h2 id="abffd0ff-267a-48b5-9977-172ae26d0442" class="">14.1.1 å®šä¹‰</h2><ul id="cb8d0250-a8c0-4d7d-8613-1ece46c3978c" class="bulleted-list"><li style="list-style-type:disc"><strong>åŒ¿åå‡½æ•°</strong>ï¼ˆ<strong>anonymous functions</strong>ï¼‰å¸¸è¢«äººè¯¯è®¤ä¸ºæ˜¯<strong>é—­åŒ…</strong>ï¼ˆ<strong>closure</strong>ï¼‰ï¼Œé—­åŒ…å®é™…ä¸Šæ˜¯é‚£äº›<strong>å¼•ç”¨äº†</strong>ï¼ˆ<strong>have access to</strong>ï¼‰å¦å¤–ä¸€ä¸ª<strong>å‡½æ•°ä½œç”¨åŸŸ</strong>ï¼ˆ<strong>functionâ€™s scope</strong>ï¼‰ä¸­çš„å˜é‡çš„å‡½æ•°ï¼Œé€šå¸¸åœ¨åµŒå¥—å‡½æ•°ï¼ˆcreating a function inside a functionï¼‰ä¸­<strong>å®ç°</strong>ï¼ˆ<strong>accomplished</strong>ï¼‰</li></ul><ul id="1d75a4c9-f7f0-490f-96cd-434f1bd77612" class="bulleted-list"><li style="list-style-type:disc">åœ¨<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures">MDN</a>ä¸­ï¼Œé—­åŒ…æ˜¯ä¸€ä¸ªä¸<strong>å‘¨è¾¹ç¯å¢ƒçŠ¶æ€</strong>ã€<strong>surrounding stateï¼ˆthe lexical environment ï¼Œè¯æ³•ç¯å¢ƒï¼‰</strong>ã€‘ä¸­çš„å¼•ç”¨ï¼ˆ<strong>references</strong>ï¼‰<strong>æ†ç»‘åœ¨ä¸€èµ·</strong>ï¼ˆ<strong>bundled together</strong>ï¼‰çš„<strong>å‡½æ•°ç»„åˆ</strong>ï¼ˆ<strong>the combination of a function</strong>ï¼‰</li></ul><ul id="d97f9454-7015-4959-bae1-a51d091e0189" class="bulleted-list"><li style="list-style-type:disc">è¿™ä¸¤ç§å®šä¹‰éƒ½è¡¨æ˜é—­åŒ…çš„ä¸¤ä¸ªç‰¹æ€§<ul id="3562268d-6405-4701-90f0-db5357439d7d" class="bulleted-list"><li style="list-style-type:circle">é—­åŒ…æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°</li></ul><ul id="9e58fa94-984d-4ddf-95d6-7a5b2bf48a76" class="bulleted-list"><li style="list-style-type:circle">è¿™ä¸ªå‡½æ•°å¼•ç”¨ä¸å±äºå®ƒä½œç”¨åŸŸçš„ï¼ˆé€šå¸¸ä¸ºå¦å¤–ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸçš„ï¼‰å˜é‡</li></ul></li></ul><hr id="18a41c8a-d85d-460f-8425-5c1cef06346d"/><ul id="4f524161-c1c1-4f01-a631-00d3c3023f55" class="bulleted-list"><li style="list-style-type:disc"><strong>ä¾‹å­ï¼š</strong>åœ¨ä¹‹å‰çš„å‡½æ•°ä½œä¸ºè¿”å›å€¼ä¸­å®é™…ä¸Šå£°æ˜çš„ä¸€ä¸ªåˆ›å»ºæ¯”è¾ƒå‡½æ•°çš„å‡½æ•°ï¼Œå…¶è¿”å›çš„åŒ¿åå‡½æ•°å°±æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œå› ä¸ºè¿™ä¸ªåŒ¿åå‡½æ•°å¼•ç”¨äº†å¤–éƒ¨å‡½æ•°ä½œç”¨åŸŸä¸­çš„<code>prop</code>å‚æ•°ï¼Œå¦‚ä¸‹<pre id="93e02ecb-b885-4bfa-ae24-21319317a16f" class="code code-wrap"><code>function createComparisionFunction(prop) {
  return function (a, b) {
    let v1 = a[prop];
    let v2 = b[prop];
    if (v1 &lt; v2) {
      return -1;
    } else if (v1 &gt; v2) {
      return 1;
    } else {
      return 0;
    }
  };
}</code></pre><ul id="e102f424-a6f4-4d3d-b902-4e1a6105db6b" class="bulleted-list"><li style="list-style-type:circle">é»„è‰²èƒŒæ™¯çš„ä»£ç ä½äºå†…éƒ¨å‡½æ•°ï¼ˆåŒ¿åå‡½æ•°ï¼‰ä¸­ï¼Œå®ƒ<strong>å¼•ç”¨ç€</strong>ï¼ˆ<strong>accessing</strong>ï¼‰å¤–éƒ¨å‡½æ•°çš„å˜é‡<code>prop</code> </li></ul><ul id="ddd39f05-a6d0-4c38-9f56-13ea993f4b71" class="bulleted-list"><li style="list-style-type:circle">å³ä½¿è¿™ä¸ªå†…éƒ¨å‡½æ•°è¢«è¿”å›å¹¶åœ¨å…¶å®ƒåœ°æ–¹ä½¿ç”¨ï¼Œå®ƒä»ç„¶<strong>å¼•ç”¨ç€</strong>ï¼ˆ<strong>accessing</strong>ï¼‰é‚£ä¸ªå˜é‡</li></ul><ul id="93dcffeb-7aa3-4ed8-a813-f5863cbbe6b8" class="bulleted-list"><li style="list-style-type:circle">è¦ç†è§£ä¸ºä½•è¿™ä¸ªåŒ¿åå‡½æ•°èƒ½ä¸€ç›´å¼•ç”¨<code>prop</code> ï¼Œéœ€è¦æ€è€ƒå½“ç¬¬ä¸€æ¬¡è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼ˆ<code>createComparisonFunction()</code>ï¼‰æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆ</li></ul></li></ul><h2 id="3c4e6a7b-8cf6-462c-a258-c4e5aa254870" class="">14.1.2 ç†è§£é—­åŒ…</h2><ul id="1d3dbfed-243b-4aa4-acf0-0a40486a85fd" class="bulleted-list"><li style="list-style-type:disc">åœ¨<a href="../4%20%E5%8F%98%E9%87%8F%E3%80%81%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E5%86%85%E5%AD%98.html"><span class="icon">ğŸ¥‰</span>4. å˜é‡ã€ä½œç”¨åŸŸä¸å†…å­˜</a> ä¸­ä»‹ç»è¿‡<strong>ä½œç”¨åŸŸé“¾</strong>ï¼ˆ<strong>scope chain</strong>ï¼‰çš„æ¦‚å¿µï¼Œç†è§£<strong>ä½œç”¨åŸŸé“¾çš„åˆ›å»ºå’Œä½¿ç”¨ç»†èŠ‚</strong>å¯¹ç†è§£é—­åŒ…éå¸¸é‡è¦</li></ul><ul id="34473192-9a47-4a47-9241-715d70df4a34" class="bulleted-list"><li style="list-style-type:disc">åœ¨è°ƒç”¨å‡½æ•°è¿‡ç¨‹ä¸­ï¼Œä½œç”¨åŸŸé“¾çš„åˆ›å»ºç»†èŠ‚å¦‚ä¸‹<ol type="1" id="c1ec8693-1801-4c8a-8308-50d05daecbf5" class="numbered-list" start="1"><li>åœ¨è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œä¼šä¸ºè¿™ä¸ªå‡½æ•°è°ƒç”¨åˆ›å»ºä¸€ä¸ª<strong>æ‰§è¡Œä¸Šä¸‹æ–‡</strong>ï¼ˆ<strong>execution context</strong>ï¼‰ï¼Œå¹¶ä¸”å‡½æ•°çš„ä½œç”¨åŸŸé“¾ä¹Ÿè¢«åˆ›å»ºã€‚</li></ol><ol type="1" id="9d29908c-5993-46fd-99dd-cc18729af4a6" class="numbered-list" start="2"><li>ç„¶åç”¨ä¸€ä¸ª<code>arguments</code> å’Œå…¶å®ƒå‘½åå‚æ•°æ¥åˆå§‹åŒ–è¿™ä¸ªå‡½æ•°çš„<strong>æ´»åŠ¨å¯¹è±¡</strong>ï¼ˆ<strong>activation object</strong>ï¼‰ã€‚</li></ol><ol type="1" id="7408bb95-1396-4495-986b-df3a339dccc8" class="numbered-list" start="3"><li>å¤–éƒ¨å‡½æ•°çš„æ´»åŠ¨å¯¹è±¡æ˜¯å†…éƒ¨å‡½æ•°ä½œç”¨åŸŸé“¾ä¸Šçš„ç¬¬äºŒä¸ªå¯¹è±¡ï¼ˆå†…éƒ¨å‡½æ•°ä½œç”¨åŸŸé“¾ä¸Šçš„ç¬¬ä¸€ä¸ªå¯¹è±¡æ˜¯å®ƒè‡ªèº«çš„æ´»åŠ¨å¯¹è±¡ï¼‰</li></ol><ol type="1" id="7cb9be4c-5774-4d97-afca-bc5cac85466b" class="numbered-list" start="4"><li>å†…éƒ¨å‡½æ•°ä½œç”¨åŸŸé“¾ï¼ˆ<code>process</code>ï¼‰ä¸€ç›´å‘å¤–ä¸²èµ·äº†æ‰€æœ‰åŒ…å«å‡½æ•°çš„æ´»åŠ¨å¯¹è±¡ï¼Œ<strong>ç›´åˆ°</strong>ï¼ˆ<strong>terminates</strong>ï¼‰å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡æ‰ç»ˆæ­¢ã€‚</li></ol></li></ul><ul id="886bfb0e-7f87-4cd0-a7cc-e701f4e54387" class="bulleted-list"><li style="list-style-type:disc">åœ¨å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œè¦ä»ä½œç”¨åŸŸé“¾ä¸­æŸ¥æ‰¾å˜é‡ï¼Œä»¥ä¾¿è¯»ã€å†™å€¼<pre id="04c55b94-a81d-4314-9726-385ad28b4f74" class="code code-wrap"><code>function compare(value1, value2) {
  if (value1 &lt; value2) {
    return -1;
  } else if (value1 &gt; value2) {
    return 1;
  } else {
    return 0;
  }
}
let result = compare(5, 10);</code></pre><ul id="567414ae-c5d6-44a6-bb81-763f00e9e1ea" class="bulleted-list"><li style="list-style-type:circle">è¿™é‡Œå®šä¹‰çš„<code>compare()</code> æ˜¯åœ¨<strong>å…¨å±€ä¸Šä¸‹æ–‡</strong>(<strong>global execution context</strong>)ä¸­è°ƒç”¨çš„</li></ul><ul id="907c66cf-8a6a-4763-83e2-373b6b728c69" class="bulleted-list"><li style="list-style-type:circle"><strong>ç¬¬ä¸€æ¬¡</strong>è°ƒç”¨<code>compare()</code> ä¼šä¸ºå®ƒåˆ›å»ºä¸€ä¸ªåŒ…å«<code>arguments</code>ã€<code>value1</code>ã€<code>value2</code>çš„<strong>æ´»åŠ¨å¯¹è±¡</strong>ï¼ˆ<strong>activation object</strong>ï¼‰</li></ul><ul id="4dd41b0b-7478-4733-b3ae-527317cc4970" class="bulleted-list"><li style="list-style-type:circle">è€Œ<strong>å…¨å±€ä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡</strong>ï¼ˆ<strong>global contextâ€™s variable object</strong>ï¼‰åˆ™æ˜¯<code>compare()</code> ä½œç”¨åŸŸé“¾ä¸Šçš„ç¬¬äºŒä¸ªå¯¹è±¡ï¼Œå…¶ä¸­è‡³å°‘åŒ…å«<code>this</code>ï¼Œ <code>result</code>å’Œ<code>compare</code></li></ul><ul id="7dd34bbf-3ef0-46ca-a6f8-202d33bb5df4" class="bulleted-list"><li style="list-style-type:circle">ä½œç”¨åŸŸé“¾å’Œæ‰§è¡Œä¸Šä¸‹æ–‡å…³ç³»å¦‚ä¸‹<figure id="67130797-5d34-46e3-90b7-586eb1ec6751" class="image"><a href="14%20%E9%97%AD%E5%8C%85%EF%BC%88Closures%EF%BC%89/scope_chain.png"><img style="width:1200px" src="14%20%E9%97%AD%E5%8C%85%EF%BC%88Closures%EF%BC%89/scope_chain.png"/></a></figure></li></ul></li></ul><ul id="991b22a9-58a5-4b72-a321-d074eb01088f" class="bulleted-list"><li style="list-style-type:disc">åœ¨å‡½æ•°æ‰§è¡Œçš„å¹•åï¼ˆbehindï¼‰ï¼Œæ¯ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡éƒ½ä¼šæœ‰ä¸€ä¸ª<strong>åŒ…å«å…¶ä¸­å˜é‡</strong>ï¼ˆ<strong>represents the variables</strong>ï¼‰çš„å¯¹è±¡<ul id="f3ec6c1a-e03b-4525-8c6e-2c5cb56e1679" class="bulleted-list"><li style="list-style-type:circle">å…¨å±€ä¸Šä¸‹æ–‡ï¼ˆ<strong>global context</strong>ï¼‰ä¸­å«<strong>å˜é‡å¯¹è±¡</strong>ï¼ˆ<strong>variables object</strong>ï¼‰ï¼Œå®ƒä¼šåœ¨ä»£ç æ‰§è¡ŒæœŸé—´å§‹ç»ˆå­˜åœ¨</li></ul><ul id="63103dae-3d09-483e-89e6-9ea52a41207c" class="bulleted-list"><li style="list-style-type:circle">è€Œå‡½æ•°å±€éƒ¨ä¸Šä¸‹æ–‡ä¸­å«<strong>æ´»åŠ¨å¯¹è±¡</strong>ï¼ˆ<strong>activation object</strong>ï¼‰ï¼Œåªåœ¨å‡½æ•°æ‰§è¡ŒæœŸé—´å­˜åœ¨ï¼ˆä¾‹å¦‚<code>compare()</code> å‡½æ•°ï¼‰</li></ul></li></ul><ul id="2b5d4cf6-b5ae-4517-aaa8-4bd1369c9f44" class="bulleted-list"><li style="list-style-type:disc">åœ¨å®šä¹‰<code>compare()</code> å‡½æ•°æ—¶ï¼Œå°±ä¼šåˆ›å»ºä½œç”¨åŸŸé“¾ï¼Œ<strong>é¢„è£…è½½ï¼ˆpreloadedï¼‰</strong>å…¨å±€<strong>å˜é‡å¯¹è±¡</strong>ï¼ˆ<strong>variables object</strong>ï¼‰ï¼Œå¹¶ä¿å­˜åœ¨å‡½æ•°å¯¹è±¡<strong>å†…éƒ¨</strong>ï¼ˆ<strong>internal</strong>ï¼‰çš„[[Scope]]å±æ€§ä¸­<ul id="9489d4ca-e17d-4b29-a8eb-3175b78ae6bd" class="bulleted-list"><li style="list-style-type:circle">åœ¨è°ƒç”¨è¿™ä¸ªå‡½æ•°æ—¶ï¼Œä¼šåˆ›å»ºç›¸åº”çš„æ‰§è¡Œä¸Šä¸‹æ–‡</li></ul><ul id="a72147d4-e0b3-4af0-b9e6-f367fdbee28e" class="bulleted-list"><li style="list-style-type:circle">ç„¶åé€šè¿‡å¤åˆ¶å‡½æ•°çš„[[Scope]]å±æ€§æ¥<strong>æ„å»º</strong>ï¼ˆ<strong>built up</strong>ï¼‰å…¶ä½œç”¨åŸŸé“¾</li></ul><ul id="2de38c9d-be24-42ad-af86-aec572f78507" class="bulleted-list"><li style="list-style-type:circle">æ¥ç€ä¼šåˆ›å»ºå‡½æ•°çš„<strong>æ´»åŠ¨å¯¹è±¡ï¼ˆactivation objectï¼Œ</strong>ç”¨ä½œå±€éƒ¨çš„å˜é‡å¯¹è±¡<strong>ï¼‰</strong>å°†å…¶æ¨å…¥åˆ°ï¼ˆ<strong>pushed to</strong>ï¼‰ä½œç”¨åŸŸé“¾çš„<strong>å‰ç«¯</strong>ï¼ˆ<strong>front</strong>ï¼‰</li></ul><hr id="9332daa5-3504-47e8-9014-e91ea728d1d6"/><ul id="e54bef85-d978-44f2-b86e-ecd043a0c0ce" class="bulleted-list"><li style="list-style-type:circle">åœ¨è¿™ä¸ªçš„ä¾‹å­ï¼Œè¿™æ„å‘³ç€<code>compare()</code> å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡çš„ä½œç”¨åŸŸé“¾ä¸­æœ‰ä¸¤ä¸ªå˜é‡å¯¹è±¡ï¼š<strong>å±€éƒ¨</strong>ï¼ˆ<strong>local</strong>ï¼‰å˜é‡å¯¹è±¡å’Œ<strong>å…¨å±€</strong>ï¼ˆ<strong>global</strong>ï¼‰å˜é‡å¯¹è±¡</li></ul></li></ul><ul id="39347183-edc6-46a4-b75c-43c302cd7a04" class="bulleted-list"><li style="list-style-type:disc">ä½œç”¨åŸŸé“¾å®é™…ä¸Šæ˜¯ä¸€ä¸ªåŒ…å«æŒ‡é’ˆï¼ˆ<strong>pointers</strong>ï¼‰çš„åˆ—è¡¨ï¼Œæ¯ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘ä¸€ä¸ªå˜é‡å¯¹è±¡ï¼Œä½†åœ¨ç‰©ç†ä¸Šå¹¶ä¸ä¼šåŒ…å«ç›¸åº”çš„å¯¹è±¡</li></ul><ul id="dbd36f90-695c-4343-85e4-f58ab2c05aa7" class="bulleted-list"><li style="list-style-type:disc">å‡½æ•°å†…éƒ¨çš„ä»£ç åœ¨<strong>è®¿é—®</strong>ï¼ˆ<strong>accessed</strong>ï¼‰å˜é‡æ—¶ï¼Œå°±ä¼šä½¿ç”¨ç»™å®šçš„åç§°ä»ä½œç”¨åŸŸé“¾ä¸­æŸ¥æ‰¾å˜é‡ï¼›ä¸€æ—¦å‡½æ•°æŒ‡å‘å®Œæ¯•ï¼Œå±€éƒ¨çš„æ´»åŠ¨å¯¹è±¡ï¼ˆå‡½æ•°çš„å±€éƒ¨å˜é‡å¯¹è±¡ï¼‰ä¼šè¢«é”€æ¯ï¼Œå†…å­˜ä¸­å°±åªå‰©ä¸‹å…¨å±€ä½œç”¨åŸŸï¼Œä¸è¿‡<strong>é—­åŒ…å°±ä¸ä¸€æ ·</strong>äº†</li></ul><hr id="2fd2ebf6-284e-435f-bc82-ba97192383b0"/><ul id="c2b2328e-45e9-48da-bb17-39f94fab8aed" class="bulleted-list"><li style="list-style-type:disc">å›åˆ°<a href="14%20%E9%97%AD%E5%8C%85%EF%BC%88Closures%EF%BC%89.html"><code>createComparisionFunction()</code></a>è¿™ä¸ªä¾‹å­ä¸­ï¼Œåœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨å®šä¹‰çš„å‡½æ•°ä¼šæŠŠ<strong>å…¶åŒ…å«å‡½æ•°</strong>ï¼ˆ<strong>containing function</strong>ï¼‰çš„æ´»åŠ¨å¯¹è±¡æ·»åŠ åˆ°è‡ªå·±çš„ä½œç”¨åŸŸé“¾ä¸­ï¼›å› æ­¤<code>createComparisionFunction()</code> å‡½æ•°ä¸­çš„åŒ¿åå‡½æ•°çš„ä½œç”¨åŸŸé“¾å®é™…ä¸ŠåŒ…å«<code>createComparisionFunction()</code> çš„æ´»åŠ¨å¯¹è±¡ï¼Œæ‰§è¡Œå¦‚ä¸‹è¯­å¥<pre id="79660386-a06f-48f2-b7af-89f20e97cac2" class="code"><code>let compare = createComparisionFunction(&quot;name&quot;);
let result = compare({name: &#x27;Nicholas&#x27;}, {name: &#x27;Matt&#x27;})</code></pre><ul id="abe1ed49-9c42-44de-a02f-a52838ab73aa" class="bulleted-list"><li style="list-style-type:circle">æ‰§è¡Œå®Œæ¯•åï¼Œä¼šå¾—åˆ°ä¸€ä¸ªåŒ¿åå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡åŠå…¶ä½œç”¨åŸŸé“¾ï¼Œå…¶å…³ç³»å’Œ<code>createComparisionFunction()</code> å‡½æ•°çš„ä¸Šä¸‹æ–‡åŠå…¶ä½œç”¨åŸŸé“¾çš„å…³ç³»å›¾å¦‚ä¸‹<figure id="5f38a1e8-eb4a-43e9-a512-8a48387cecb3" class="image"><a href="14%20%E9%97%AD%E5%8C%85%EF%BC%88Closures%EF%BC%89/Frame_2.png"><img style="width:1200px" src="14%20%E9%97%AD%E5%8C%85%EF%BC%88Closures%EF%BC%89/Frame_2.png"/></a></figure></li></ul><ul id="d4c3e6bb-e226-4373-9dcc-08def73ec918" class="bulleted-list"><li style="list-style-type:circle">åœ¨<code>createComparisionFunction()</code> å‡½æ•°è¿”å›åŒ¿åå‡½æ•°åï¼Œå®ƒçš„ä½œç”¨åŸŸé“¾è¢«åˆå§‹åŒ–ä¸ºåŒ…å«<code>createComparisionFunction()</code> çš„æ´»åŠ¨å¯¹è±¡å’Œå…¨å±€å˜é‡å¯¹è±¡ï¼Œè¿™ä¸€åŒ¿åå‡½æ•°å°±å¯ä»¥è®¿é—®åˆ°<code>createComparisionFunction()</code> å‡½æ•°å¯ä»¥è®¿é—®åˆ°çš„æ‰€æœ‰å˜é‡</li></ul><ul id="0dfbecc9-277d-4448-9855-239081a75b21" class="bulleted-list"><li style="list-style-type:circle">å¦å¤–ä¸€ä¸ª<strong>å‰¯ä½œç”¨</strong>ï¼ˆ<strong>effect</strong>ï¼‰æ˜¯<code>createComparisionFunction()</code> çš„æ´»åŠ¨å¯¹è±¡å¹¶ä¸èƒ½åœ¨å®ƒæ‰§è¡Œå®Œæ¯•åè¢«é”€æ¯ï¼Œå› ä¸ºåŒ¿åå‡½æ•°çš„ä½œç”¨åŸŸé“¾ä¸­ä»ç„¶æœ‰å¯¹å®ƒçš„æ´»åŠ¨å¯¹è±¡çš„å¼•ç”¨</li></ul></li></ul><ul id="35306d30-c0b0-488f-bf9b-1405d797bf0f" class="bulleted-list"><li style="list-style-type:disc">è™½ç„¶<code>createComparisionFunction()</code> æ‰§è¡Œå®Œæ¯•åï¼Œå…¶æ‰§è¡Œä¸Šä¸‹æ–‡çš„ä½œç”¨åŸŸé“¾ä¼šè¢«é”€æ¯ï¼Œä½†æ˜¯å®ƒçš„æ´»åŠ¨å¯¹è±¡ä»ç„¶ä¼šä¿ç•™ï¼ˆremainï¼‰åœ¨å†…å­˜ä¸­ï¼Œç›´åˆ°åŒ¿åå‡½æ•°è¢«é”€æ¯<pre id="9a96b429-df39-4486-adac-eba3db64e7dd" class="code code-wrap"><code>// åˆ›å»ºæ¯”è¾ƒå‡½æ•°
let compareNames = createComparisionFunction(&quot;name&quot;);
// è°ƒç”¨å‡½æ•°
let result = compareNames({ name: &quot;Nicholas&quot; }, { name: &quot;Matt&quot; });
// é”€æ¯compareæ‰ä¼šä½¿å¾—createComparisionFunctionçš„æ´»åŠ¨å¯¹è±¡åœ¨å†…å­˜ä¸­è¢«é‡Šæ”¾
compareNames = null;</code></pre><ul id="a4da1fe8-c475-4b95-88e8-5d56fd4787ac" class="bulleted-list"><li style="list-style-type:circle">æ¯”è¾ƒå‡½æ•°è¢«ä¿å­˜åœ¨å˜é‡<code>compareNames</code>ä¸­ï¼ˆä»ç„¶æ˜¯åŒ¿åå‡½æ•°ï¼‰ï¼ŒæŠŠå®ƒè®¾ç½®ä¸º<code>null</code> ç­‰ä»·äºè§£é™¤å¯¹åŒ¿åå‡½æ•°çš„å¼•ç”¨ï¼Œä»è€Œè®©åƒåœ¾å›æ”¶ç¨‹åºå¯ä»¥å°†åŒ¿åå‡½æ•°æ‰€åœ¨å†…å­˜é‡Šæ”¾</li></ul><ul id="524a411f-c32f-455e-9f20-688dc66d5f6a" class="bulleted-list"><li style="list-style-type:circle">æ›´è¿›ä¸€æ­¥ï¼ŒåŒ¿åå‡½æ•°çš„ä½œç”¨åŸŸé“¾ä¹Ÿä¼šè¢«é”€æ¯ï¼Œè€Œä½œç”¨åŸŸé“¾ä¸­å¼•ç”¨çš„<code>createComparisionFunction()</code> å‡½æ•°çš„æ´»åŠ¨å¯¹è±¡å› ä¸ºå¤±å»å¼•ç”¨ä¹Ÿä¼šè¢«å®‰å…¨é”€æ¯</li></ul></li></ul><figure class="block-color-red_background callout" style="white-space:pre-wrap;display:flex" id="bd341890-4f04-4717-8a7e-b40970ec757a"><div style="font-size:1.5em"><span class="icon">ğŸ’¡</span></div><div style="width:100%">æ³¨æ„ï¼šå› ä¸ºé—­åŒ…ä¼š<strong>ä¿ç•™</strong>ï¼ˆ<strong>carry with</strong>ï¼‰å®ƒä»¬åŒ…å«ï¼ˆ<strong>containing</strong>ï¼‰å‡½æ•°çš„ä½œç”¨åŸŸï¼Œæ‰€ä»¥æ¯”å…¶å®ƒå‡½æ•°æ›´å ç”¨å†…å­˜ã€‚<strong>è¿‡åº¦ä½¿ç”¨</strong>ï¼ˆ<strong>Overuse</strong>ï¼‰é—­åŒ…å¯èƒ½å¯¼è‡´<strong>å†…å­˜è¿‡åº¦å ç”¨</strong>(<strong>excess memory consumption</strong>)ï¼Œå› æ­¤å»ºè®®åœ¨ååˆ†å¿…è¦çš„æ—¶å€™æ‰ä½¿ç”¨é—­åŒ…ã€‚V8ç­‰ä¼˜åŒ–çš„JavaScriptå¼•æ“ä¼šåŠªåŠ›å›æ”¶è¢«é—­åŒ…å›°ä½çš„å†…å­˜ï¼Œä¸è¿‡è¿˜æ˜¯å¸Œæœ›å»ºè®®åœ¨ä½¿ç”¨é—­åŒ…æ—¶è¦è°¨æ…</div></figure><h1 id="7b170185-1478-4fae-badd-95ee5acccfcb" class="">14.2 é—­åŒ…ä¸­çš„thiså¯¹è±¡</h1><ul id="fb0735b4-67aa-464d-8f10-3e41ae6ee1bb" class="bulleted-list"><li style="list-style-type:disc">åœ¨é—­åŒ…ä¸­ä½¿ç”¨<code>this</code> ä¼šè®©ä»£ç å˜çš„å¤æ‚ï¼Œå› ä¸ºåœ¨æ ‡å‡†å‡½æ•°ä¸­<code>this</code> æ‹¥æœ‰<strong>è¿è¡Œæ—¶ç»‘å®š</strong>çš„ç‰¹æ€§ï¼Œå¼€å‘è€…æ— æ³•ç¡®å®šé—­åŒ…ä¸­çš„<code>this</code> åœ¨<strong>æœªæ¥</strong>ä¼šæŒ‡å‘å“ªä¸ªå¯¹è±¡ï¼Œå¦‚æœä¸æŒ‡å®šè°ƒç”¨å¯¹è±¡ï¼Œè€Œæ˜¯ç›´æ¥è°ƒç”¨ç”Ÿæˆçš„åŒ¿åå‡½æ•°ï¼Œ<code>this</code> ä¸€èˆ¬å°±æ˜¯é»˜è®¤çš„å…¨å±€å¯¹è±¡ï¼ˆä¸¥æ ¼æ¨¡å¼ä¸‹ä¸º<code>undefined</code>ï¼‰</li></ul><ul id="82275211-9490-4fcd-9e3e-644c030305ad" class="bulleted-list"><li style="list-style-type:disc">ç°åœ¨æ¥çœ‹è¿™ä¸ªä¾‹å­ï¼Œå®ƒåœ¨ä¸€ä¸ªå¯¹è±¡ä¸­å®šä¹‰äº†ä¸€ä¸ªç”Ÿæˆå‡½æ•°çš„æ–¹æ³•<pre id="836706d4-86df-44d4-bb40-958765bafd01" class="code code-wrap"><code>globalThis.identity = &quot;The Global Object&quot;;

let obj = {
  identity: &quot;My Object&quot;,
  createIdentityFunction() {
    return function () {
      return this.identity;
    };
  },
};
console.log(obj.createIdentityFunction()()); // The Global Object</code></pre><ul id="8e362426-98bd-4dfb-86ae-9be141c40e0d" class="bulleted-list"><li style="list-style-type:circle">ä»é—­åŒ…çš„è§’åº¦çœ‹ï¼ŒåŒ¿åå‡½æ•°å¼•ç”¨äº†<code>createIdentityFunction()</code> çš„<code>this</code> ï¼Œä¸ºä»€ä¹ˆåŒ¿åå‡½æ•°æ²¡æœ‰ä½¿ç”¨å…¶åŒ…å«ä½œç”¨åŸŸï¼ˆ<code>createIdentityFunction()</code>ï¼‰çš„<code>this</code>å¯¹è±¡å‘¢ï¼Ÿ</li></ul></li></ul><ul id="bf4b9d4b-4185-45be-8201-246992be3c57" class="bulleted-list"><li style="list-style-type:disc">å®é™…ä¸Šï¼Œç¬¬<a href="9%20%E5%87%BD%E6%95%B0%E5%86%85%E9%83%A8%EF%BC%88Function%20Internals%EF%BC%89.html"><span class="icon">ğŸª‘</span>9. å‡½æ•°å†…éƒ¨ï¼ˆFunction Internalsï¼‰</a> èŠ‚çš„ç¬¬ä¸€å¥è¯å°±èƒ½è§£é‡Šè¿™ä¸ªé—®é¢˜ï¼š<div><p id="d7be2941-25a8-4c49-9b99-e93445f23d35" class="">åœ¨ES5æ ‡å‡†ä¸­ï¼Œå‡½æ•°å†…éƒ¨å­˜åœ¨ä¸¤ä¸ªç‰¹æ®Šçš„å¯¹è±¡ï¼š<code>arguments</code> å’Œ<code>this</code> ï¼ŒES6åˆæ–°å¢äº†<code>new.target</code>å±æ€§ï¼ˆå…³äºè¿™ä¸ªåœ¨ç¬¬å…«ç« æ—¶å°±ä»‹ç»è¿‡<a href="../8%20%E5%AF%B9%E8%B1%A1%E3%80%81%E7%B1%BB%E4%B8%8E%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/4%20%E7%B1%BB/new%20target.html"><span class="icon">ğŸŒ‘</span>new.target</a> ï¼‰</p></div><ul id="6a2a1fe2-7cc7-4e9c-ba7f-aaf0a8814b04" class="bulleted-list"><li style="list-style-type:circle">æ¯ä¸ªå‡½æ•°åœ¨è¢«è°ƒç”¨æ—¶éƒ½ä¼šè‡ªåŠ¨åˆ›å»ºä¸¤ä¸ªç‰¹æ®Šå˜é‡ï¼š<code>this</code>å’Œ<code>arguments</code> </li></ul><ul id="bd03cb1b-5252-42e7-8b57-2ca54eaa74b4" class="bulleted-list"><li style="list-style-type:circle"><strong>å†…éƒ¨å‡½æ•°æ°¸è¿œä¸å¯èƒ½ç›´æ¥è®¿é—®å¤–éƒ¨å‡½æ•°çš„è¿™ä¸¤ä¸ªå˜é‡</strong></li></ul><hr id="c149e27c-7269-4fa7-92a1-7f347eeb515e"/><ul id="954b6fb6-ec44-413f-93a1-b3fc4de05f99" class="bulleted-list"><li style="list-style-type:circle">å¯¹äºç®­å¤´å‡½æ•°è€Œè¨€ï¼Œå› ä¸ºå®ƒ<strong>ä¸å…·æœ‰</strong>è¿è¡Œæ—¶ç»‘å®šçš„ç‰¹æ€§ï¼Œè€Œæ˜¯å®šä¹‰æ—¶ç»‘å®šæœ€è¿‘ä¸Šä¸‹æ–‡ä¸­çš„<code>this</code> ï¼ˆè¿™ç‚¹å’Œé—­åŒ…å¾ˆåƒï¼‰</li></ul><ul id="2049d4ce-9222-444a-b065-f3f3dfbc2ee9" class="bulleted-list"><li style="list-style-type:circle">æ‰€ä»¥ä¸Šè¿°çš„åŒ¿åå‡½æ•°æ›¿æ¢ä¸ºç®­å¤´å‡½æ•°æ‰“å°çš„å°±æ˜¯<code>My Object</code> äº†</li></ul></li></ul><ul id="05f06bd0-0b1e-47a2-9555-97bba23c27bb" class="bulleted-list"><li style="list-style-type:disc">è™½ç„¶å†…éƒ¨çš„æ ‡å‡†å‡½æ•°ä¸èƒ½è®¿é—®å¾…å¤–éƒ¨å‡½æ•°çš„<code>this</code> ï¼Œä½†æ˜¯ä»¥é—­åŒ…çš„è§‚ç‚¹ï¼Œå†…éƒ¨çš„æ ‡å‡†å‡½æ•°å¯ä»¥è®¿é—®åˆ°å…¶å®ƒä»»ä½•å®šä¹‰åœ¨å¤–éƒ¨å‡½æ•°çš„å˜é‡ï¼Œé‚£ä¹ˆ<strong>æŠŠ</strong><strong><code>this</code></strong><strong>ä¿å­˜åˆ°ä¸€ä¸ªå˜é‡ä¸­ï¼Œ</strong>é‚£ä¹ˆå†…éƒ¨å‡½æ•°å°±å¯ä»¥é€šè¿‡è¿™ä¸ªå˜é‡é—´æ¥è®¿é—®åˆ°å¤–éƒ¨å‡½æ•°çš„<code>this</code>äº†ï¼é€šå¸¸å¯ä»¥åœ¨å¤–éƒ¨å‡½æ•°ä¸­å®šä¹‰ä¸€ä¸ª<code>that</code> å˜é‡ä¾›å†…éƒ¨å‡½æ•°ä½¿ç”¨ï¼Œå¦‚ä¸‹<pre id="a0793c2f-a8a7-457d-8d8f-7eebbeb106d1" class="code code-wrap"><code>let obj3 = {
  identity: &quot;My Object&quot;,
  createIdentityFunction() {
    let that = this;
    return function () {
      return that.identity;
    };
  },
};
console.log(obj3.createIdentityFunction()()); // My Object</code></pre><ul id="52079aef-666f-4afb-9598-688146c3ee14" class="bulleted-list"><li style="list-style-type:circle">åœ¨å®šä¹‰åŒ¿åå‡½æ•°å‰ï¼Œå…ˆæŠŠå¤–éƒ¨å‡½æ•°çš„<code>this</code> ä¿å­˜åˆ°å˜é‡<code>that</code>ä¸­ï¼Œç„¶åå®šä¹‰é—­åŒ…æ—¶ï¼Œå°±å¯ä»¥è®©å®ƒè®¿é—®<code>that</code> ï¼Œå› ä¸ºè¿™æ˜¯åŒ…å«å‡½æ•°ï¼ˆå¤–éƒ¨å‡½æ•°ï¼‰ä¸­åç§°æ²¡æœ‰ä»»ä½•å†²çªçš„ä¸€ä¸ªå˜é‡</li></ul><ul id="3bd6a82f-b780-4d65-b4b3-15e61326ff44" class="bulleted-list"><li style="list-style-type:circle">å³ä½¿å¤–éƒ¨å‡½æ•°è¿”å›åï¼Œ<code>that</code> ä»ç„¶æŒ‡å‘<code>obj3</code> ï¼Œæ‰€ä»¥<mark class="highlight-yellow_background"><strong> </strong></mark><code><mark class="highlight-yellow_background"><strong>return that.identity;</strong></mark></code><mark class="highlight-yellow_background"><strong> </strong></mark>è‡ªç„¶è¿”å›My Object</li></ul><figure class="block-color-red_background callout" style="white-space:pre-wrap;display:flex" id="213e5f49-fdbd-4308-8b05-d8ff06ff7fef"><div style="font-size:1.5em"><span class="icon">ğŸ’¡</span></div><div style="width:100%">æ³¨æ„ï¼š<code>this</code> å’Œ<code>arguments</code> éƒ½æ˜¯ä¸èƒ½ç›´æ¥åœ¨å†…éƒ¨å‡½æ•°ä¸­è®¿é—®çš„ï¼Œå¦‚æœæƒ³è¦è®¿é—®åŒ…å«ä½œç”¨åŸŸä¸­çš„argumentså¯¹è±¡ï¼Œåˆ™åŒæ ·éœ€è¦å°†å…¶å¼•ç”¨å…ˆä¿å­˜åˆ°é—­åŒ…èƒ½è®¿é—®åˆ°çš„å¦ä¸€ä¸ªå˜é‡ä¸­</div></figure></li></ul><hr id="7ed0b998-e5e4-4d1b-ae02-6bf119bd3279"/><ul id="aeedc106-a8ee-44a3-ad49-e2f487266851" class="bulleted-list"><li style="list-style-type:disc">å¦ä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œå› ä¸ºç®­å¤´å‡½æ•°çš„<code>this</code> å€¼é»˜è®¤ç»‘å®šå®šä¹‰æ—¶æœ€è¿‘ä¸Šä¸‹æ–‡ä¸­çš„<code>this</code><pre id="6ed5c6f5-367b-41a1-8ded-29db6ec02ef1" class="code code-wrap"><code>let obj2 = {
  identity: &quot;My Object&quot;,
  createIdentityFunction() {
    return () =&gt; {
      return this.identity;
    };
  },
};
console.log(obj2.createIdentityFunction()()); // My Object</code></pre></li></ul><hr id="6d9f62d7-b766-4d60-90b3-c2dea05df1ec"/><ul id="be2f420e-f9cc-475b-8a05-65da30ad3f30" class="bulleted-list"><li style="list-style-type:disc">å…³äº<code>this</code> å€¼æ›´æ·±å±‚æ¬¡çš„ç†è§£å¯ä»¥æŸ¥çœ‹<a href="https://www.notion.so/this-cb80ad0de9a74f5c999237ed645d9ef1"><span class="icon">ğŸ“</span>thisæ“ä½œç¬¦</a> ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰å‡ ç§è°ƒç”¨æ–¹æ³•æ—¶<code>this</code> çš„æœŸå¾…å¯èƒ½æœ‰æ‰€å˜åŒ–çš„ä¾‹å­<pre id="6ee3c016-c417-4d14-82cb-103cac08fa7b" class="code code-wrap"><code>let obj4 = {
  identity: &quot;My Object&quot;,
  getIdentity() {
      return this.identity;
  },
};
console.log(obj4.getIdentity()); // My Object
console.log((obj4.getIdentity)()); // My Object
console.log((obj4.getIdentity = obj4.getIdentity)()); // The Global Object</code></pre><ul id="ed2c70e5-8e30-4f87-b430-157f7450bfe0" class="bulleted-list"><li style="list-style-type:circle"><code>obj4.getIdentity()</code> æ­£å¸¸è°ƒç”¨ï¼Œ<code>this</code> è¿è¡Œæ—¶ç»‘å®š<code>obj4</code> æ‰€ä»¥æ‰“å°<code>obj4.identity</code></li></ul><ul id="f2054a54-06a5-4372-a253-f8b60034ae9a" class="bulleted-list"><li style="list-style-type:circle"><code>(obj4.getIdentity)()</code> è°ƒç”¨æ—¶å°†æ–¹æ³•æ”¾åœ¨æ‹¬å·ä¸­ï¼Œè™½ç„¶åŠ äº†æ‹¬å·ä¹‹åå°±å¥½åƒæ˜¯å¯¹ä¸€ä¸ªå‡½æ•°çš„ç›´æ¥å¼•ç”¨ï¼Œä½†<code>this</code> å€¼ä»ç„¶æ²¡æœ‰å˜ï¼Œå› ä¸ºæŒ‰ç…§è§„èŒƒ<code>(obj4.getIdentity)</code> å’Œ<code>obj4.getIdentity</code> æ˜¯ç›¸ç­‰çš„</li></ul><ul id="016bf16f-552b-41aa-93a1-827ac4ac4f3d" class="bulleted-list"><li style="list-style-type:circle"><code>(obj4.getIdentity = obj4.getIdentity)()</code> è¿™ä¸€æ¬¡æ˜¯æ‰§è¡Œäº†ä¸€æ¬¡èµ‹å€¼ï¼Œå†è°ƒç”¨èµ‹å€¼åçš„ç»“æœï¼Œå› ä¸ºèµ‹å€¼è¡¨è¾¾å¼çš„å€¼æ˜¯å‡½æ•°æœ¬èº«ï¼Œ<code>this</code> å€¼ä¸å†ä¸ä»»ä½•å¯¹è±¡ç»‘å®šï¼Œé»˜è®¤æ˜¯å…¨å±€å¯¹è±¡ï¼Œæ‰€ä»¥æ‰“å°<code>The Global Object</code></li></ul></li></ul><h1 id="5f52960f-5722-4e45-8050-bebf119cc63b" class="">14.3 å†…å­˜æ³„æ¼ï¼ˆMemory Leaksï¼‰</h1><ul id="af9da709-a0e7-442b-8711-19ee2824e730" class="bulleted-list"><li style="list-style-type:disc">åœ¨ç¬¬4ç« çš„å†…å­˜ç®¡ç†èŠ‚ä¸­æœ‰å…³äº<a href="../4%20%E5%8F%98%E9%87%8F%E3%80%81%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E5%86%85%E5%AD%98/%E5%AF%B9%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E6%9C%89%E5%88%A9%E7%9A%84JavaScript%E4%BB%A3%E7%A0%81%E5%86%99%E6%B3%95.html">3. å†…å­˜æ³„æ¼</a> ä¸­ä»‹ç»è¿‡å†…å­˜æ³„æ¼ï¼š<div><ul id="c091c264-1f9b-426b-add5-4aed364caebb" class="bulleted-list"><li style="list-style-type:disc">å†…å­˜æ³„æ¼é€šå¸¸æŒ‡åœ¨<strong>å†…å­˜æœ‰é™</strong>çš„è®¾å¤‡ä¸Šï¼Œå­˜å‚¨ç€ä¸€äº›<strong>ä¸ä½¿ç”¨çš„å˜é‡å€¼</strong>ï¼Œä½†è¿™äº›å˜é‡å€¼å› ä¸ºä»£ç å†™æ³•çš„é—®é¢˜<strong>ä¸€ç›´ä¿ç•™åœ¨å†…å­˜ä¸­</strong>æ— æ³•è¢«åƒåœ¾å›æ”¶ç¨‹åºå›æ”¶ï¼Œä¸€æ—¦è¿™äº›å˜é‡å€¼è¿‡å¤šï¼Œç¨‹åºè¿è¡Œå ç”¨çš„å†…å­˜å˜å°‘ï¼Œå¦‚æœåˆ†é…ç»™ç¨‹åºçš„å†…å­˜æ— æ³•æ»¡è¶³ç¨‹åºè¿è¡Œæ¡ä»¶ï¼Œå°±ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼Œè€Œé‚£äº›æ— ç”¨çš„å˜é‡å€¼å°±æ˜¯å¯¼è‡´å†…å­˜æ³„æ¼çš„åŸå› ä¹‹ä¸€</li></ul></div><div><h3 id="577042fa-1e46-4306-aca4-a9685ae5d308" class="">JavaScripté—­åŒ…</h3><pre id="785be22c-6ed3-4f2d-ac27-5436352854a2" class="code"><code>let outer = function() {
	let name = &quot;function&quot;;
	return function () {
		return name;
	}
}</code></pre><ul id="3748e604-e502-4e90-b462-8e2ca1f947a9" class="bulleted-list"><li style="list-style-type:disc">è°ƒç”¨<code>outer()</code> ä¼šå¯¼è‡´åˆ†é…ç»™nameçš„å†…å­˜è¢«æ³„æ¼</li></ul><ul id="ed4abd3d-e026-43c1-aec1-85f37541ae87" class="bulleted-list"><li style="list-style-type:disc">ä»¥ä¸Šä»£ç ä¹‹ååä¼šåˆ›å»ºä¸€ä¸ªé—­åŒ…ï¼Œåªè¦outerè°ƒç”¨è¿”å›çš„å‡½æ•°å­˜åœ¨ï¼Œåƒåœ¾å›æ”¶ç¨‹åºå°±ä¸èƒ½æ¸…ç†nameï¼Œå› ä¸ºé—­åŒ…ä¸€ç›´å¼•ç”¨name</li></ul><ul id="7d8634eb-cd77-4677-9dea-f0b68d2843c8" class="bulleted-list"><li style="list-style-type:disc">å‡è®¾nameçš„å†…å®¹å¾ˆå¤§ï¼Œé‚£å°±ä¼šé€ æˆé—®é¢˜</li></ul></div></li></ul><ul id="2691e83c-b2d2-4055-9ff6-2ae816693aad" class="bulleted-list"><li style="list-style-type:disc">åœ¨ç¬¬4ç« çš„<a href="../4%20%E5%8F%98%E9%87%8F%E3%80%81%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E5%86%85%E5%AD%98/3%201-2%20%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F.html"><span class="icon">ğŸ </span>3.1-2 åƒåœ¾å›æ”¶çš„å®ç°æ–¹å¼</a> ä¸­è®¨è®ºè¿‡<a href="../4%20%E5%8F%98%E9%87%8F%E3%80%81%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E5%86%85%E5%AD%98/3%201-2%20%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F.html">ä½¿ç”¨å¼•ç”¨è®¡æ•°çš„æµè§ˆå™¨ç‰ˆæœ¬</a> <ul id="a3488a54-b9fe-4853-a676-8b34f134e4da" class="bulleted-list"><li style="list-style-type:circle">ç”±äºIEåœ¨IE9ä¹‹å‰å¯¹JScriptå¯¹è±¡å’ŒCOMã€C++å®ç°çš„ç»„ä»¶å¯¹è±¡æ¨¡å‹ï¼ˆCOMï¼ŒComponent Object Modelï¼‰ã€‘å¯¹è±¡ä½¿ç”¨ä¸åŒçš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆå‰è€…ä½¿ç”¨æ ‡è®°æ¸…ç†ï¼Œåè€…ä½¿ç”¨å¼•ç”¨è®¡æ•°ï¼‰</li></ul><ul id="07d9fea8-e1f2-415f-99a5-dc2a65d08730" class="bulleted-list"><li style="list-style-type:circle">æ‰€ä»¥é—­åŒ…åœ¨è¿™äº›æ—§ç‰ˆæœ¬çš„IEå¯èƒ½ä¼šå¯¼è‡´é—®é¢˜ï¼Œä¾‹å¦‚æŠŠHTMLå…ƒç´ ä¿å­˜åœ¨æŸä¸ªé—­åŒ…çš„ä½œç”¨åŸŸä¸­ï¼Œå°±ç›¸å½“äºå®£å¸ƒè¯¥å…ƒç´ ä¸èƒ½è¢«é”€æ¯<pre id="e877e1d6-aa24-4cce-b039-649d2cebfda3" class="code code-wrap"><code>function assignHandler() {
  let element = document.getElementById(&quot;someElement&quot;);
  element.onclick = () =&gt; console.log(element.id);
}</code></pre><ul id="5551b151-1b32-45b6-996f-969f8764d603" class="bulleted-list"><li style="list-style-type:square">ä¸Šè¿°ä»£ç åˆ›å»ºäº†ä¸€ä¸ªé—­åŒ…ï¼Œå³<code>element</code> å…ƒç´ çš„<strong>äº‹ä»¶å¤„ç†ç¨‹åº</strong>ï¼ˆ<strong>event handler</strong>ï¼‰</li></ul><ul id="f8d20138-2b3a-4185-b13a-ab31d1c3456c" class="bulleted-list"><li style="list-style-type:square">è¿™ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºåˆåˆ›å»ºäº†ä¸€ä¸ªå¾ªç¯å¼•ç”¨ï¼ŒåŒ¿åç®­å¤´å‡½æ•°åˆå¼•ç”¨<code>element</code> å¯¼è‡´åˆ›å»ºäº†ä¸€ä¸ªå¾ªç¯å¼•ç”¨ï¼ˆcircular referenceï¼‰</li></ul><ul id="c5b654e8-34f3-4f59-a01f-8892edac7f48" class="bulleted-list"><li style="list-style-type:square">å› ä¸ºåŒ¿åç®­å¤´å‡½æ•°ï¼ˆçš„æ‰§è¡Œä¸Šä¸‹æ–‡ä½œç”¨åŸŸé“¾ï¼‰å¼•ç”¨ç€<code>assignHandler()</code> çš„æ´»åŠ¨å¯¹è±¡ï¼Œé˜»æ­¢å¯¹<code>element</code> çš„å¼•ç”¨è®¡æ•°å½’é›¶</li></ul><ul id="ca78edff-641c-4262-9e02-ccda71c42d79" class="bulleted-list"><li style="list-style-type:square">åªè¦è¿™ä¸ªåŒ¿åç®­å¤´å‡½æ•°å­˜åœ¨ï¼Œ<code>element</code> çš„å¼•ç”¨è®¡æ•°è‡³å°‘ä¸º1ï¼Œå³å†…éƒ¨ä¸ä¼š<strong>è¢«å›æ”¶</strong>ï¼ˆ<strong>reclaimed</strong>ï¼‰</li></ul></li></ul></li></ul><ul id="ef93b2e4-0d8d-4fa7-a656-1710341724b2" class="bulleted-list"><li style="list-style-type:disc">è§£å†³è¿™ç§é—®é¢˜çš„æ–¹å¼å°±æ˜¯<a href="../4%20%E5%8F%98%E9%87%8F%E3%80%81%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E5%86%85%E5%AD%98/3%201-2%20%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F.html">åˆ‡æ–­åŸç”ŸJavaScriptå¯¹è±¡å’ŒDOMå…ƒç´ ä¹‹é—´çš„è¿æ¥</a> ä»¥åŠæ¸…ç©ºæ´»åŠ¨å¯¹è±¡ä¸­æ— ç”¨çš„å˜é‡<pre id="cd7476e9-753b-4768-b3a2-42c84a1234bd" class="code code-wrap"><code>function assignHanlder() {
  let element = document.getElementById(&quot;someElement&quot;);
  let id = element.id;
  element.onclick = () =&gt; console.log(id);
  element = null;
}</code></pre><ul id="fe257e6a-243b-48a8-817f-c01034129b5c" class="bulleted-list"><li style="list-style-type:circle">é—­åŒ…ä¿®æ”¹ä¸ºå¼•ç”¨ä¸€ä¸ªä¿å­˜ç€<code>element.id</code> çš„å˜é‡<code>id</code> ï¼Œä»è€Œæ¶ˆé™¤å¾ªç¯å¼•ç”¨</li></ul><ul id="9135a810-4d77-4f83-affe-e340d33e13b2" class="bulleted-list"><li style="list-style-type:circle">å› ä¸ºé—­åŒ…è¿˜æ˜¯ä¼šå¼•ç”¨åŒ…å«å‡½æ•°çš„æ´»åŠ¨å¯¹è±¡ï¼Œè¿™ä¸ªæ´»åŠ¨å¯¹è±¡ä¸­åŒ…å«å·²ç»ä¸å†é—­åŒ…ä¸­å¼•ç”¨çš„<code>element</code> ï¼Œå› æ­¤å¿…é¡»æŠŠ<code>element</code> è®¾ç½®ä¸º<code>null</code> </li></ul><p id="6aa82ab8-4fbe-4f3a-8e49-cf9db43efc51" class="">
</p></li></ul></div></div><p id="1294d54a-b807-49ee-9a65-6fdc7a9214b9" class="">
</p></div></article></body></html>