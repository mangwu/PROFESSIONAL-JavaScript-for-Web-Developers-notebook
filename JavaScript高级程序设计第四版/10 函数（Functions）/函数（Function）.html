<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>å‡½æ•°ï¼ˆFunctionï¼‰</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-opaquegray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="fbf1244f-6ffb-419a-b669-034d6a398e21" class="page sans"><header><img class="page-cover-image" src="https://www.notion.so/images/page-cover/met_silk_kashan_carpet.jpg" style="object-position:center 50%"/><div class="page-header-icon page-header-icon-with-cover"><span class="icon">ğŸ”§</span></div><h1 class="page-title">å‡½æ•°ï¼ˆFunctionï¼‰</h1></header><div class="page-body"><p id="56566812-c046-418c-8898-b060daedb66e" class="">æ¯ä¸ªJavaScriptå‡½æ•°å®é™…ä¸Šæ˜¯ä¸€ä¸ª<code>Function</code> å¯¹è±¡ï¼Œé€šè¿‡ä»£ç <code>(function(){}).constructor === Function</code> è¿”å›<code>true</code> å¯ä»¥éªŒè¯è¿™ä¸€äº‹å®</p><div id="c3466021-2b2b-4daf-9849-fcdddc52ec32" class="column-list"><div id="3ad8eab9-af6c-409a-8479-cee7b7942c83" style="width:18.75%" class="column"><nav id="2e91b7f4-8f2b-4f29-b138-5a595e3c41a7" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#3a761969-e7e9-41fe-95e0-72df721e1261">1. æ„é€ å‡½æ•°ï¼ˆConstructorï¼‰</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#9373f8a1-2276-4e5a-a719-405787ffeb26">1.2 å®šä¹‰</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#588f9889-1405-4541-b806-84f83150f5c6">1.3 è¯­æ³•</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#893dc527-2ab1-4f05-ad29-0a31300fd1fd">1.4 ç†è§£Functionæ„é€ å‡½æ•°</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#c54aadda-d449-4629-8663-8cb66b6cf0ce">1.4.1 æ€§èƒ½é—®é¢˜</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#86bf4f25-b2fb-4e08-98be-0e8d053c44f6">1.4.2 åŠ¨æ€ç¼–è¯‘</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#86fe2428-72bd-447b-a5fa-45992d52a856">1.4.3 å‡½æ•°æ ‡è¯†ç¬¦</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#e1385dd0-d3c9-45b1-aaac-8f2c828f5819">1.4.4 æ„é€ å‡½æ•°ä¸å‡½æ•°å£°æ˜çš„ä¸åŒ</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#f6b18641-686c-421a-a824-1c347e726dc9">1.5 ä¾‹å­</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#10c61aae-5ae8-4fb5-ad13-da4f8ba8c4a5">1.5.1 ä¾‹å­çš„è¿è¡Œé—®é¢˜</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#52058919-692a-4662-aa8c-700c8c2c557e">1.5.2 é€šè¿‡åœ¨functionBodyä¸­è¿›è¡Œå‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼åˆ›å»ºå‡½æ•°å¯¹è±¡</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#c714bae9-be50-498e-8c16-0789953091e3">2. å®ä¾‹å±æ€§(<strong>Instance properties</strong>)</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#d072aa4c-6e5c-4bf9-8574-879f9db1cccb">3. å®ä¾‹æ–¹æ³•ï¼ˆinstance methodsï¼‰</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#815b3b84-20db-43e5-b697-562be19ef408">3.1 <code>Function.prototype.apply()</code></a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#7dab1d2f-9064-4e0c-b79d-19a043256a1f">3.1.1 è¯­æ³•</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#fb4d87a8-4692-4e5c-bb8b-f5d667c9859f">3.1.2 ç†è§£<code>apply()</code></a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#f90d8611-bb8b-4e88-b642-b996cf40cd2e">3.1.3 ä¾‹å­</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#c14e3134-cc79-430e-907d-b97f813f143d">3.2 <code><strong>Function.prototype.call()</strong></code></a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#76eaa591-9ef7-4747-af1e-201a28a4ab27">3.2.1 è¯­æ³•</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#06e1b906-52ce-45c1-a4a7-00daf32125c5">3.2.2 ç†è§£call()</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#3e2ffbec-a808-466f-a3f8-fbe27dbf86fa">3.2.3 ä¾‹å­</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#7e37cecc-5cde-4f38-aa7a-b9f30973484a">3.3 <code>Function.prototype.bind()</code></a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#9c82d226-91fe-499b-9114-7efc02e58cbf">3.3.1 è¯­æ³•</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#3e9cd70c-946e-4ebd-b5a5-ae72dd92ffc6">3.3.2 ç†è§£<code>bind()</code></a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#e77ec659-b99f-4701-ad75-876e0da499dd">3.3.3 ä¾‹å­</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#bdf99ad0-e725-42d4-8c67-c708d142110f">3.4 <code>Function.prototype.toString()</code></a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#27aab9ec-c78b-4fc0-8f6b-ce5883861ca9">3.4.1 è¯­æ³•</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#b8b35954-e268-4207-a201-6dc96aac240e">3.4.2 ç†è§£<code>toString()</code></a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#73d5f29b-c0ac-4d46-9a5b-3d9762366283">3.4.3 ä¾‹å­</a></div></nav><p id="8f061efc-791b-483d-bcc0-20669368d0ea" class="">
</p></div><div id="f3f7dfdf-22d8-4cc9-b88e-3bd27672c374" style="width:81.25%" class="column"><h1 id="3a761969-e7e9-41fe-95e0-72df721e1261" class="">1. æ„é€ å‡½æ•°ï¼ˆConstructorï¼‰</h1><p id="ef344ddd-2075-45c3-847f-0eb355d34d04" class=""><code>Function()</code>constructor</p><h2 id="9373f8a1-2276-4e5a-a719-405787ffeb26" class="">1.2 å®šä¹‰</h2><ul id="c389a860-828c-40c1-b4b0-7a9850812373" class="bulleted-list"><li style="list-style-type:disc">æ„é€ å‡½æ•°<code>Function()</code> ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„<code>Function</code> å¯¹è±¡</li></ul><ul id="479f9227-8b83-4c1e-8780-139cf86e96e6" class="bulleted-list"><li style="list-style-type:disc">ç›´æ¥è°ƒç”¨<code>Function()</code> æ„é€ å‡½æ•°èƒ½<strong>åŠ¨æ€ï¼ˆdynamicallyï¼‰</strong>æ„é€ å‡½æ•°ï¼ˆfunctionsï¼‰ï¼Œä½†æ˜¯ä¼šæœ‰å®‰å…¨é—®é¢˜å’Œ<code>eval()</code>ç±»ä¼¼çš„<a href="../10%20%E5%87%BD%E6%95%B0%EF%BC%88Functions%EF%BC%89.html">æ€§èƒ½é—®é¢˜</a>ï¼ˆæ²¡é‚£ä¹ˆä¸¥é‡ï¼‰</li></ul><ul id="813a13e9-6e46-4390-aa9d-2b33c296304a" class="bulleted-list"><li style="list-style-type:disc">å’Œ<code>eval()</code> ï¼ˆå¯ä»¥è®¿é—®å±€éƒ¨ä½œç”¨åŸŸï¼‰ä¸åŒï¼Œ<code>Function</code> æ„é€ å‡½æ•°åªåˆ›å»º<strong>åœ¨å…¨å±€ä½œç”¨åŸŸä¸­æ‰§è¡Œçš„å‡½æ•°</strong></li></ul><h2 id="588f9889-1405-4541-b806-84f83150f5c6" class="">1.3 è¯­æ³•</h2><pre id="39632116-cbc0-42e1-ac62-b9ffc3050a10" class="code code-wrap"><code>new Function(functionBody);
new Function(arg0, arg1,..., argN, functionBody);

Function(functionBody);
Function(arg0, arg1, ..., argN, functionBody);</code></pre><figure class="block-color-red_background callout" style="white-space:pre-wrap;display:flex" id="a7138420-5d16-4209-9c26-4598995c0998"><div style="font-size:1.5em"><span class="icon">ğŸ’¡</span></div><div style="width:100%">æ³¨æ„:<code>Function()</code> èƒ½ç›´æ¥è¢«è°ƒç”¨è€Œä¸ä½¿ç”¨<code>new</code> æ“ä½œç¬¦ï¼Œä¸¤ç§æ–¹å¼éƒ½èƒ½åˆ›å»º<code>Function</code>å®ä¾‹</div></figure><p id="cd9fb506-8529-4bf1-81d2-e6502e2f1da3" class=""><strong>å‚æ•°</strong></p><ul id="3e39215a-72f3-4ad0-a6d4-85a4d1b207e4" class="bulleted-list"><li style="list-style-type:disc"><code>argN</code> å¯é€‰å‚æ•°<p id="de3bb074-4286-4c46-ae95-01da911b1426" class="">ä½œä¸ºæ–°åˆ›å»ºå‡½æ•°çš„æ­£å¼å‚æ•°çš„åç§°ã€‚æ¯ä¸ª<code>argi</code> éƒ½æ˜¯å­—ç¬¦ä¸²å½¢å¼ï¼Œå¯¹åº”JavaScriptæœ‰æ•ˆçš„å‚æ•°ã€æ™®é€šæ ‡è¯†ç¬¦ï¼ˆplain identifierï¼‰ï¼Œ<code>rest</code>å‚æ•°ï¼Œè§£æ„å‚æ•°ï¼ˆdestructured parameterï¼‰ï¼Œå¸¦æœ‰é»˜è®¤å€¼ï¼ˆdefaultï¼‰çš„å¯é€‰ï¼ˆoptionallyï¼‰å‚æ•°ã€‘ï¼Œæˆ–ä½¿ç”¨é€—å·åˆ†éš”æ„æˆä¸€ä¸ªå‚æ•°åˆ—è¡¨ã€‚å‡ ç§æœ‰æ•ˆå‚æ•°å¦‚ä¸‹</p><pre id="4a69dd7c-2e35-433b-87e5-29ba2af3108f" class="code code-wrap"><code>&quot;num1&quot;
&quot;...rest&quot;
&quot;{a, b}&quot;
&quot;num2 = 3&quot;
&quot;num1, num2&quot;</code></pre><p id="0650ae9c-e452-402c-8dae-f2a29c879b08" class="">å› ä¸ºå‚æ•°çš„è§£æï¼ˆparsedï¼‰æ–¹å¼å’Œå‡½æ•°è¡¨è¾¾å¼ç›¸åŒï¼Œå…è®¸ç©ºæ ¼ï¼ˆwhitespaceï¼‰å’Œæ³¨é‡Šï¼ˆcommentsï¼‰çš„å­˜åœ¨ã€‚ä¸€äº›ä¾‹å­</p><pre id="fe958b02-7df3-4200-8cec-cf03a985155d" class="code code-wrap"><code>&quot;[a,  b] /* numbers */&quot;
&quot;x, theValue = 42 /* defaultValue */&quot;</code></pre><p id="49d750d3-fdaf-433f-b492-8d033bae8469" class="">å°½ç®¡å¯è¯»æ€§å¾ˆå·®ï¼Œä½†è¿™äº›éƒ½æ˜¯æ­£ç¡®çš„å‚æ•°</p></li></ul><h2 id="893dc527-2ab1-4f05-ad29-0a31300fd1fd" class="">1.4 ç†è§£Functionæ„é€ å‡½æ•°</h2><h3 id="c54aadda-d449-4629-8663-8cb66b6cf0ce" class="">1.4.1 æ€§èƒ½é—®é¢˜</h3><ul id="f7a9bf0a-bb7d-47d8-874e-9ef0262703ff" class="bulleted-list"><li style="list-style-type:disc">ä½¿ç”¨<code>Function()</code> åˆ›å»ºå‡½æ•°å¯¹è±¡æ¯”ä½¿ç”¨å‡½æ•°è¡¨è¾¾å¼å’Œå‡½æ•°å£°æ˜è¯­æ³•åˆ›å»ºå‡½æ•°å¯¹è±¡çš„<strong>æ•ˆç‡æ›´ä½ï¼Œ</strong>åŒæ—¶è°ƒç”¨çŸ³å¤´<code>Function()</code> åˆ›å»ºçš„å‡½æ•°å¯¹è±¡çš„æ•ˆç‡ä¹Ÿæ›´ä½ï¼Œå› ä¸º<ul id="c48fd370-162f-4572-b476-4321942acad6" class="bulleted-list"><li style="list-style-type:circle">åœ¨åˆ›å»ºæ—¶ï¼Œä»£ç è¢«<strong>è§£é‡Š</strong>ï¼ˆ<strong>interpretation</strong>ï¼‰ä¸¤æ¬¡ï¼ˆä¸€æ¬¡æ˜¯å¸¸è§„çš„åˆ›å»ºè¯­æ³•ï¼Œä¸€æ¬¡æ˜¯<code>argi</code> å‚æ•°çš„è§£æï¼ˆparsedï¼‰ï¼‰</li></ul><ul id="83778917-e54d-495b-a945-d4f08d257142" class="bulleted-list"><li style="list-style-type:circle">è€Œåœ¨è°ƒç”¨æ—¶ï¼Œä¼šè§£æ<code>functionBody</code> å‚æ•°</li></ul></li></ul><h3 id="86bf4f25-b2fb-4e08-98be-0e8d053c44f6" class="">1.4.2 åŠ¨æ€ç¼–è¯‘</h3><ul id="a2229c60-2198-475b-a9a4-6605d2872ab9" class="bulleted-list"><li style="list-style-type:disc">é™¤äº†æœ€åä¸€ä¸ªå‚æ•°å¤–ï¼Œå…¶å®ƒå­—ç¬¦ä¸²å‚æ•°ï¼ˆ<code>argi</code>ï¼‰éƒ½ä½œä¸ºæ–°å‡½æ•°çš„å‚æ•°æ ‡è¯†ï¼ˆidentifiersï¼‰è¢«æŒ‰ç…§é¡ºåºä¼ é€’ã€‚æ–°å‡½æ•°ä¼šè¢«<strong>åŠ¨æ€ç¼–è¯‘</strong>ï¼ˆ<strong>dynamically compiled</strong>ï¼‰ä¸ºå‡½æ•°è¡¨è¾¾å¼ï¼Œå¹¶ä»¥ä¸€ä¸‹æ–¹å¼ç»„è£…ï¼ˆassembledï¼‰æˆå‡½æ•°è¡¨è¾¾å¼çš„æºä»£ç <pre id="4a4b8305-4fff-43a7-a1a0-00a485bc8d6d" class="code code-wrap"><code>`function anonymous(${args.join(&quot;,&quot;)}
) {
	${functionBody}
}</code></pre><ul id="fa079b9e-ce82-4c79-934c-240167b67407" class="bulleted-list"><li style="list-style-type:circle">è¿™ç§æ¨¡å¼å¯ä»¥é€šè¿‡è°ƒç”¨å‡½æ•°å¯¹è±¡çš„<code>toString()</code> æ–¹æ³•è¢«è§‚å¯Ÿåˆ°ï¼š<pre id="83ff6bf4-09b1-48b2-a0ca-1fdd57a7e7a6" class="code code-wrap"><code>const sum = new Function(&quot;num1,num2&quot;, &quot;return num1 + num2&quot;);

console.log(sum);
console.log(sum(1, 2));

console.log(sum.toString());
// æ‰“å°
</code></pre></li></ul><ul id="043ff15c-c8df-41e6-b833-b568884aa58c" class="bulleted-list"><li style="list-style-type:circle"><code>anoymous</code> æ˜¯åŒ¿åçš„æ„æ€</li></ul></li></ul><ul id="14f57183-bc2a-4c72-bd08-62bb5e316b86" class="bulleted-list"><li style="list-style-type:disc">æ³¨æ„<strong>ç»„è£…</strong>ï¼ˆ<strong>assembled</strong>ï¼‰å‡½æ•°è¡¨è¾¾å¼æºä»£ç çš„ä¸¤ä¸ªéƒ¨åˆ†â€”â€”<code>args.join(&quot;,&quot;)</code> å’Œ<code>${functionBody}</code> ä¼šè¢«åˆ†åˆ«è§£æï¼ˆparsedï¼‰ï¼Œç¡®ä¿å®ƒä»¬åœ¨è¯­æ³•ä¸Šæ˜¯æœ‰æ•ˆçš„ï¼Œè¿™æ ·å¯ä»¥é˜²æ­¢<strong>ç±»ä¼¼æ³¨å…¥</strong>ï¼ˆ<strong>injection-like</strong>ï¼‰çš„å°è¯•</li></ul><h3 id="86fe2428-72bd-447b-a5fa-45992d52a856" class="">1.4.3 å‡½æ•°æ ‡è¯†ç¬¦</h3><ul id="6e591058-353d-4493-9d44-ff932ef867ad" class="bulleted-list"><li style="list-style-type:disc">ä¸æ™®é€šçš„å‡½æ•°è¡¨è¾¾å¼ä¸åŒçš„æ˜¯ï¼Œ<code>anonymous</code> ä¸ä¼šåŠ å…¥åˆ°<code>functionBody</code> çš„åŸŸï¼ˆ<code>scope</code>ï¼‰ä¸­ï¼Œå› ä¸º<code>functionBody</code> åªèƒ½è®¿é—®å…¨å±€åŸŸï¼ˆ<code>global scope</code>ï¼‰ï¼›è¿™å¥è¯æ˜¯<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/Function">MDN</a>ä¸­çš„åŸæ–‡ï¼Œå¯èƒ½å¾ˆéš¾ç†è§£ï¼Œä¸‹é¢æ˜¯ä¸€äº›è§£é‡Š<ul id="b65301b7-6ca9-4fde-8f45-d904e3dbbf4f" class="bulleted-list"><li style="list-style-type:circle">å®é™…ä¸Šï¼Œè¿™ä¸ª<code>anonymous</code> è¿˜æœ‰ä¸€ä¸ªä½œç”¨ï¼Œå°±æ˜¯å¯ä»¥åœ¨å‡½æ•°å†…éƒ¨ä½œä¸ºå‡½æ•°å¯¹è±¡æœ¬èº«è¢«ä½¿ç”¨ï¼Œè€ŒåŒ¿åçš„å‡½æ•°æ²¡æœ‰å£°æ˜åç§°ï¼Œå› æ­¤åç§°æ˜¯è¢«èµ‹å€¼å˜é‡çš„æ ‡è¯†ç¬¦åç§°ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä½¿ç”¨åˆæ¬¡è¢«èµ‹å€¼çš„å˜é‡åç§°æ ‡è¯†ç¬¦ï¼ˆå‰ææ˜¯ä¸æ”¹å˜å˜é‡ï¼‰<pre id="bc9aa631-0ef8-40bf-8b36-492b3ff34e1f" class="code code-wrap"><code>let sum3 = function anonymous(num1, num2) {
  console.log(sum3);
  return num1 + num2;
};
sum3(1, 2); // [Function: anonymous]

let sum4 = function (num1, num2) {
  console.log(sum4);
  return num1 + num2;
};
sum4(1, 2);  // [Function: sum4]
let sum5 = sum4;
sum4 = &quot;sum4&quot;;
sum5(1, 2); // sum4</code></pre><ul id="e7552edf-e2db-412d-9749-9163792455e9" class="bulleted-list"><li style="list-style-type:square">å¯ä»¥å‘ç°ï¼Œ<code>sum4</code> å˜é‡è¢«ä¿®æ”¹åï¼ŒåŒ¿åå‡½æ•°çš„æ‰“å°å°±å‘é€äº†å˜åŒ–ï¼Œè¿™è¡¨æ˜åœ¨å‡½æ•°è¡¨è¾¾å¼ä¸­å°½é‡å£°æ˜å‡½æ•°åç§°çš„å¥½å¤„ï¼Œå¯ä»¥ç›´æ¥åœ¨å‡½æ•°ä½“å†…éƒ¨è·å–å‡½æ•°å¯¹è±¡æœ¬èº«</li></ul></li></ul><ul id="3d4544ec-a56c-475f-bc60-5921637ff307" class="bulleted-list"><li style="list-style-type:circle">ä½†æ˜¯ä½¿ç”¨<code>Function</code> æ„é€ å‡½æ•°åˆ›å»ºçš„å‡½æ•°å¯¹è±¡è™½ç„¶æŒ‰ç…§<code>sum3</code> çš„å½¢å¼è¿›è¡Œäº†<strong><a href="%E5%87%BD%E6%95%B0%EF%BC%88Function%EF%BC%89.html">åŠ¨æ€ç¼–è¯‘</a></strong><strong> </strong>ä½†æ˜¯<code>anonymous</code> å¹¶ä¸èƒ½åœ¨å‡½æ•°ä½“å†…è¢«ä½¿ç”¨ï¼ˆè¿™å°±æ˜¯<a href="%E5%87%BD%E6%95%B0%EF%BC%88Function%EF%BC%89.html">ä¸Šé¢è¿™æ®µè¯</a>çš„æ„æ€ï¼‰ï¼Œå¦‚ä¸‹ï¼Œç›´æ¥ä½¿ç”¨<code>anonymous</code> ä¼šæŠ¥é”™ï¼Œå°½ç®¡å‡½æ•°åç§°æ˜¯<code>anonymous</code> <pre id="7e4e9a67-ba69-48e0-aa11-890b7964d3e8" class="code code-wrap"><code>let sum = new Function(
  &quot;num1,num2&quot;,
  `try {
    console.log(anonymous)
  } catch(error) {
    console.log(error.toString())
  }
  return num1 + num2`
);

console.log(sum); // [Function: anonymous]
console.log(sum(1, 2)); // ReferenceError: anoymous is not defined</code></pre><figure id="22f6c9ec-9ff4-413f-adca-da372e3e71cc" class="image"><a href="%E5%87%BD%E6%95%B0%EF%BC%88Function%EF%BC%89/Untitled.png"><img style="width:432px" src="%E5%87%BD%E6%95%B0%EF%BC%88Function%EF%BC%89/Untitled.png"/></a></figure></li></ul><ul id="228d5d47-f26f-4102-88bd-fc94d0a4dff8" class="bulleted-list"><li style="list-style-type:circle">è¿™ç§é—®é¢˜çš„æˆå› åœ¨äº<code>functionBody</code> åªèƒ½è®¿é—®å…¨å±€ä½œç”¨åŸŸï¼Œè€Œå£°æ˜åå…¨å±€ä½œç”¨åŸŸä¸­æ˜¯ä¸å­˜åœ¨<code>anoymous</code> çš„ï¼Œæ˜¾ç„¶ä¹Ÿä¸èƒ½é€šè¿‡è®¿é—®<code>sum</code> è®¿é—®å‡½æ•°å¯¹è±¡æœ¬èº«ï¼Œå› ä¸º<code>sum</code> ä½œä¸ºå˜é‡æ˜¯å¯ä»¥è¢«æ”¹å˜çš„</li></ul></li></ul><p id="d8ffc40e-b433-4f3f-83da-ee00dedb101e" class=""><strong>è§£å†³æ–¹æ¡ˆ</strong></p><ul id="b9c4fe36-4a6a-40d3-8d55-fae5f6e287f2" class="bulleted-list"><li style="list-style-type:disc">å¦‚æœ<code>functionBody</code> æ²¡æœ‰å¤„äºä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ˆæ–¹æ³•ä½“æœ¬èº«ä¸æ˜¯ä¸¥æ ¼æ¨¡å¼çš„ï¼Œå› ä¸ºå®ƒä¸ä¼šä»ä¸Šä¸‹æ–‡ç»§æ‰¿ä¸¥æ ¼æ¨¡å¼ï¼Œå¦‚æœå¤–éƒ¨æ˜¯ä¸¥æ ¼æ¨¡å¼ï¼Œå°±éœ€è¦åœ¨æ–¹æ³•ä½“ä¸­å£°æ˜<code>&quot;use strict&quot;</code>æŒ‡ä»¤ï¼‰,å¯ä»¥ä½¿ç”¨<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments/callee"><code>arguments.callee</code></a> å¼•ç”¨æ–¹æ³•æœ¬èº«<pre id="c5621381-cf36-4f75-8776-54acba5e1b4c" class="code code-wrap"><code>const sum6 = new Function(
  &quot;num1,num2&quot;,
  `
  console.log(arguments.callee)
  return num1 + num2
  `
);
sum6(1, 2); // [Function: anonymous]</code></pre></li></ul><ul id="9af9cb3b-adac-4c13-9d17-e2385976cd0e" class="bulleted-list"><li style="list-style-type:disc">å¦å¤–ï¼Œä½¿ç”¨<strong>é—­åŒ…</strong>ä¹Ÿèƒ½è§£å†³è¿™ä¸ªé—®é¢˜<pre id="e515fcdc-e89b-46f2-9458-4a163e777f42" class="code code-wrap"><code>const sum7 = new Function(
  &quot;num1,num2&quot;,
  `
return (function anonymous(num1,num2) {
  console.log(anonymous);
  return num1 + num2
})(num1, num2);
`
);
sum7(3); // æ‰“å°[Function: anonymous]</code></pre><ul id="731722f8-d8ed-4864-9d83-bf3a2d2baff7" class="bulleted-list"><li style="list-style-type:circle">ä½†æ˜¯<code>anonymous</code> å¹¶éåŠ¨æ€ç¼–è¯‘äº§ç”Ÿçš„åŒ¿åå‡½æ•°ä½¿ç”¨çš„åç§°ï¼Œè€Œæ˜¯ä¸´æ—¶å£°æ˜çš„å‡½æ•°</li></ul></li></ul><p id="ee2c13d2-cd93-459a-a889-29586387e625" class=""><strong>ä½¿ç”¨åœºæ™¯</strong></p><ul id="d7589920-25fb-4a7a-a4a5-df7c644ff37c" class="bulleted-list"><li style="list-style-type:disc">å› ä¸º<strong>é€’å½’ï¼ˆrecursiveï¼‰</strong>éœ€è¦è°ƒç”¨å‡½æ•°è‡ªèº«ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨é€’å½’æ—¶ï¼Œå¯ä»¥ä½¿ç”¨é—­åŒ…è§£å†³<code>Function</code> æ„é€ å‡½æ•°ä¸èƒ½ä½¿ç”¨å‡½æ•°å¯¹è±¡æœ¬èº«çš„æƒ…å†µï¼Œå¦‚æ±‚æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¬¬nä½<pre id="abad91c7-15fd-49b6-9751-d7ce012e7a8d" class="code code-wrap"><code>const fibonacci = new Function(
  &quot;n&quot;,
  `
  return (function fibonacci(n) {
    if(n == 1 || n == 2) {
      return 1;
    };
    return fibonacci(n-1) + fibonacci(n-2);
  })(n);
`
);

console.log(fibonacci(30)); // 832040</code></pre></li></ul><h3 id="e1385dd0-d3c9-45b1-aaac-8f2c828f5819" class="">1.4.4 æ„é€ å‡½æ•°ä¸å‡½æ•°å£°æ˜çš„ä¸åŒ</h3><ul id="aa660980-6bbe-4546-8e59-737098ec7043" class="bulleted-list"><li style="list-style-type:disc"><code>Function</code> æ„é€ å‡½æ•°<strong>ä¸èƒ½</strong>é€šè¿‡<strong>åˆ›å»ºä¸Šä¸‹æ–‡</strong>ï¼ˆ<strong>creation contexts</strong>ï¼‰<strong>åˆ›å»ºé—­åŒ…</strong>ï¼ˆ<strong>create closures</strong>ï¼‰ï¼Œå› ä¸ºï¼ˆé€šè¿‡<code>Function</code> åˆ›å»ºçš„ï¼‰å‡½æ•°å¯¹è±¡åªèƒ½åœ¨<strong>å…¨å±€ä½œç”¨åŸŸ</strong>ï¼ˆ<strong>global scope</strong>ï¼‰ä¸‹åˆ›å»º</li></ul><ul id="ec0e3fdb-adea-485d-a801-5eb1c7f9bc46" class="bulleted-list"><li style="list-style-type:disc">å½“è°ƒç”¨<code>Function</code> æ„é€ å‡½æ•°åˆ›å»ºçš„å‡½æ•°å¯¹è±¡æ—¶ï¼Œå®ƒä»¬åªèƒ½è®¿é—®è‡ªå·±çš„<strong>å±€éƒ¨ä½œç”¨åŸŸ</strong>ï¼ˆ<strong>local scope</strong>ï¼‰å’Œå…¨å±€ä½œç”¨åŸŸçš„å˜é‡ï¼Œè€Œä¸èƒ½è®¿é—®<code>Function</code> æ„é€ å‡½æ•°æ‰€åœ¨ä½œç”¨åŸŸä¸­çš„å˜é‡(å³ä¸èƒ½åˆ›å»ºé—­åŒ…)ï¼Œå¦‚ä¸‹<pre id="41d13411-bda0-4f6f-8389-f6259a597348" class="code code-wrap"><code>globalThis.x = &quot;global x&quot;;

function createFunc(type = &quot;standard&quot;) {
  const x = &quot;createFunc scope x&quot;;
  if (type == &quot;constructor&quot;) {
    // é€šè¿‡æ„é€ å‡½æ•°åˆ›å»º
    return new Function(&quot;return x;&quot;); // å¼•ç”¨å…¨å±€ä½œç”¨åŸŸä¸­çš„x
  } else {
    return function () {
      return x;
    }; // å¼•ç”¨å½“å‰ä½œç”¨åŸŸä¸­çš„xï¼Œæ˜¯ä¸€ä¸ªé—­åŒ…
  }
}

console.log(createFunc()()); // createFunc scope x
console.log(createFunc(&quot;constructor&quot;)()); // global x</code></pre></li></ul><h2 id="f6b18641-686c-421a-a824-1c347e726dc9" class="">1.5 ä¾‹å­</h2><h3 id="10c61aae-5ae8-4fb5-ad13-da4f8ba8c4a5" class="">1.5.1 ä¾‹å­çš„è¿è¡Œé—®é¢˜</h3><p id="1dd1fcd1-4005-4677-9095-86356aa02f18" class=""><strong>è¿è¡Œç¯å¢ƒ</strong></p><ul id="d0b5846f-5e54-45f0-bdcd-b6e77904c9a8" class="bulleted-list"><li style="list-style-type:disc">å¦‚æœæƒ³è¦åœ¨æµè§ˆå™¨çš„æ§åˆ¶å°è¿è¡Œæœ‰å…³<code>Function()</code> æˆ–<code>eval()</code> è¿™ç§åŒ…å«åŠ¨æ€ç¼–è¯‘å†…å®¹çš„ä»£ç ï¼Œå¤§æ¦‚ç‡ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯<figure id="bcfff9a5-f142-4c87-8c8c-969d67d0860a" class="image"><a href="%E5%87%BD%E6%95%B0%EF%BC%88Function%EF%BC%89/Untitled%201.png"><img style="width:979px" src="%E5%87%BD%E6%95%B0%EF%BC%88Function%EF%BC%89/Untitled%201.png"/></a></figure><ul id="138be581-fe1d-4843-acae-f95dd841a441" class="bulleted-list"><li style="list-style-type:circle">å¤§æ¦‚æ„æ€å°±æ˜¯æ‹’ç»å°†å­—ç¬¦ä¸²è¯„ä¼°ï¼ˆè§£æï¼‰ä¸ºJavaScriptä»£ç ï¼Œå› æ­¤åœ¨ä»¥ä¸‹å†…å®¹å®‰å…¨ç­–ç•¥ï¼ˆContent Security Policyï¼‰æŒ‡ä»¤ä¸­ï¼Œâ€unsafe-evalâ€ä¸æ˜¯ä¸€ä¸ªå…è®¸è¿è¡Œçš„è„šæœ¬æº</li></ul></li></ul><ul id="068c101f-b62e-4210-9744-2b11b8272e5c" class="bulleted-list"><li style="list-style-type:disc">è¿™ä¸ªå’Œå½“å‰é¡µé¢çš„å†…å®¹å®‰å…¨ç­–ç•¥æœ‰å…³</li></ul><p id="330bfd3e-a613-46ab-82bf-f57345d23818" class=""><strong>é—®é¢˜åˆ†æ</strong></p><ol type="1" id="105185be-4539-4eba-8ae7-f3f1b4a4da7e" class="numbered-list" start="1"><li><strong>å†…å®¹å®‰å…¨ç­–ç•¥ï¼ŒCSPï¼ŒContent Security Policyï¼Œ</strong>æ˜¯ä¸€ä¸ªé¢å¤–çš„å®‰å…¨å±‚ï¼Œç”¨äºæ£€æµ‹å¹¶å‰Šå¼±æŸäº›ç‰¹å®šç±»å‹çš„æ”»å‡»<p id="7f941edd-7691-4cbd-85f6-e9e0c6c711e9" class="">CSPçš„ä¸»è¦ç›®æ ‡æ˜¯å‡å°‘<strong>è·¨ç«™è„šæœ¬ï¼ˆCross-Site Scripting XSSï¼‰</strong>çš„æ”»å‡»ï¼ŒXSSæ”»å‡»åˆ©ç”¨äº†æµè§ˆå™¨å¯¹äºä»æœåŠ¡å™¨æ‰€è·å–çš„å†…å®¹çš„ä¿¡ä»»ï¼Œå³ä½¿æœ‰äº›æ—¶å€™è¿™äº›è„šæœ¬å¹¶éæ¥è‡ªäºå®ƒæœ¬è¯¥æ¥çš„åœ°æ–¹ï¼Œç”±äºæµè§ˆå™¨ä¿¡ä»»å…¶å†…å®¹æ¥æºï¼Œä½¿å¾—æ¶æ„è„šæœ¬åœ¨å—å®³è€…çš„æµè§ˆå™¨ä¸­å¾—ä»¥è¿è¡Œ</p></li></ol><ol type="1" id="44459458-ba14-4aac-a25e-d3b9306c5a3b" class="numbered-list" start="2"><li>é…ç½®å†…å®¹å®‰å…¨ç­–ç•¥ï¼Œæœ‰äº›ç½‘ç«™ä¸ºäº†æŠµæŒ¡XSSæ”»å‡»ï¼Œä¼šé…ç½®å†…å®¹å®‰å…¨ç­–ç•¥<p id="419e35b4-3641-40ca-ad35-3017285c3818" class="">ä¸€ä¸ªç­–ç•¥ç”±ä¸€ç³»åˆ—ç­–ç•¥æŒ‡ä»¤æ‰€ç»„æˆï¼Œæ¯ä¸ªç­–ç•¥æŒ‡ä»¤éƒ½æè¿°äº†ä¸€ä¸ª<strong>ç‰¹å®šèµ„æºç±»å‹</strong>ä»¥åŠ<strong>ç”Ÿæ•ˆèŒƒå›´</strong>ï¼ˆä¿¡ä»»çš„æ¥æºï¼‰</p><p id="2b23052f-2470-4411-a692-0bf76275d317" class="">HTMLä¸­åœ¨<code>head</code>å…ƒç´ å†…ä¸­ä½¿ç”¨<code>&lt;meta&gt;</code> å…ƒç´ æ¥é…ç½®å®‰å…¨ç­–ç•¥</p><pre id="58b99b30-edc5-492d-9dbf-7f75e3bfef37" class="code code-wrap"><code>&lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src &#x27;self&#x27;; img-src https://*; child-src &#x27;none&#x27;;&quot;&gt;</code></pre><ul id="134ed89a-159d-448b-b4ac-faddfcc72aec" class="bulleted-list"><li style="list-style-type:disc"><code>http-equiv</code> è®¾ç½®ä¸º<code>Content-Security-Policy</code> è¡¨ç¤ºæ­¤æ¡<code>&lt;meta&gt;</code> ç”¨äºé…ç½®CSP</li></ul><ul id="08df63d6-c09b-4e74-84bb-39b20ea82f5b" class="bulleted-list"><li style="list-style-type:disc"><code>content</code>å±æ€§çš„å†…å®¹æ ¼å¼ï¼šå¤šä¸ªèµ„æºç±»å‹ç”¨è‹±æ–‡åˆ†å·åˆ†éš”ï¼Œç±»å‹å’Œæ¥æºã€å¤šä¸ªæ¥æºä¹‹é—´ç”¨ç©ºæ ¼åˆ†éš”ï¼Œæ¥æºåŠ è‹±æ–‡å•å¼•å·<pre id="a3d7149e-5a11-40f5-8452-4d3d4019f6e7" class="code code-wrap"><code>&quot;srcTypeA &#x27;src1&#x27; &#x27;src2&#x27;...; srcTypeB &#x27;src1&#x27; &#x27;src2&#x27;...; ...&quot;</code></pre></li></ul></li></ol><ol type="1" id="8d910d71-9c7e-481d-988a-fa5946c64537" class="numbered-list" start="3"><li>å†…å®¹å®‰å…¨ç­–ç•¥æŒ‡ä»¤ï¼Œä¸Šè¿°çš„&lt;<strong>èµ„æºç±»å‹ â€˜æ¥æº1â€™ â€˜æ¥æº2â€™&gt; </strong>å°±æ„æˆä¸€æ¡æŒ‡ä»¤ï¼Œè¡¨ç¤ºæ­¤èµ„æºç±»å‹çš„å¦‚ä¸‹æ¥æºæ˜¯å®‰å…¨çš„ï¼Œå¸¸è§çš„èµ„æºç±»å‹æœ‰<p id="bfaba559-f145-4df6-9040-77d173381d61" class=""><code>default-src</code> ï¼š èµ„æºç±»å‹ä¸ç¡®å®šæ—¶ï¼Œé»˜è®¤ä½¿ç”¨<code>default-src</code> çš„å€¼ä½œä¸ºç”Ÿæ•ˆèŒƒå›´</p><p id="7129cf50-9b6a-48d3-a2a3-ae80b8b6df3d" class=""><code><strong>script-src</strong></code><strong> ï¼š </strong>è¡¨ç¤ºèµ„æºç±»å‹ä¸ºè„šæœ¬æ–‡ä»¶æ—¶ï¼Œå®‰å…¨æ¥æºä¸ºï¼ˆå¯ä»¥å¦‚ä¸‹æ·»åŠ ï¼‰</p><ul id="353d9e16-5d69-4734-b2ee-2d68cd20343a" class="bulleted-list"><li style="list-style-type:disc"><code>self</code> ï¼šè¡¨ç¤ºå…è®¸è„šæœ¬æ¥æºäºå½“å‰ç½‘ç«™ï¼ˆåŸŸåï¼‰</li></ul><ul id="50baecbe-51df-4352-a2ad-24df569a3ae8" class="bulleted-list"><li style="list-style-type:disc"><code>unsafe-inline</code> : è¡¨ç¤ºå…è®¸è„šæœ¬æ¥æºäº&lt;script&gt;&lt;/script&gt;æ ‡ç­¾ </li></ul><ul id="3ed1825e-6d0d-4e00-a80d-e7be844f2a47" class="bulleted-list"><li style="list-style-type:disc"><code>unsafe-eval</code>: è¡¨ç¤ºå…è®¸è„šæœ¬æ¥æºäºå­—ç¬¦ä¸²</li></ul><p id="318c694f-b4d1-4019-80b8-3db16b801e0f" class="">æ›´å¤šçš„èµ„æºç±»å‹å¯ä»¥æŸ¥çœ‹<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy#directives"><strong>MDN-Content-Security-Policy</strong></a></p></li></ol><p id="27d907e5-b002-46b5-adb6-1f259d679897" class=""><strong>é—®é¢˜è§£å†³</strong></p><ul id="e9cdf95b-2504-454b-a12e-6d915c29ffc2" class="bulleted-list"><li style="list-style-type:disc"><code>eval()</code>ã€<code>Function()</code> ç­‰å‡½æ•°ä¼šä»å­—ç¬¦ä¸²ä¸­è§£æè„šæœ¬ä»£ç ï¼Œå¿…é¡»åœ¨å†…å®¹å®‰å…¨ç­–ç•¥ä¸­æ·»åŠ ä¿¡ä»»å­—ç¬¦ä¸²æ¥æºçš„è„šæœ¬çš„ç­–ç•¥æŒ‡ä»¤ï¼Œè¯¥æ¥æºçš„è„šæœ¬æ‰å¯ä»¥æ­£å¸¸è¿è¡Œ<pre id="f3bab9cd-d899-421e-b645-fcf199599e41" class="code code-wrap"><code>&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src &#x27;self&#x27;; script-src self unsafe-eval; child-src &#x27;none&#x27;;&quot;/&gt;
&lt;/head&gt;
&lt;/html&gt;</code></pre></li></ul><ul id="0624c271-3d14-420e-af15-d673e44e2fac" class="bulleted-list"><li style="list-style-type:disc">å¦‚æœæ˜¯å¼€å‘è°·æ­Œæ’ä»¶ï¼Œå¯ä»¥é…ç½®manifest.jsoné‡Œçš„content_security_policyå±æ€§ï¼Œæ·»åŠ ç­–ç•¥çš„è§„åˆ™ç›¸åŒ</li></ul><ul id="75deafa5-8656-4b1c-94cc-ca91633951fb" class="bulleted-list"><li style="list-style-type:disc">å¦‚æœåªæ˜¯éšä¾¿æ‰“å¼€ä¸€ä¸ªç½‘é¡µï¼ŒF12è¿›å…¥æ§åˆ¶å°ç„¶ååœ¨è¾“å…¥JavaScriptä»£ç è¿›è¡Œç®€å•æµ‹è¯•ï¼Œä½¿ç”¨eval()ç­‰æ–¹æ³•æœ‰å¯èƒ½äº§ç”Ÿé”™è¯¯<ul id="5e0b0f80-434e-4d8b-ab16-91cda2bc949d" class="bulleted-list"><li style="list-style-type:circle">å°è¯•ä¿®æ”¹ç½‘é¡µä¸Šçš„<code>meta</code> å…ƒç´ æˆ–æ·»åŠ è‡ªå®šä¹‰é…ç½®å†…å®¹å®‰å…¨ç­–ç•¥çš„<code>meta</code>  å…ƒç´ éƒ½æ˜¯è¡Œä¸é€šçš„ï¼Œå¦‚æœè¿™æ ·å¯ä»¥é‚£ä¹ˆå°±å¯ä»¥éšæ„æ”»å‡»åˆ«äººçš„ç½‘ç«™äº†</li></ul><ul id="bdf0b950-a0e6-443e-82f2-66df7c06b3ea" class="bulleted-list"><li style="list-style-type:circle">è§£å†³æ–¹æ¡ˆæ˜¯è‡ªå·±åˆ›å»ºä¸€ä¸ªç©ºç™½ç½‘é¡µè¿›è¡Œæµ‹è¯•</li></ul></li></ul><h3 id="52058919-692a-4662-aa8c-700c8c2c557e" class="">1.5.2 é€šè¿‡åœ¨functionBodyä¸­è¿›è¡Œå‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼åˆ›å»ºå‡½æ•°å¯¹è±¡</h3><ul id="e912da23-b82e-47e7-b095-54375ddb7780" class="bulleted-list"><li style="list-style-type:disc"><code>Function()</code> æ„é€ å‡½æ•°çš„ç«‹å³è°ƒç”¨è¿”å›å‡½æ•°<pre id="e5ba8469-db7f-4de1-bfbe-d5830aa75eb3" class="code code-wrap"><code>const sumOfArr = new Function(`
  const sumArray = (arr) =&gt; arr.reduce((pre, cur) =&gt; pre + cur);
  return sumArray
`)();
console.log(sumOfArr([1, 2, -5, 8, 6, 2, 4, -3, -2])); // 13</code></pre><ul id="5c34f0f8-bbd7-48c5-87dd-368eeb045449" class="bulleted-list"><li style="list-style-type:circle">è¿™ä¸ªæ–¹æ³•çš„ç‰¹åˆ«ä¹‹å¤„åœ¨äºï¼Œç›´æ¥å°†<code>Function</code> ä¸­çš„<code>functionBody</code> å‚æ•°ä½œä¸ºå­—ç¬¦ä¸²å½¢å¼çš„è¯­å¥ç›´æ¥è°ƒç”¨æ‰§è¡Œï¼Œç„¶åç«‹åˆ»è¿”å›<code>sumArray</code> å‡½æ•°ç»™<code>sumOfArr</code>å˜é‡ï¼Œ <code>new Function()</code> åªæ˜¯ä½œä¸ºäº§ç”Ÿç›®æ ‡å‡½æ•°çš„è·³æ¿ï¼Œè¿™ä¸ªå’Œå¦‚ä¸‹ä½¿ç”¨<code>eval()</code> çš„è¯­å¥å…·æœ‰ç›¸åŒçš„ä½œç”¨</li></ul><pre id="2834f1f8-86de-401e-b369-ab053dfde89f" class="code code-wrap"><code>const sumOfArr2 = eval(`
  const sumArray = (arr) =&gt; arr.reduce((pre, cur) =&gt; pre + cur);
  sumArray
`);
console.log(sumOfArr2([1, 2, -5, 8, 6, 2, 4, -3, -2])); // 13</code></pre></li></ul><ul id="36a09691-ccc3-4e67-aa37-22ae07644a02" class="bulleted-list"><li style="list-style-type:disc"><code>Function()</code> æ„é€ å‡½æ•°ä¸ç«‹å³è°ƒç”¨ï¼Œç›®æ ‡å‡½æ•°ä¸éœ€è¦è¢«ç«‹å³åˆ›å»ºï¼Œä»…åœ¨éœ€è¦çš„æ—¶å€™é€šè¿‡<code>call()</code> ä»…åˆ›å»ºåå†è°ƒç”¨<pre id="d95dd810-e2e5-4288-a736-62c6c44f00be" class="code code-wrap"><code>const largestNumOfArr = new Function(`
  function largestNumOfArr(arr) {
    return Math.max(...arr);
  }
  return largestNumOfArr;
`);
console.log(
  largestNumOfArr
    .call({})
    .call({}, [78, 25, 36, 87, 41, 25, 96, 34, 54, 24, 13, 39, 64])
); // 96</code></pre><ul id="89d93d29-4611-42ba-8dc2-e0e73553c2bd" class="bulleted-list"><li style="list-style-type:circle"><code>largestNumOfArr</code> ä¿å­˜çš„æ˜¯<code>new Function()</code> åˆ›å»ºçš„ä¸­é—´å‡½æ•°ï¼Œé€šè¿‡è°ƒç”¨è¿™ä¸ªä¸­é—´å‡½æ•°ä¼šæˆ–è·å¾—é€šè¿‡å­—ç¬¦ä¸²å½¢å¼å®šä¹‰çš„<code>largestNumOfArr</code> å‡½æ•°ï¼Œç„¶åå†è°ƒç”¨å®ƒå³å¯æŸ¥æ‰¾æ•°ç»„ä¸­æœ€å¤§å€¼</li></ul></li></ul><h1 id="c714bae9-be50-498e-8c16-0789953091e3" class="">2. å®ä¾‹å±æ€§(<strong>Instance properties</strong>)</h1><p id="df03fa32-d165-41d6-b5b5-ed87e661cb62" class=""><del>å®é™…ä¸Šæ˜¯</del><del><code>Function</code></del><del> å¼•ç”¨ç±»å‹ä¸Šçš„</del><del><strong>åŸå‹å±æ€§</strong></del></p><ul id="322c1100-3660-48da-b82c-1b685efc070a" class="bulleted-list"><li style="list-style-type:disc">ä¸€ä¸ªå‡½æ•°å¯¹è±¡çš„<strong>è‡ªæœ‰å±æ€§</strong>ä»å„ä¸ªç¯å¢ƒæ¥çœ‹åŒ…æ‹¬å¦‚ä¸‹äº”ä¸ª<ul id="5aec1d37-74c1-4cec-83a6-372bbd1f21c0" class="bulleted-list"><li style="list-style-type:circle"><code>length</code>  å¿…æœ‰</li></ul><ul id="5e5b993d-de5f-4e34-a196-ecbdb2ab7dba" class="bulleted-list"><li style="list-style-type:circle"><code>name</code> å¿…æœ‰</li></ul><ul id="8a80050a-5dc3-415c-9e2d-779fe14aaa85" class="bulleted-list"><li style="list-style-type:circle"><code>caller</code> å¯èƒ½æ²¡æœ‰ï¼ˆç®­å¤´å‡½æ•°ï¼‰</li></ul><ul id="cf98f607-ed62-4172-96b9-31e24cc518b2" class="bulleted-list"><li style="list-style-type:circle"><code>arguments</code> å¯èƒ½æ²¡æœ‰ï¼ˆç®­å¤´å‡½æ•°ï¼‰</li></ul><ul id="751ef3bb-4d2b-496b-a183-5e74cbec556b" class="bulleted-list"><li style="list-style-type:circle"><code>prototype</code> å¯èƒ½æ²¡æœ‰ï¼ˆç®­å¤´å‡½æ•°ï¼‰</li></ul></li></ul><ul id="218296a6-dc08-446c-a6c1-937c6f7fb64d" class="bulleted-list"><li style="list-style-type:disc">è€Œä¸‹è¿°æè¿°çš„éƒ½æ˜¯åŸå‹å±æ€§ï¼ˆå‚è€ƒMDNï¼‰ï¼Œå› ä¸º<strong>MDN</strong>åœ¨è§£é‡Š<code>Function</code><strong>å†…ç½®å¯¹è±¡</strong>æ—¶éœ€è¦ä»‹ç»å®ä¾‹çš„åŸå‹å±æ€§<ul id="2bbf30e4-7579-44a7-800d-24b2681f7a81" class="bulleted-list"><li style="list-style-type:circle"><code>Function</code> å¼•ç”¨ç±»å‹çš„<code>prototype</code> å±æ€§æœ¬èº«å°±æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œæ‰€ä»¥å®ƒå…·æœ‰<a href="%E5%87%BD%E6%95%B0%EF%BC%88Function%EF%BC%89.html">ä¸Šè¿°</a>çš„å±æ€§å¾ˆæ­£å¸¸</li></ul><ul id="bbf701a7-d42d-4381-9b5c-31f731871e30" class="bulleted-list"><li style="list-style-type:circle">ç”±ä»»ä½•å¯¹è±¡çš„[[Prototype]]éƒ½æ˜¯ç”±å…¶å¯¹åº”çš„æ„é€ å‡½æ•°çš„<code>prototype</code> ç»§æ‰¿è€Œæ¥å¯çŸ¥ï¼Œ<code>Function</code> å¼•ç”¨ç±»å‹æœ¬èº«å°±æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œæ‰€ä»¥å…¶[[Prototype]]æ¥æºäºå®ƒè‡ªèº«çš„<code>prototype</code>å±æ€§,å³<code>Function.prototype === Function.__proto__</code> </li></ul><ul id="61a258e0-442f-4b41-a7aa-929d03414a09" class="bulleted-list"><li style="list-style-type:circle">è¿˜éœ€è¦æ³¨æ„çš„æ˜¯<code>caller</code> ï¼Œ <code>arguments</code> è¿™äº›å±æ€§åœ¨<code>Function</code> <code>Function.prototype</code> <code>Function.__proto__</code> <code>function.__proto__</code> è¿™äº›å‡½æ•°å¯¹è±¡ä¸Šè®¿é—®æ—¶ä¼šæŠ›å‡ºå¼‚å¸¸ã€<strong>æ¯’ä¸¸è®¿é—®å™¨ï¼ˆpoison pill accessor</strong>ï¼‰ã€‘ï¼Œç”±æ­¤ï¼Œè¿™äº›å‡½æ•°å¯¹è±¡ä¹Ÿä¸èƒ½ä½¿ç”¨<code>new</code> æ“ä½œç¬¦è¿›è¡Œè°ƒç”¨ï¼Œæ™®é€šè°ƒç”¨æ²¡æœ‰ä»»ä½•æ•ˆæœï¼ˆè¿”å›<code>undefined</code>ï¼‰</li></ul><ul id="db9a4a93-013a-4f86-aa6f-a6ba665fd9bd" class="bulleted-list"><li style="list-style-type:circle">æ™®é€šå‡½æ•°å¯¹è±¡çš„<code>prototype</code> å±æ€§ä¸æ˜¯å‡½æ•°å¯¹è±¡ï¼Œè€Œæ˜¯ä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼Œæ‹¥æœ‰<code>constructor</code> å±æ€§å¼•ç”¨å‡½æ•°æœ¬èº«ï¼Œä»¥åŠæ¥æºäº<code>Object.prototype</code> çš„[[Prototype]]å±æ€§</li></ul><ul id="469bccf2-0651-49c1-ab3a-9524f574ef2c" class="bulleted-list"><li style="list-style-type:circle"><code>Object</code> æœ¬èº«æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°å¯¹è±¡ï¼Œæ‰€ä»¥å…¶[[Prototype]]å±æ€§å°±æ˜¯<code>Function.prototype</code> </li></ul></li></ul><figure id="58bc3207-a9ff-4d27-93e3-ab739b5a5adb" class="link-to-page"><a href="%E5%87%BD%E6%95%B0%EF%BC%88Function%EF%BC%89/2%20Function%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7.html"><span class="icon">ğŸ¥</span>2. Functionå¯¹è±¡çš„å±æ€§</a></figure><h1 id="d072aa4c-6e5c-4bf9-8574-879f9db1cccb" class="">3. å®ä¾‹æ–¹æ³•ï¼ˆinstance methodsï¼‰</h1><ul id="601b6859-4bfb-46ab-a94d-f570fbf24faf" class="bulleted-list"><li style="list-style-type:disc">è¿™é‡Œçš„å®ä¾‹æ–¹æ³•å°±æ˜¯å®šä¹‰åœ¨<code>Function.prototype</code> ä¸ŠçœŸæ­£èƒ½åœ¨å‡½æ•°å¯¹è±¡çš„åŸå‹ï¼ˆ[[Prototype]]ï¼‰ä¸Šè·å–åˆ°çš„å…¬å…±æ–¹æ³•</li></ul><h2 id="815b3b84-20db-43e5-b697-562be19ef408" class="">3.1 <code>Function.prototype.apply()</code></h2><ul id="22abb920-d39e-4b86-893e-112a0f1b6eda" class="bulleted-list"><li style="list-style-type:disc">å‡½æ•°çš„<code>apply()</code> æ–¹æ³•ä½¿ç”¨<strong>ç»™å®š</strong>ï¼ˆ<strong>given</strong>ï¼‰çš„<code>this</code> å€¼å’Œ<strong>ç±»æ•°ç»„å¯¹è±¡</strong>ï¼ˆ<strong>array-like object</strong>ï¼‰çš„<code>arguments</code> ï¼ˆå‚æ•°ï¼‰è°ƒç”¨<strong>æŒ‡å®š</strong>ï¼ˆ<strong>specified</strong>ï¼‰çš„å‡½æ•°</li></ul><h3 id="7dab1d2f-9064-4e0c-b79d-19a043256a1f" class="">3.1.1 è¯­æ³•</h3><pre id="717b70cd-5369-4850-9231-c0e033c4ac73" class="code code-wrap"><code>apply(thisArg);
apply(thisArg, argsArray);</code></pre><ul id="6ac0d047-5672-4461-9ddc-d314fc0cccff" class="bulleted-list"><li style="list-style-type:disc">å‚æ•°<ul id="a93c4e80-53ef-40f4-a83b-21ea1e142faf" class="bulleted-list"><li style="list-style-type:circle"><code>thisArg</code> ï¼šæä¾›ç»™è¢«è°ƒç”¨å‡½æ•°çš„<code>this</code> å€¼ï¼Œå¯ä»¥ä½¿ç”¨<code>null</code>æˆ–è€…<code>undefined</code> ï¼›å¦‚æœæ–¹æ³•ä¸æ˜¯ä¸¥æ ¼æ¨¡å¼ï¼Œ<code>null</code> å’Œ<code>undefined</code> ä¼šè¢«å…¨å±€å¯¹è±¡æ›¿ä»£ï¼ˆè¿™ä¸€ç‚¹åœ¨<code>this</code> æ“ä½œç¬¦ä¸­<a href="https://www.notion.so/this-cb80ad0de9a74f5c999237ed645d9ef1">å‡½æ•°ä¸Šä¸‹æ–‡</a>ä¸­ä»‹ç»äº†ï¼‰ï¼ŒåŸå§‹å€¼ä¹Ÿä¼šè¢«è½¬æ¢ä¸ºå¯¹åº”çš„åŒ…è£…å¯¹è±¡</li></ul><ul id="a89b0cb5-28f7-4ef7-b567-ddb7786f5650" class="bulleted-list"><li style="list-style-type:circle"><code>argsArray</code> ï¼šå¯é€‰å‚æ•°ï¼Œç±»æ•°ç»„å¯¹è±¡ï¼Œ<strong>æŒ‡å®š</strong>ï¼ˆ<strong>specifying</strong>ï¼‰è¢«è°ƒç”¨å‡½æ•°çš„å‚æ•°</li></ul></li></ul><ul id="5e358e00-098c-4669-820a-78064cba0faf" class="bulleted-list"><li style="list-style-type:disc">è¿”å›å€¼ï¼Œè¢«æŒ‡å®š<code>this</code> å’Œ<code>arguments</code> çš„è¢«è°ƒç”¨å‡½æ•°çš„æ‰§è¡Œçš„è¿”å›å€¼</li></ul><h3 id="fb4d87a8-4692-4e5c-bb8b-f5d667c9859f" class="">3.1.2 ç†è§£<code>apply()</code></h3><div><figure class="block-color-blue_background callout" style="white-space:pre-wrap;display:flex" id="3eb8ed34-6e8f-446c-9b16-2d4b0847492c"><div style="font-size:1.5em"><span class="icon">ğŸ’¡</span></div><div style="width:100%">æ³¨æ„ï¼šæ­¤å‡½æ•°å’Œ<code>Function.prototype.call()</code> <strong>å‡ ä¹ç›¸åŒ</strong>ï¼ˆ<strong>is almost identical to</strong>ï¼‰ï¼Œé™¤äº†åœ¨æ¥å—<strong>å‚æ•°åˆ—è¡¨</strong>ï¼ˆ<strong>argument list</strong>ï¼‰æ—¶ä¸åŒï¼š<code>apply()</code> æ¥å—<strong>å•ä¸ªå‚æ•°æ•°ç»„</strong>ï¼ˆ<strong>single array of arguments</strong>ï¼‰ï¼Œè€Œ<code>call()</code> æ¥å—ç¦»æ•£çš„å¤šä¸ªå‚æ•°ï¼›ä¾‹å¦‚ï¼Œ<code>func.apply(this, [&quot;arg1&quot;, &quot;arg2&quot;])</code> å’Œ<code>func.call(this, &quot;arg1&quot;, &quot;arg2&quot;)</code> ç­‰ä»·</div></figure></div><ul id="e7769ff0-964a-4386-b1c4-75f537e6a119" class="bulleted-list"><li style="list-style-type:disc">ä¸€èˆ¬è€Œè¨€ï¼Œ<code>fn.apply(null, args)</code> ç­‰ä»·äº<code>fn(â€¦args)</code> ï¼Œå°±æ˜¯ä½¿ç”¨æ‰©å±•æ“ä½œç¬¦çš„<strong>æ”¶é›†å‚æ•°</strong>ï¼ˆ<strong>rest parameter</strong>ï¼‰å†™æ³•</li></ul><ul id="8246b221-b3d8-4edf-af68-103659d57fa3" class="bulleted-list"><li style="list-style-type:disc">å¦‚æœè¢«è°ƒç”¨çš„å‡½æ•°<code>this</code> å€¼æ˜¯å›ºå®šçš„ï¼Œé‚£ä¹ˆå¯ä»¥å°†å…¶åŒ…è£…ä¸€ä¸‹ï¼Œä½¿ç”¨æœ€ç®€å•çš„è°ƒç”¨æ–¹æ³•è¿›è¡Œè°ƒç”¨å¦‚ä¸‹<pre id="55a7da23-b582-4cba-a6fd-b9a5f802f4af" class="code code-wrap"><code>function wrapper() {
	return fn.apply(null, arguments);
}</code></pre><ul id="82e056d8-09d8-4db4-96c2-0e96e67d817e" class="bulleted-list"><li style="list-style-type:circle">ä¼ é€’ç»™<code>wrapper()</code> å‡½æ•°çš„å‚æ•°å°±æ˜¯è¢«è°ƒç”¨å‡½æ•°<code>fn</code> çš„å‚æ•°</li></ul><ul id="182f76b8-bb01-44e9-b41a-a107d0331a68" class="bulleted-list"><li style="list-style-type:circle"><code>arguments</code> å±äºç±»æ•°ç»„å¯¹è±¡</li></ul></li></ul><ul id="6d290ebf-4241-487f-948e-9bf613fe5f06" class="bulleted-list"><li style="list-style-type:disc"><code>apply()</code> æœ€ä¸»è¦çš„ä½œç”¨ä»ç„¶æ˜¯æŒ‡å®šå‡½æ•°æ‰§è¡Œæ—¶çš„<code>this</code> å€¼</li></ul><h3 id="f90d8611-bb8b-4e88-b642-b996cf40cd2e" class="">3.1.3 ä¾‹å­</h3><p id="45705269-54d7-43c2-adc1-0ca1fe2a0259" class=""><strong>æ‰©å±•æ•°ç»„</strong></p><ul id="96f4ab3d-b3cd-4817-95d4-838d95c8ab7d" class="bulleted-list"><li style="list-style-type:disc"><code>Array.prototype.push()</code> æ–¹æ³•èƒ½åœ¨æ•°ç»„å°¾éƒ¨æ‰©å±•ï¼ˆ<strong>append</strong>ï¼‰å…ƒç´ ï¼ŒåŒæ—¶<code>push()</code> èƒ½æ¥å—å¤šä¸ªç¦»æ•£çš„å‚æ•°ï¼Œä¸€æ¬¡æ€§ä¸ºæ•°ç»„æ·»åŠ å¤šä¸ªå…ƒç´ </li></ul><ul id="ca7c013e-3046-4413-85c2-abd732ff1247" class="bulleted-list"><li style="list-style-type:disc">ä½†æ˜¯åœ¨éœ€è¦å°†ä¸€ä¸ªæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ â€pushâ€œå…¥ç›®æ ‡æ•°ç»„å°¾éƒ¨æ—¶ï¼Œå°±éœ€è¦éå†æºæ•°ç»„ä¸€ä¸ªä¸ªè°ƒç”¨<code>push()</code> ï¼Œè¿™æ˜¯å› ä¸ºç›´æ¥å°†æºæ•°ç»„ä½œä¸º<code>push()</code> çš„å‚æ•°ä¼šå°†è¿™ä¸ªæ•°ç»„ä»…ä½œä¸ºä¸€ä¸ªå…ƒç´ â€œpushâ€è¿›ç›®æ ‡æ•°ç»„å°¾éƒ¨ã€å®é™…ä¸Šå¯ä»¥ä½¿ç”¨æ‰©å±•ï¼ˆspreadï¼‰æ“ä½œç¬¦å°†æºæ•°ç»„ç¦»æ•£åä¼ å…¥<code>push()</code> å‡½æ•°ä¸­ï¼Œå…¥<code>targetArr.push(â€¦srcArr)</code>ã€‘</li></ul><ul id="68460b8f-21c3-4208-a420-7cdd2dc61c08" class="bulleted-list"><li style="list-style-type:disc">è™½ç„¶<code>Array.prototype.concat()</code> å¯ä»¥å°†ä¸¤ä¸ªæ•°ç»„åˆå¹¶ï¼Œä½†æ˜¯å®ƒä¸æ˜¯åœ¨ç›®æ ‡æ•°ç»„ä¸Šæ“ä½œï¼Œè€Œæ˜¯åˆ›å»ºäº†ä¸€ä¸ªæ–°æ•°ç»„æŒ‰é¡ºåºä¿å­˜ä¸¤ä¸ªæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ </li></ul><ul id="be495515-901d-4fd4-af62-f014fde55049" class="bulleted-list"><li style="list-style-type:disc">ä½¿ç”¨<code>apply()</code> å¯ä»¥<strong>éšå¼åœ°</strong>ï¼ˆ<strong>implicitly</strong>ï¼‰å°†æ•°ç»„â€å±•å¼€ï¼ˆspreadï¼‰â€œä¸ºä¸€ç³»åˆ—çš„å‚æ•°ä¼ å…¥<pre id="77b74a9b-61bd-4594-a57e-76f79a448a99" class="code code-wrap"><code>const arr = [1, 2];
const eles = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;];

arr.push.apply(arr, eles);
console.log(arr); // [ 1, 2, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27; ]</code></pre></li></ul><ul id="c3fa04d0-a129-42ff-9607-99951fc05f77" class="bulleted-list"><li style="list-style-type:disc">ä½¿ç”¨æ‰©å±•æ“ä½œç¬¦å¯ä»¥è¾¾æˆåŒæ ·çš„æ•ˆæœ<pre id="919696d9-70a4-4030-9be3-7877c42f9b27" class="code code-wrap"><code>const arr2 = [1, 2];
const eles2 = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;];

arr2.push(...eles2);
console.log(arr2); // [ 1, 2, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27; ]</code></pre></li></ul><p id="38c46a3f-1467-48fe-8207-23bb2e9055e2" class=""><strong>å¯¹å†…ç½®å‡½æ•°ä½¿ç”¨apply</strong></p><ul id="ff3d8fd1-32f2-47f6-8c64-85767f494510" class="bulleted-list"><li style="list-style-type:disc">æœ‰äº›å†…ç½®å‡½æ•°æ¥å—ä»»æ„å¤šä¸ªå‚æ•°ï¼Œèªæ˜åœ°åº”ç”¨<code>apply()</code> æ–¹æ³•åœ¨å¤„ç†ä¸€äº›ä»»åŠ¡æ—¶ä¼šå¾ˆæœ‰ç”¨ï¼Œå¦åˆ™éœ€è¦é€šè¿‡éå†æ•°ç»„å€¼ï¼ˆå‚æ•°é›†åˆï¼‰æ¥å®ç°ä»»åŠ¡</li></ul><ul id="0af1c6e9-83eb-4220-b042-02af4dc139c3" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å¦‚ï¼Œ<code>Math.max()/Math.min()</code> è¿”å›ç»™å®šå‚æ•°ä¸­çš„æœ€å¤§å€¼æˆ–æœ€å°å€¼ï¼Œå¦‚æœä¸ä½¿ç”¨<code>apply()</code> ï¼Œæ‰¾å‡ºæ•°ç»„ä¸­çš„æœ€å¤§å€¼æˆ–æœ€å°å€¼å°±éœ€è¦éå†ä¸€éæ•°ç»„ï¼›è€Œæ˜¯è¦<code>apply()</code> å°±å¯ä»¥ç›´æ¥å°†æ•°ç»„ä½œä¸º<code>apply()</code> çš„å‚æ•°éšå¼çš„å°†æ•°ç»„å±•å¼€ä¸ºä¸€ç³»åˆ—å‚æ•°ä¼ å…¥<code>Math.max()</code>å’Œ<code>Math.min()</code> ä¸­ï¼Œå¿«é€Ÿè·å–æœ€å¤§å€¼æˆ–æœ€å°å€¼<pre id="717e7b70-dd74-4494-bac2-acb2923f6576" class="code code-wrap"><code>const nums = [
  2, 8, 5, 4, 2, 3, 6, 9, 7, 4, 5, 21, 23, 41, 21, 23, 53, 24, 63, 21, 2, 0, 7,
  -2, -6, 9, 5, 4, 42,
];
// ä¸ä½¿ç”¨apply
let max = -Infinity;
let min = Infinity;
for (const num of nums) {
  max = Math.max(max, num);
  min = Math.min(min, num);
}
console.log(max, min); // 63 -6
// ä½¿ç”¨apply
max = -Infinity;
min = Infinity;

max = Math.max.apply(null, nums);
min = Math.min.apply(null, nums);
console.log(max, min); // 63 -6</code></pre></li></ul><ul id="0511ef64-b663-4f05-9c84-56c3660a28f3" class="bulleted-list"><li style="list-style-type:disc">ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä»¥è¿™ç§æ–¹å¼ä½¿ç”¨<code>apply()</code> ï¼Œå°±ä¼šæœ‰è¶…è¿‡ï¼ˆ<strong>exceeding</strong>ï¼‰JavaScriptå¼•æ“<strong>å‚æ•°é•¿åº¦é™åˆ¶</strong>ï¼ˆ<strong>argument length limit</strong>ï¼‰çš„é£é™©ã€‚ä¸åŒå¼•æ“çš„å‚æ•°é•¿åº¦é™åˆ¶å¤§å°ä¸åŒï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªé˜ˆå€¼è¡¨ç¤ºæœ€å¤§çš„å‚æ•°ä¸ªæ•°ï¼ˆJavaScriptCoreå¼•æ“çš„ç¡¬ç¼–ç ï¼ˆhard-codedï¼‰<a href="https://bugs.webkit.org/show_bug.cgi?id=80797">å‚æ•°é™åˆ¶ä¸º65536</a>ï¼‰<pre id="121f41af-a9e4-4364-93a7-701bbde20208" class="code code-wrap"><code>const nums2 = new Array(100000)
  .fill(0)
  .map(() =&gt; Math.floor(Math.random() * 10000000));
console.log(Math.min.apply(null, nums2)); // 27   å…·æœ‰éšæœºæ€§
console.log(Math.max.apply(null, nums2)); // 9999903 å…·æœ‰éšæœºæ€§</code></pre><ul id="720293ed-d4c4-48bb-8ad0-7f6c682f531a" class="bulleted-list"><li style="list-style-type:circle">ä¸Šè¿°çš„ä»£ç ç°ä»£æµè§ˆå™¨å’Œnodeç¯å¢ƒä¸‹éƒ½ä¸ä¼šæŠ¥é”™</li></ul><ul id="6ea33f99-3f83-4ab3-8ed8-379cc026f2dc" class="bulleted-list"><li style="list-style-type:circle">å› ä¸ºç°ä»£è®¾å¤‡æ€§èƒ½æå‡ï¼ŒJavaScriptå¼•æ“çš„å‚æ•°é•¿åº¦é™åˆ¶å·²è¢«æå‡åˆ°125568ï¼ˆä¸åŒ…æ‹¬125568ï¼‰ï¼Œå…¶äºŒè¿›åˆ¶ä¸º&#x27;11110101010000000â€™ï¼ˆ2022.10.17æµ‹è¯•ï¼‰</li></ul><ul id="3d20903a-0f2e-4974-8577-6c450923cc2e" class="bulleted-list"><li style="list-style-type:circle">è¶…å‡ºå‚æ•°é•¿åº¦é™åˆ¶ä¼šæŠ›å‡º<code>RangeError: Maximum call stack size exceeded</code> å¼‚å¸¸ï¼ˆèŒƒå›´é”™è¯¯ï¼‰</li></ul></li></ul><ul id="a8b0dba2-ef7c-416a-9af3-cd6891f43ba0" class="bulleted-list"><li style="list-style-type:disc">è¿™ç§å‚æ•°é•¿åº¦é™åˆ¶æ˜¯ä»»ä½•<strong>è¿‡åˆ†å¤§å †æ ˆ</strong>ï¼ˆ<strong>excessively-large-stack</strong>ï¼‰è¡Œä¸ºçš„<strong>æœ¬è´¨</strong>ï¼ˆ<strong>nature</strong>ï¼‰ï¼›å¦‚æœä½ çš„æ•°ç»„é•¿åº¦å¯èƒ½æ˜¯æˆåƒä¸Šä¸‡çš„ï¼Œä½¿ç”¨<strong>æ··åˆç­–ç•¥</strong>ï¼ˆ<strong>hybrid strategy</strong>ï¼‰ï¼Œå°†æ•°ç»„è¿›è¡Œåˆ†<strong>å—</strong>ï¼ˆ<strong>chunks</strong>ï¼‰ï¼Œå—ä½œä¸º<code>apply()</code> çš„å‚æ•°è°ƒç”¨å‡½æ•°è§£å†³æ¯ä¸ªå—çš„é—®é¢˜ï¼Œç„¶åå°†å—çš„ç»“æœå†åº”ç”¨å‡½æ•°ä»¥è§£å†³æ•´ä¸ªé—®é¢˜ï¼Œå¦‚ä¸‹<pre id="ef2b0c5c-3039-479d-9af3-8ca23b6e63b7" class="code code-wrap"><code>const nums3 = new Array(1000000)
  .fill(0)
  .map(() =&gt; Math.floor(Math.random() * 1000000000));

function minOfArray(arr) {
  let min = Infinity;
  // é‡å­å—
  const QUANTUM = 32768;
  for (let i = 0; i &lt; arr.length; i += QUANTUM) {
    // æ¯æ¬¡è®¡ç®—QUANTUMå¤§å°çš„å‚æ•°ï¼Œæœ€åä¸€ä¸ªå—å¯èƒ½é•¿åº¦ä¸å¤Ÿï¼Œæ‰€ä»¥éœ€è¦å–å°å€¼
    const subMin = Math.min.apply(
      null,
      arr.slice(i, Math.min(i + QUANTUM, arr.length))
    );
    min = Math.min(subMin, min);
  }
  return min;
}
console.log(minOfArray(nums3)); // 197 å…·æœ‰éšæœºæ€§</code></pre></li></ul><h2 id="c14e3134-cc79-430e-907d-b97f813f143d" class="">3.2 <code><strong>Function.prototype.call()</strong></code></h2><ul id="aa41af87-03c4-4c54-8e7e-c6ec937f7e12" class="bulleted-list"><li style="list-style-type:disc">å‡½æ•°çš„<code>call()</code> æ–¹æ³•ä½¿ç”¨<strong>ç»™å®š</strong>ï¼ˆ<strong>given</strong>ï¼‰çš„<code>this</code> å€¼å’Œ<strong>ç¦»æ•£</strong>çš„<code>arguments</code> ï¼ˆå‚æ•°ï¼‰è°ƒç”¨<strong>æŒ‡å®š</strong>ï¼ˆ<strong>specified</strong>ï¼‰çš„å‡½æ•°</li></ul><h3 id="76eaa591-9ef7-4747-af1e-201a28a4ab27" class="">3.2.1 è¯­æ³•</h3><pre id="19df42dc-5b6c-4126-859a-178f9ad3ef3b" class="code code-wrap"><code>call()
call(thisArg)
call(thisArg, arg1, /*...*/, argN)</code></pre><ul id="4a0f23f5-b20a-4ba7-905f-b28b572cdfb5" class="bulleted-list"><li style="list-style-type:disc">å‚æ•°ï¼š<ul id="9c71a46d-265b-4acb-ade3-8eed94e438c5" class="bulleted-list"><li style="list-style-type:circle"><code>thisArg</code> ï¼š è¢«è°ƒç”¨å‡½æ•°çš„<code>func</code> æ‰§è¡Œæ—¶ä½¿ç”¨çš„<code>this</code> å€¼ï¼›å¦‚æœå‡½æ•°ä¸åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œ<code>this</code> å€¼æŒ‡å®šä¸º<code>null</code> æˆ–<code>undefined</code> ä¼šè¢«æ›¿æ¢ä¸ºå…¨å±€å¯¹è±¡ï¼ŒåŸå§‹å€¼ä¹Ÿä¼šè¢«è½¬æ¢ä¸ºå¯¹åº”çš„åŒ…è£…å¯¹è±¡</li></ul><ul id="1254431f-91b6-4e79-94e4-b16868f01647" class="bulleted-list"><li style="list-style-type:circle"><code>arg1, /*...*/, argN</code> ï¼š å¯é€‰å‚æ•°ï¼Œè¢«è°ƒç”¨å‡½æ•°çš„å‚æ•°</li></ul></li></ul><ul id="85eda78c-29ea-4003-8e46-5420420b1109" class="bulleted-list"><li style="list-style-type:disc">è¿”å›å€¼ï¼šè¢«è°ƒç”¨å‡½æ•°åœ¨ç»™å®š<code>this</code>å’Œç»™å®šå‚æ•°æ‰§è¡Œåçš„è¿”å›å€¼</li></ul><h3 id="06e1b906-52ce-45c1-a4a7-00daf32125c5" class="">3.2.2 ç†è§£call()</h3><div><figure class="block-color-blue_background callout" style="white-space:pre-wrap;display:flex" id="3eb8ed34-6e8f-446c-9b16-2d4b0847492c"><div style="font-size:1.5em"><span class="icon">ğŸ’¡</span></div><div style="width:100%">æ³¨æ„ï¼šæ­¤å‡½æ•°å’Œ<code>Function.prototype.call()</code> <strong>å‡ ä¹ç›¸åŒ</strong>ï¼ˆ<strong>is almost identical to</strong>ï¼‰ï¼Œé™¤äº†åœ¨æ¥å—<strong>å‚æ•°åˆ—è¡¨</strong>ï¼ˆ<strong>argument list</strong>ï¼‰æ—¶ä¸åŒï¼š<code>apply()</code> æ¥å—<strong>å•ä¸ªå‚æ•°æ•°ç»„</strong>ï¼ˆ<strong>single array of arguments</strong>ï¼‰ï¼Œè€Œ<code>call()</code> æ¥å—ç¦»æ•£çš„å¤šä¸ªå‚æ•°ï¼›ä¾‹å¦‚ï¼Œ<code>func.apply(this, [&quot;arg1&quot;, &quot;arg2&quot;])</code> å’Œ<code>func.call(this, &quot;arg1&quot;, &quot;arg2&quot;)</code> ç­‰ä»·</div></figure></div><ul id="c8875b1f-6ec3-4db1-b751-f0a7e6c34072" class="bulleted-list"><li style="list-style-type:disc"><code>call()</code> çš„ä½¿ç”¨åœºæ™¯ä¸<code>apply()</code> ä¸å¤ªåŒï¼ˆ<code>call()</code> ä¸é€‚ç”¨æ‰©å±•æ•°ç»„å’Œè¿‡å¤§å‚æ•°ä¸ªæ•°è°ƒç”¨ï¼‰ï¼Œä½¿ç”¨<code>call()</code> å¯ä»¥ç¼–å†™ä¸€æ¬¡æ–¹æ³•ï¼Œç„¶ååœ¨ä¸€ä¸ªæ–°å¯¹è±¡ä¸­ç»§æ‰¿ï¼ˆ<strong>inherit</strong>ï¼‰å®ƒï¼Œè€Œä¸å¿…ä¸ºæ–°å¯¹è±¡é‡å†™æ–¹æ³•ï¼Œå› ä¸º<code>call()</code> å‡½æ•°å…è®¸ä¸ºå±äºä¸€ä¸ªå¯¹è±¡çš„å‡½æ•°/æ–¹æ³•è¢«å¦å¤–ä¸€ä¸ªå¯¹è±¡è°ƒç”¨ï¼ˆæŒ‡å®š<code>this</code>ï¼‰</li></ul><h3 id="3e2ffbec-a808-466f-a3f8-fbe27dbf86fa" class="">3.2.3 ä¾‹å­</h3><ul id="f91c4005-0eba-45de-a739-cc46d8b933eb" class="bulleted-list"><li style="list-style-type:disc">ä¸‹è¿°ä¾‹å­<code>call()</code>å’Œ<code>apply()</code> é€šç”¨</li></ul><p id="006194cc-84a4-4b5c-8a8a-e6240106075d" class=""><strong>ç›—ç”¨æ„é€ å‡½æ•°</strong></p><ul id="0e802d24-d308-467d-807d-b9f6de40aa8e" class="bulleted-list"><li style="list-style-type:disc">åœ¨å®ç°æ„é€ å‡½æ•°çš„ç»§æ‰¿æ—¶ï¼Œå¯ä»¥åœ¨å­ç±»æ„é€ å‡½æ•°ä¸­é€šè¿‡<code>call()</code>è°ƒç”¨çˆ¶ç±»ä»¥ç»§æ‰¿çˆ¶ç±»çš„å®ä¾‹å±æ€§<pre id="4a6eca31-da67-4c6a-982f-a44b187733d2" class="code code-wrap"><code>function Product(name, price) {
  this.name = name;
  this.price = price;
}

function Food(name, price) {
  Product.call(this, name, price);
  this.category = &quot;food&quot;;
}
const food = new Food(&quot;è¾£æ¡&quot;, &quot;äº”æ¯›&quot;);
console.log(food); // Food { name: &#x27;è¾£æ¡&#x27;, price: &#x27;äº”æ¯›&#x27;, category: &#x27;food&#x27; }</code></pre></li></ul><h2 id="7e37cecc-5cde-4f38-aa7a-b9f30973484a" class="">3.3 <code>Function.prototype.bind()</code></h2><ul id="65133f64-7c57-4e0a-9216-c7265f36637d" class="bulleted-list"><li style="list-style-type:disc"><code>bind()</code> æ–¹æ³•èƒ½åˆ›å»ºå‡ºä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œè¿™ä¸ªå‡½æ•°å¯¹è±¡è¢«è°ƒç”¨æ—¶ï¼Œä½¿ç”¨<code>bind()</code> æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸ºçš„<code>this</code> å€¼ï¼Œè€Œå…¶ä½™å‚æ•°å°†ä½œä¸ºæ–°å‡½æ•°çš„å‚æ•°</li></ul><h3 id="9c82d226-91fe-499b-9114-7efc02e58cbf" class="">3.3.1 è¯­æ³•</h3><pre id="77268a84-bbd0-48c7-98d5-2393fb034a6f" class="code code-wrap"><code>bind(thisArg)
bind(thisArg, arg1);
bind(thisArg, arg1, arg2);
bind(thisArg, arg1, arg2, /*..., */ argN);</code></pre><ul id="98759cfa-e176-4075-b20f-95cf17537f18" class="bulleted-list"><li style="list-style-type:disc">å‚æ•°<ul id="998ff2dd-d53b-46d1-aebf-a374ab50c1d4" class="bulleted-list"><li style="list-style-type:circle"><code>thisArg</code> : åˆ›å»ºçš„æ–°å‡½æ•°å¯¹è±¡ç»‘å®šçš„<code>this</code> ï¼Œå¦‚æœå‡½æ•°ä¸æ˜¯åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹æ‰§è¡Œï¼Œä¼ é€’<code>null</code>å’Œ<code>undefined</code> ä¼šè¢«æ›¿æ¢ä¸ºå…¨å±€å¯¹è±¡ï¼ŒåŸå§‹å€¼ä¼šè¢«è½¬æ¢ä¸ºåŒ…è£…ç±»å‹ï¼›<a href="%E5%87%BD%E6%95%B0%EF%BC%88Function%EF%BC%89.html">å¦‚æœä½¿ç”¨</a><a href="%E5%87%BD%E6%95%B0%EF%BC%88Function%EF%BC%89.html"><code>new</code></a><a href="%E5%87%BD%E6%95%B0%EF%BC%88Function%EF%BC%89.html"> æ“ä½œç¬¦è°ƒç”¨ç»‘å®šå‡½æ•°ï¼Œè¿™ä¸ª</a><a href="%E5%87%BD%E6%95%B0%EF%BC%88Function%EF%BC%89.html"><code>this</code></a><a href="%E5%87%BD%E6%95%B0%EF%BC%88Function%EF%BC%89.html"> ä¼šè¢«å¿½ç•¥</a></li></ul><ul id="463e8346-522f-42f6-a29e-6fd6d57a77d8" class="bulleted-list"><li style="list-style-type:circle"><code>arg1, arg2, /*..., */ argN</code> :å¯é€‰å‚æ•°ï¼Œå½“ç»‘å®šå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œé¢„ç•™ç»™ç»‘å®šå‡½æ•°çš„å‚æ•°ï¼ˆ<strong>arguments</strong>ï¼‰</li></ul></li></ul><ul id="b44750a0-9e93-49eb-812c-c27a68b7b1a0" class="bulleted-list"><li style="list-style-type:disc">è¿”å›å€¼ï¼šç»‘å®šäº†<code>this</code>å’Œåˆå§‹åŒ–å‚æ•°çš„<strong>ç»‘å®šå‡½æ•°</strong>ï¼ˆ<strong>bound function</strong>ï¼‰</li></ul><h3 id="3e9cd70c-946e-4ebd-b5a5-ae72dd92ffc6" class="">3.3.2 ç†è§£<code>bind()</code></h3><ul id="f6a08587-757b-4c0e-b7d4-1463253c7024" class="bulleted-list"><li style="list-style-type:disc"><code>bind()</code> åˆ›å»ºçš„å‡½æ•°å¯¹è±¡å«åš<strong>ç»‘å®šå‡½æ•°</strong>ï¼ˆ<strong>bound function</strong>ï¼‰ï¼Œè€Œè°ƒç”¨<code>bind()</code> ç”Ÿæˆç»‘å®šå‡½æ•°çš„å‡½æ•°å«åš<strong>ç›®æ ‡å‡½æ•°</strong>ï¼ˆ<strong>target function</strong>ï¼‰ï¼›ç»‘å®šå‡½æ•°æœ¬è´¨ä¸ŠåŒ…è£…äº†ç›®æ ‡å‡½æ•°ï¼Œåœ¨è°ƒç”¨ç»‘å®šå‡½æ•°æ—¶å®é™…ä¸Šæ˜¯åœ¨è°ƒç”¨å®ƒ<strong>åŒ…è£…</strong>ï¼ˆ<strong>wrap</strong>ï¼‰çš„ç›®æ ‡å‡½æ•°</li></ul><ul id="c622af25-3c42-4b47-97b8-9c2ba8a9f3ca" class="bulleted-list"><li style="list-style-type:disc">ç»‘å®šå‡½æ•°æ²¡æœ‰<code>prototype</code> ï¼Œ<code>caller</code>ï¼Œ <code>arguments</code> å±æ€§ï¼Œå®ƒå­˜å‚¨ï¼ˆstoreï¼‰ç€ä¼ é€’ç»™<code>bind()</code> çš„å‚æ•°ï¼ŒåŒ…æ‹¬<code>this</code> å’Œå‰å‡ ä¸ª<code>arguments</code> ï¼ˆfirst few argumentsï¼‰ ä½œä¸º<strong>å†…éƒ¨çŠ¶æ€</strong>ï¼ˆ<strong>internal state</strong>ï¼‰ï¼›è¿™äº›å€¼æå‰å­˜å‚¨è€Œä¸æ˜¯åœ¨è°ƒç”¨æ—¶ä¼ é€’ï¼Œå®ƒçš„é€»è¾‘ç›¸å½“äºä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œå‡½æ•°ä½“ä¸­é€šè¿‡<code>call()</code>æˆ–<code>apply()</code> è°ƒç”¨ç›®æ ‡å‡½æ•°ï¼Œå¦‚ä¸‹<pre id="1861658c-f112-429f-96d4-c9dbd17056e8" class="code code-wrap"><code>const boundFn = fn.bind(thisArg, arg1, arg2)
// é€»è¾‘ä¸Šç­‰ä»·äº
const boundFn = (...restArgs) =&gt; {
	fn.call(thisArg, arg1, arg2, ...restArgs)
}</code></pre></li></ul><hr id="2cb58242-d818-4b89-9c2e-5b7c7b59f08e"/><ul id="dc572be9-540c-46c2-be76-21c319b73987" class="bulleted-list"><li style="list-style-type:disc">ç»‘å®šå‡½æ•°å¯ä»¥é€šè¿‡<code>boundFunc.bind(thisArg, /* more args */)</code><strong>è¢«è¿›ä¸€æ­¥ç»‘å®š</strong>ï¼ˆ<strong>be further bound</strong>ï¼‰,ä»è€Œåˆ›å»ºå¦å¤–ä¸€ä¸ªç»‘å®šå‡½æ•°<code>boundFunc2</code> ã€‚åŸºäºç»‘å®šå‡½æ•°çš„æ–°çš„ç»‘å®šå‡½æ•°ä½¿ç”¨çš„<code>this</code> ä»ç„¶æ˜¯åŸå§‹ç»‘å®šå‡½æ•°çš„<code>this</code> ï¼ˆå¿½ç•¥ä¼ é€’çš„<code>thisArg</code>ï¼‰ï¼Œå› ä¸º<code>boundFunc2</code> çš„ç›®æ ‡å‡½æ•°<code>boundFunc</code> å·²ç»ç»‘å®šäº†<code>this</code> ã€‚å½“è°ƒç”¨<code>boundFunc2</code> æ—¶ï¼Œç›¸å½“äºè°ƒç”¨<code>boundFunc</code> ï¼Œä¹Ÿå°±ç›¸å½“äºè°ƒç”¨<code>fn</code> (<code>boundFunc</code> çš„ç›®æ ‡å‡½æ•°)ã€‚<code>fn</code> <strong>æœ€ç»ˆ</strong>ï¼ˆ<strong>ultimately</strong>ï¼‰æ¥å—åˆ°çš„å‚æ•°ï¼ŒæŒ‰é¡ºåºæ˜¯ï¼š<code>boundFunc</code> ç»‘å®šçš„å‚æ•°ï¼Œ<code>boundFunc2</code> ç»‘å®šçš„å‚æ•°ï¼Œ<code>boundFunc2</code> æ¥å—åˆ°çš„å‚æ•°<pre id="2b746268-bae3-4423-b303-f38ddbdb52d1" class="code"><code>// è¿›ä¸€æ­¥ç»‘å®š
function fn() {
  console.log(this, ...arguments);
}

const boundFnc1 = fn.bind(&quot;this value&quot;, 2, 8);
const boundFnc2 = boundFnc1.bind(&quot;new this value&quot;, 4, 1);
boundFnc2.call(&quot;another this value&quot;, 3, 7); // [String: &#x27;this value&#x27;] 2 8 4 1 3 7</code></pre></li></ul><hr id="e0d2c278-6217-4aeb-9855-01d4b686f993"/><ul id="54575184-1727-4c1f-a0e1-a024e19dcd72" class="bulleted-list"><li style="list-style-type:disc">å¦‚æœç»‘å®šå‡½æ•°çš„ç›®æ ‡å‡½æ•°æ˜¯<strong>å¯æ„é€ çš„</strong>ï¼ˆ<strong>constructable</strong>ï¼‰ï¼Œé‚£ä¹ˆç»‘å®šå‡½æ•°ä¹Ÿå¯ä»¥ä½¿ç”¨<code>new</code> æ“ä½œç¬¦è¿›è¡Œè°ƒç”¨ï¼ˆå³ä½¿æ²¡æœ‰<code>prototype</code> å±æ€§ï¼‰ï¼Œè¿™å’Œä½¿ç”¨ç›®æ ‡å‡½æ•°æ„é€ ä¸€æ ·ï¼ˆæ–°å®ä¾‹çš„åŸå‹ä½¿ç”¨çš„ä¹Ÿæ˜¯ç›®æ ‡å‡½æ•°çš„<code>prototype</code>ï¼‰</li></ul><ul id="9cebefe1-ff65-4fd2-bcf7-4e9255a871f8" class="bulleted-list"><li style="list-style-type:disc">åŒç†ï¼Œåœ¨ä½¿ç”¨<code>new</code> æ“ä½œç¬¦è°ƒç”¨æ—¶ï¼Œä¹Ÿä¼šä¼ å…¥é¢„å…ˆä¿å­˜çš„å‚æ•°ï¼ˆargumentsï¼‰ï¼Œä½†æ˜¯<code>this</code> å°±ä¼šè¢«å¿½ç•¥ï¼ˆå› ä¸ºæ„é€ å™¨ä¼šå‡†å¤‡å®ƒè‡ªå·±çš„<code>this</code> ï¼Œå°±åƒ<a href="../9%20%E4%BB%A3%E7%90%86%E5%92%8C%E5%8F%8D%E5%B0%84(Proxy%20and%20Reflect)/1%20%E4%BB%A3%E7%90%86%E5%9F%BA%E7%A1%80/Reflect.html"><strong>Reflect.construct()</strong></a><strong> </strong>çš„å‚æ•°ï¼‰</li></ul><ul id="656f0ade-d8df-4f58-8393-a93a77531b7f" class="bulleted-list"><li style="list-style-type:disc">ä½¿ç”¨ç»‘å®šå‡½æ•°ç›´æ¥è¿›è¡Œæ„é€ ï¼Œé‚£ä¹ˆ<code>new.target</code> å°±æ˜¯ç›®æ ‡å‡½æ•°æœ¬èº«ï¼ˆè€Œä¸æ˜¯ç»‘å®šå‡½æ•°ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç»‘å®šå‡½æ•°å¯¹<code>new.target</code> æ“ä½œç¬¦è€Œè¨€æ˜¯<strong>é€æ˜çš„</strong>(<strong>transparent</strong>)<pre id="a6c33fe3-7446-43ad-8ddd-97086d9a3da8" class="code"><code>// ä½¿ç”¨ç»‘å®šå‡½æ•°ä½œä¸ºæ„é€ å‡½æ•°
function Base() {
  console.log(...arguments);
  console.log(new.target === Base);
  console.log(arguments.callee);
}

const BoundBase = Base.bind(null, 1, 2);
new BoundBase(3, 4); 
// æ‰“å°ç»“æœ
1 2 3 4
true
[Function: Base]</code></pre></li></ul><ul id="95bc4a4f-387c-465f-b525-d6a5963da47d" class="bulleted-list"><li style="list-style-type:disc">è™½ç„¶ç»‘å®šå‡½æ•°å¯ä»¥ä½œä¸ºæ„é€ å‡½æ•°ä½¿ç”¨ï¼Œä½†å› ä¸ºå®ƒæ²¡æœ‰<code>prototype</code> å±æ€§ï¼Œæ‰€ä»¥å®ƒä¸èƒ½è¢«ç”¨ä½œ<code>extends</code> æŒ‡å®šçš„åŸºç±»<figure class="block-color-red_background callout" style="white-space:pre-wrap;display:flex" id="5c1b4c8f-7353-4fbd-a99c-bc541b060980"><div style="font-size:1.5em"><span class="icon">ğŸš«</span></div><div style="width:100%">try {
  class Derived extends BoundBase {}
} catch (error) {
  console.log(error.toString()); 
	// TypeError: Class extends value does not have valid prototype property undefined
}</div></figure></li></ul><hr id="27b0aa58-eee0-4858-8905-5572a37a8952"/><ul id="41aabcd2-a7b3-4b3e-a731-2f0770cce7ea" class="bulleted-list"><li style="list-style-type:disc">å½“ç»‘å®šå‡½æ•°ä½œä¸º<code>instanceof</code> æ“ä½œç¬¦çš„å³ä¾§æ“ä½œæ•°æ—¶ï¼Œç›¸å½“äºä½¿ç”¨ç»‘å®šå‡½æ•°çš„ç›®æ ‡å‡½æ•°ä½œä¸ºå³ä¾§æ“ä½œæ•°ï¼ˆå³ç»‘å®šå‡½æ•°å†…éƒ¨å­˜å‚¨çš„å°±æ˜¯ç›®æ ‡å‡½æ•°ï¼‰ï¼›<code>instanceof</code> è¯»å–<code>prototype</code> å±æ€§æ—¶å°±ä¼šä½¿ç”¨ç›®æ ‡å‡½æ•°çš„<code>prototype</code><pre id="bd8e994a-3dd6-407c-bd7c-b2a17e2dc4c7" class="code"><code>class A {}
const B = A.bind(null, 1, 2);
const C = B.bind(null, 3, 4);
const a = new A();
const b = new B();
console.log(a instanceof B); // true
console.log(a instanceof C); // true
console.log(b instanceof A); // true
console.log(b instanceof C); // true</code></pre><ul id="5d05f1c6-8131-4d49-bf7e-86c7e18ef683" class="bulleted-list"><li style="list-style-type:circle">æœ¬è´¨ä¸Šï¼Œaå’Œbå°±æ˜¯Açš„å®ä¾‹ï¼Œè€Œ<code>instanceof</code>æ“ä½œç¬¦å³ä¾§çš„æ“ä½œæ•°çš„ç»‘å®šå‡½æ•°ä¼šè¢«çœ‹ä½œæœ€ç»ˆçš„ç›®æ ‡å‡½æ•°</li></ul></li></ul><hr id="22d2f292-e699-465f-a724-f4ddd67c36b0"/><ul id="f69345a7-c3dc-4d38-a495-ef012035c38d" class="bulleted-list"><li style="list-style-type:disc">ç»‘å®šå‡½æ•°çš„è‡ªæœ‰å±æ€§åªæœ‰<code>length</code>å’Œ<code>name</code>  <ul id="d5a98cfd-111b-4622-bacf-d1b09e6fe5a5" class="bulleted-list"><li style="list-style-type:circle"><code>length</code> : ç›®æ ‡å‡½æ•°çš„<code>length</code> å‡å»ç»‘å®šçš„å‚æ•°ä¸ªæ•°ï¼ˆä¸åŒ…å«<code>thisArg</code>ï¼‰,æœ€å°å€¼ä¸º0</li></ul><ul id="1ad09b7c-f69b-44da-89f4-a15a2d53784b" class="bulleted-list"><li style="list-style-type:circle"><code>name</code> ï¼š ç›®æ ‡å‡½æ•°çš„<code>name</code> åŠ ä¸Šâ€bound â€<strong>å‰ç¼€</strong>ï¼ˆ<strong>prefix</strong>ï¼‰</li></ul></li></ul><ul id="54dfc3cb-a10d-4b92-baa5-082e0f2d94f4" class="bulleted-list"><li style="list-style-type:disc">è€Œå®ƒçš„[[Prototype]]å±æ€§ç»§æ‰¿è‡ªç›®æ ‡å‡½æ•°çš„[[Prototype]]ï¼Œæ‰€ä»¥ç»‘å®šå‡½æ•°æ²¡æœ‰ç›®æ ‡å‡½æ•°çš„è‡ªæœ‰å±æ€§ï¼ˆä¾‹å¦‚æ„é€ å‡½æ•°çš„é™æ€å±æ€§ï¼‰ï¼Œä½†æ˜¯å¯ä»¥æœ‰ç›®æ ‡å‡½æ•°åŸå‹ä¸Šçš„å±æ€§<pre id="211b5163-0adc-4c02-b33c-ae3a8d22969e" class="code"><code>// ç»‘å®šå‡½æ•°çš„å±æ€§
class D {
  constructor(a, b, c, d) {}
  static {
    this.x = 1;
    this.y = 2;
  }
}
class E extends D {}
const BoundD = D.bind(null, 2);
const BoundE = E.bind(null, 2);
console.log(BoundE.__proto__ === E.__proto__); // true
console.log(BoundE.__proto__ === D); // true
console.log(BoundD.__proto__ === Function.prototype); // true
console.log(D.length); // 4
console.log(BoundD.length); // 3
console.log(BoundD.x); // undefined
console.log(BoundE.x); // 1</code></pre><ul id="0b755999-d684-4023-a03b-17f9a061e90e" class="bulleted-list"><li style="list-style-type:circle">Eç»§æ‰¿äºDï¼Œæ‰€ä»¥Eçš„[[Prototype]]å°±æ˜¯D</li></ul><ul id="cc148bde-e379-47fc-a6c4-2ff687fe0868" class="bulleted-list"><li style="list-style-type:circle">è€ŒBoundEçš„[[Prototype]]ç»§æ‰¿äºEï¼Œæ‰€ä»¥BoundEå¯ä»¥é€šè¿‡åŸå‹è®¿é—®åˆ°Dçš„xå±æ€§</li></ul></li></ul><h3 id="e77ec659-b99f-4701-ad75-876e0da499dd" class="">3.3.3 ä¾‹å­</h3><p id="2b17be02-abde-473c-9ed9-3c1c96095440" class=""><strong>åå‡½æ•°ï¼ˆ</strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind#partially_applied_functions"><strong>Partially applied functions</strong></a><strong>ï¼‰</strong></p><ul id="45cd12ee-6c9f-4fe8-81a6-7cee1b94d280" class="bulleted-list"><li style="list-style-type:disc">åå‡½æ•°æœ¬è´¨ä¸Šå°±æ˜¯é¢„å­˜äº†åˆå§‹å‚æ•°çš„ç»‘å®šå‡½æ•°</li></ul><ul id="bf44dd5d-64fb-4e0e-8b00-dc81a5e4a82c" class="bulleted-list"><li style="list-style-type:disc">é¢„è®¾çš„å‚æ•°ä½œä¸º<code>bind()</code> çš„å‚æ•°å†™åœ¨<code>this</code> åé¢ï¼Œå½“ç»‘å®šå‡½æ•°è°ƒç”¨æ—¶ï¼Œè¿™äº›å‚æ•°ä¼šè¢«æ’å…¥åˆ°ç›®æ ‡å‡½æ•°çš„å‚æ•°åˆ—è¡¨çš„å¼€å§‹ä½ç½®ï¼Œä¼ é€’ç»™ç»‘å®šå‡½æ•°çš„å‚æ•°ä¼šè·Ÿåœ¨å®ƒä»¬åé¢<pre id="8982395f-3283-4db6-8171-ea134f19b21d" class="code"><code>function list(...args) {
  return args;
}
console.log(list(1, 2, 3)); // [1, 2, 3]
const leading37List = list.bind(null, 37);
console.log(leading37List(1, 2, 3)); // [37,1,2,3]</code></pre></li></ul><p id="231f6673-00bf-4a00-bf76-970acbdf5ff1" class=""><strong>é…åˆ</strong><code><strong>setTimeout</strong></code></p><ul id="56d1d193-80fb-4058-b187-0ae94aaea889" class="bulleted-list"><li style="list-style-type:disc"><code>setTimeout</code> å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å›è°ƒå‡½æ•°ï¼Œå®ƒåœ¨ä¸€æ®µæ—¶é—´åè¢«è°ƒç”¨ï¼Œä½†æ˜¯å›è°ƒå‡½æ•°çš„<code>this</code> å…³é”®å­—ä¼šæŒ‡å‘å…¨å±€å¯¹è±¡</li></ul><ul id="3a647979-638a-4a93-adcd-bd2aac153fa4" class="bulleted-list"><li style="list-style-type:disc">å½“ä¸€ä¸ªç±»æˆ–æ„é€ å‡½æ•°ä¸­ä½¿ç”¨<code>setTimeout</code> æ—¶ï¼Œéœ€è¦å›è°ƒå‡½æ•°çš„<code>this</code> ä¿è¯ä¸ºå®ä¾‹ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨<code>bind()</code> æ„é€ ä¸€ä¸ªåŒ…è£…å›è°ƒå‡½æ•°å¹¶æŒ‡å®š<code>this</code> çš„å€¼(ä½¿ç”¨ç®­å¤´å‡½æ•°ä¹Ÿå¯ä»¥è§£å†³)<pre id="7ab7acee-c335-4d27-9037-5688dab671b1" class="code"><code>function LateBloomer() {
  this.petalCount = Math.ceil(Math.random() * 12) + 1;
}
LateBloomer.prototype.bloom = function () {
  // 1ç§’åæ‰§è¡Œdecalre
  setTimeout(this.declare.bind(this), 1000);
};
LateBloomer.prototype.declare = function () {
  console.log(`æˆ‘æ˜¯æœ‰${this.petalCount}æœµèŠ±ç“£çš„é²œèŠ±`);
};
const flower = new LateBloomer();
flower.bloom(); // æˆ‘æ˜¯æœ‰10æœµèŠ±ç“£çš„é²œèŠ±  (æ•°é‡å…·æœ‰éšæœºæ€§)</code></pre><ul id="db9e9c22-4f90-450e-8bcd-0354b5720174" class="bulleted-list"><li style="list-style-type:circle">å¦‚æœ<code>setTimeout(this.declare.bind(this), 1000);</code> ä¸ä½¿ç”¨ç»‘å®šå‡½æ•°ç»‘å®šå½“å‰ä¸Šä¸‹æ–‡<code>this</code> ï¼Œåç»­å›è°ƒæ‰§è¡Œä¼šä½¿ç”¨å…¨å±€å¯¹è±¡å¯¼è‡´<code>this.petalCount</code> å±æ€§ä¸º<code>undefined</code> è€Œæ‰“å°å‡ºâ€æˆ‘æ˜¯æœ‰undefinedæœµèŠ±ç“£çš„é²œèŠ±â€œ</li></ul></li></ul><p id="d51bbe31-6fef-4168-a901-52a3f6f5c290" class=""><strong>ä½¿ç”¨ç»‘å®šå‡½æ•°ä½œä¸ºæ„é€ å‡½æ•°çš„ä¼˜åŠ£</strong></p><ul id="07f1debe-2a69-4cdc-b739-f6070e6c30ca" class="bulleted-list"><li style="list-style-type:disc">ç»‘å®šå‡½æ•°å¯ä»¥ä½œä¸ºæ„é€ å‡½æ•°ä½¿ç”¨ï¼Œä½¿ç”¨<code>new</code> è°ƒç”¨ç»‘å®šå‡½æ•°åˆ›å»ºçš„å®ä¾‹ç›¸å½“äºä½¿ç”¨<code>new</code> è°ƒç”¨ç›®æ ‡å‡½æ•°</li></ul><ul id="92d0674a-a05e-4963-837a-b21cc8366b85" class="bulleted-list"><li style="list-style-type:disc">ä½¿ç”¨ç»‘å®šå‡½æ•°çš„ä¼˜åŠ£æ˜¯<ul id="8aa09d65-5deb-4d8e-a4c5-fc44e9e2dd6b" class="bulleted-list"><li style="list-style-type:circle">å¥½å¤„ï¼šå¯ä»¥é¢„ç•™å‚æ•°ï¼Œä½¿å¾—ç»‘å®šå‡½æ•°å¯ä»¥æ–¹ä¾¿åˆ›å»ºçš„ç‰¹æ®Šå®ä¾‹ï¼›å¹¶ä¸”<code>new</code> ï¼Œ<code>new.target</code> ï¼Œ<code>instanceof</code> ,<code>this</code> ç­‰æ“ä½œç¬¦éƒ½èƒ½æŒ‰ç…§é¢„æœŸä½¿ç”¨</li></ul><ul id="cb851c05-ec01-47b8-baee-47508294b712" class="bulleted-list"><li style="list-style-type:circle">åå¤„ï¼šä¸èƒ½ä½¿ç”¨<code>extends</code> ç»§æ‰¿ç»‘å®šå‡½æ•°</li></ul><pre id="1fa7fd16-36e7-4689-8114-c6f1863a1bbf" class="code"><code>class Point {
  constructor(x, y) {
    this.x = x;
    this.y = y;
  }
}
Point.prototype.toString = function () {
  return `${this.x},${this.y}`;
};

const YAxisPoint = Point.bind(null, 0);
const p = new Point(2, 5);
const p2 = new YAxisPoint(3);
console.log(p.toString()); // 2,5
console.log(p2.toString()); // 0,3</code></pre><ul id="097c4791-3e63-44b7-bdc0-ceb8482f1048" class="bulleted-list"><li style="list-style-type:circle">YAxisPoint ç»‘å®šå‡½æ•°åªèƒ½åˆ›å»ºåœ¨Yè½´ä¸Šçš„ç‚¹ï¼ˆæ–¹ä¾¿åˆ›å»ºç‰¹æ®Šå®ä¾‹ï¼‰</li></ul></li></ul><p id="8ba03363-4915-433c-9abe-dc7a1de2eea1" class=""><strong>å¿«æ·è°ƒç”¨ï¼ˆ</strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind#transforming_methods_to_utility_functions"><strong>Transforming methods to utility functions</strong></a><strong>ï¼‰</strong></p><ul id="e2ab0265-6ac7-4ce5-902e-e98fb3515489" class="bulleted-list"><li style="list-style-type:disc"><code>bind()</code> æ–¹æ³•å¯ä»¥å¾ˆå¥½çš„å°†éœ€è¦æŒ‡å®š<code>this</code> çš„å¯¹è±¡æ–¹æ³•è½¬æ¢ä¸ºä¸€ä¸ª<strong>æ™®é€šçš„å®ç”¨å‡½æ•°</strong>ï¼ˆ<strong>plain utility function</strong>ï¼‰</li></ul><ul id="c10f2250-e361-4c82-95fd-3dba9a158ac7" class="bulleted-list"><li style="list-style-type:disc">ä¸€èˆ¬è€Œè¨€ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªå˜é‡ä¿å­˜å¯¹è±¡çš„æ–¹æ³•ï¼Œè¿™ä¸ªå˜é‡éœ€è¦æŒ‡å®š<code>this</code> è¿›è¡Œè°ƒç”¨ï¼Œå› æ­¤éœ€è¦é€šè¿‡<code>call()</code>æˆ–<code>apply()</code> é—´æ¥è°ƒç”¨ï¼Œä¾‹å¦‚<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice"><code>Array.prototype.slice()</code></a> æ–¹æ³•å¯ä»¥æŒ‡å®šç±»æ•°ç»„å¯¹è±¡ä¸º<code>this</code> ä»è€Œåˆ›å»ºå¯¹åº”çš„æ•°ç»„å½¢å¼ï¼Œå¦‚ä¸‹<pre id="47359c3f-6ed8-44be-9eee-575852a2ee36" class="code"><code>const slice = Array.prototype.slice;
const arrLikeObj = {
  1: 0,
  2: 5,
  0: 2,
  3: 7,
  length: 4,
};
console.log(slice.apply(arrLikeObj)); // [ 2, 0, 5, 7 ]</code></pre><ul id="e7054a90-1d0c-469d-9a15-4dcae81d5568" class="bulleted-list"><li style="list-style-type:circle">è¿™é‡Œç›¸å½“äº<code>arrLikeObj</code> è°ƒç”¨<code>slice()</code> è·å¾—äº†å¯¹åº”çš„æ•°ç»„</li></ul></li></ul><ul id="ad94723e-d4c2-4037-94df-96729c4fa4d1" class="bulleted-list"><li style="list-style-type:disc">æ¯æ¬¡è°ƒç”¨éƒ½éœ€è¦ä½¿ç”¨<code>apply()</code> æˆ–<code>call()</code> é—´æ¥è°ƒç”¨ï¼Œæ—¢ç„¶æ¯æ¬¡éƒ½æ˜¯é€šè¿‡è°ƒç”¨<code>slice</code> çš„<code>apply()</code> æ–¹æ³•ï¼ˆå³<code>apply()</code> æ–¹æ³•çš„<code>this</code> å€¼ä¸€ç›´æ˜¯<code>slice</code>å‡½æ•°å¯¹è±¡ï¼‰ï¼Œæ‰€ä»¥å¯ä»¥ä¸º<code>apply()</code> åˆ›å»ºä¸€ä¸ªç»‘å®šäº†<code>slice</code> çš„ç»‘å®šå‡½æ•°ï¼Œè¿™æ ·å°±å¯ä»¥åªä¼ é€’<code>this</code> å€¼ï¼ˆç±»æ•°ç»„å¯¹è±¡ï¼‰å°±èƒ½è·å–å¯¹åº”çš„æ•°ç»„äº†ï¼Œå¦‚ä¸‹<pre id="65a5bf39-a99d-44b7-a3fb-0a293f3b0f7e" class="code"><code>const slice2 = Function.prototype.apply.bind(Array.prototype.slice);
console.log(slice2(arrLikeObj)); // [ 2, 0, 5, 7 ]</code></pre><ul id="3ff83ee9-f98b-4803-92da-a5ff70d92bed" class="bulleted-list"><li style="list-style-type:circle"><code><strong>Function.prototype.apply.bind(Array.prototype.slice);</strong></code><strong> </strong>åˆ›å»ºäº†ä¸€ä¸ª<code>apply()</code> çš„ç»‘å®šå‡½æ•°ï¼Œæ‰§è¡Œè¿™ä¸ªç»‘å®šå‡½æ•°ç›¸å½“äºæ‰§è¡Œç»™å®šäº†<code>this</code> å€¼çš„<code>apply()</code> å‡½æ•°ï¼Œè€Œ<code>apply()</code> å‡½æ•°æœ¬èº«çš„åŠŸèƒ½å°±æ˜¯æ‰§è¡Œ<code>this</code> å‡½æ•°å¯¹è±¡ï¼ˆè°ƒç”¨applyå‡½æ•°çš„å‡½æ•°å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä¼ é€’ç»™<code>this</code> å‡½æ•°å¯¹è±¡çš„<code>thisArg</code>ï¼‰ï¼Œæ‰€ä»¥å°±ç›¸å½“äºæ‰§è¡Œ<code>this</code> å‡½æ•°å¯¹è±¡ï¼ˆå³<code><strong>Array.prototype.slice</strong></code>ï¼‰ï¼›è€Œä¼ é€’ç»™ç»‘å®šå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå°±æ˜¯è°ƒç”¨ç›®æ ‡å‡½æ—¶ä¼ é€’ç»™<code>apply()</code> å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°å°±æ˜¯<code>thisArg</code> ï¼Œå³æ‰§è¡Œ<code><strong>Array.prototype.slice</strong></code><strong> </strong>æ—¶æŒ‡å®šçš„<code>thisArg</code></li></ul></li></ul><h2 id="bdf99ad0-e725-42d4-8c67-c708d142110f" class="">3.4 <code>Function.prototype.toString()</code></h2><ul id="da3b7e2d-560e-4fab-9761-015b4f7390ca" class="bulleted-list"><li style="list-style-type:disc">è¿”å›è¡¨ç¤ºå‡½æ•°å¯¹è±¡æºä»£ç çš„å­—ç¬¦ä¸²ï¼Œæ¯ä¸ªå¼•æ“çš„è¿”å›å€¼å¯èƒ½æœ‰æ‰€åŒºåˆ«</li></ul><h3 id="27aab9ec-c78b-4fc0-8f6b-ce5883861ca9" class="">3.4.1 è¯­æ³•</h3><pre id="c992bb22-e867-42d7-964f-e0f44ccd6b04" class="code code-wrap"><code>toString()</code></pre><ul id="f23e7f22-9567-4c08-8290-8b10d9988802" class="bulleted-list"><li style="list-style-type:disc">è¿”å›å€¼ï¼šè¡¨ç¤ºï¼ˆ<strong>representing</strong>ï¼‰å‡½æ•°å¯¹è±¡çš„<strong>æºä»£ç </strong>ï¼ˆ<strong>source code</strong>ï¼‰çš„å­—ç¬¦ä¸²</li></ul><h3 id="b8b35954-e268-4207-a201-6dc96aac240e" class="">3.4.2 ç†è§£<code>toString()</code></h3><ul id="b969840c-7b68-4cfe-8a35-5924910f9d8b" class="bulleted-list"><li style="list-style-type:disc"><code>Function</code> åœ¨åŸå‹ï¼ˆprototypeï¼‰ä¸Š<strong>é‡å†™</strong>ï¼ˆ<strong>overrides</strong>ï¼‰äº†ç»§æ‰¿è‡ª<code>Object</code> åŸå‹ï¼ˆ<code>prototype</code> ï¼‰ä¸Šçš„<code>toString()</code> æ–¹æ³•ï¼Œå¯¹äºå¼€å‘è€…å®šä¹‰çš„å‡½æ•°è€Œè¨€ï¼Œè°ƒç”¨å‡½æ•°å¯¹è±¡çš„<code>toString()</code> æ–¹æ³•ä¼šè¿”å›å®šä¹‰å‡½æ•°æ—¶åœ¨å‡½æ•°ä½“ä¸­ç¼–å†™çš„<strong>æºæ–‡æœ¬æ®µ</strong>ï¼ˆ<strong>source text segment</strong>ï¼‰</li></ul><ul id="560029e7-dcfd-4dcd-8322-76fe409f0386" class="bulleted-list"><li style="list-style-type:disc">å½“å‡½æ•°å¯¹è±¡æœŸæœ›ä½œä¸ºä¸€ä¸ªæ–‡æœ¬å€¼æ—¶ï¼Œä¼šè‡ªåŠ¨ï¼ˆautomaticallyï¼‰è°ƒç”¨<code>toString()</code> è¿›è¡Œè½¬æ¢ï¼Œä¾‹å¦‚ä½¿ç”¨åŠ æ³•æ“ä½œç¬¦è¿æ¥å‡½æ•°å¯¹è±¡å’Œå­—ç¬¦ä¸²æ—¶</li></ul><ul id="828b363a-071a-4e70-a403-b2cf050031a3" class="bulleted-list"><li style="list-style-type:disc">åˆ©ç”¨<code>apply()</code> æˆ–<code>call()</code> ç­‰æ–¹æ³• åœ¨<strong>ä¸å…¼å®¹</strong>ï¼ˆ<strong>incompatible</strong>ï¼‰çš„å¯¹è±¡ä¸Šè°ƒç”¨å‡½æ•°çš„<code>toString()</code> æ–¹æ³•ä¼šæŠ›å‡º<code>TypeError</code>å¼‚å¸¸ï¼ˆå³<code>toString()</code>æ–¹æ³•çš„<code>this</code> å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼‰<figure class="block-color-red_background callout" style="white-space:pre-wrap;display:flex" id="6e1e38b2-f13b-45ca-ae5a-2873d4e46e8b"><div style="font-size:1.5em"><span class="icon">ğŸš«</span></div><div style="width:100%">Function.prototype.toString.call(&quot;foo&quot;); // TypeError: Function.prototype.toString requires that &#x27;this&#x27; be a Function</div></figure></li></ul><hr id="5cbbb318-61b3-440e-a88a-ff251bb23cf3"/><ul id="595d7ff1-9938-491b-8354-cbaa66f47686" class="bulleted-list"><li style="list-style-type:disc">è°ƒç”¨å†…ç½®å‡½æ•°å¯¹è±¡ã€ç»‘å®šå‡½æ•°ã€éJavaScriptå‡½æ•°å¯¹è±¡çš„<code>toString()</code> çš„æ–¹æ³•ï¼Œ<code>toString()</code> ä¼šè¿”å›<strong>åŸç”Ÿå‡½æ•°ä»£ç å­—ç¬¦ä¸²ï¼ˆ</strong><strong><em>native function string</em></strong><strong>ï¼‰ï¼Œ</strong>å¦‚ä¸‹<pre id="46aea518-dbd3-4414-b97c-f88def96274a" class="code code-wrap"><code>&quot;function someName() { [native code] }&quot;</code></pre><pre id="6a23d92b-c1ff-4162-b207-cc014acd028f" class="code code-wrap"><code>console.log(Math.pow.toString()); // function pow() { [native code] }
console.log(Array.prototype.slice.toString()); // function slice() { [native code] }</code></pre><pre id="a63ab90e-817c-4f51-b053-6765bb0fb231" class="code code-wrap"><code>function func() {
  return false;
}
const boundFunc = func.bind(null, 1);
console.log(boundFunc.toString()); // function () { [native code] }</code></pre><ul id="1b53d827-d187-4e52-9cc9-c9ef152d1a03" class="bulleted-list"><li style="list-style-type:circle">æ‰€æœ‰ç»‘å®šå‡½æ•°è°ƒç”¨<code>toString()</code> éƒ½æ²¡æœ‰<code>someName</code> </li></ul></li></ul><hr id="56ecc546-a07e-4b4d-a810-61033e4682ec"/><ul id="50e6072a-2dab-46ba-a191-5ac9e69a1ae3" class="bulleted-list"><li style="list-style-type:disc">å¯¹äº<strong>å†…éƒ¨</strong>ï¼ˆ<strong>intrinsic</strong>ï¼‰å¯¹è±¡æ–¹æ³•å’Œå‡½æ•°ï¼Œ<code>someName</code> æ˜¯å‡½æ•°çš„åˆå§‹åç§°ï¼›å¦åˆ™å°±æ˜¯<strong>å®ç°å®šä¹‰</strong>ï¼ˆ<strong>implementation-defined</strong>ï¼‰çš„åç§°ï¼Œä½†æ˜¯å§‹ç»ˆä»¥å±æ€§åç§°è¯­æ³•å‘ˆç°ï¼Œå¦‚<code>[1+1]</code> ã€1<pre id="e6433195-98ef-41fe-9f83-2cf51f057f38" class="code code-wrap"><code>// å†…éƒ¨(intrinsic)å¯¹è±¡
const obj = {
  [1 + 2]() {
    return false;
  },
  [Symbol.hasInstance]: function Name() {
    return false;
  },
};
console.log(obj[3].toString()); //
[1 + 2]() {
    return false;
  }
console.log(obj[Symbol.hasInstance].toString());
function Name() {
    return false;
  }</code></pre><ul id="f4876f72-5fbe-4401-a659-8c30401c8b04" class="bulleted-list"><li style="list-style-type:circle">æ³¨æ„æ‰“å°å‡ºæ¥çš„å­—ç¬¦ä¸²<strong>ç¼©è¿›</strong>å’Œ<strong>æ¢è¡Œ</strong>æ˜¯å®Œå…¨æŒ‰ç…§ç¼–å†™ä»£ç æ—¶çš„ç¼©å‡å’Œæ¢è¡Œç¡®å®šçš„</li></ul><ul id="089d089e-144e-4bf1-9361-353b67515e75" class="bulleted-list"><li style="list-style-type:circle">æ‰“å°å‡ºæ¥çš„å‡½æ•°å¯¹è±¡çš„åç§°ä¹ŸæŒ‰ç…§å®šä¹‰æ–¹æ³•çš„æ¨¡å¼</li></ul></li></ul><figure class="block-color-blue_background callout" style="white-space:pre-wrap;display:flex" id="8c9fef76-a1ee-4214-83e1-e545a2dc5d7e"><div style="font-size:1.5em"><span class="icon">ğŸ’¡</span></div><div style="width:100%">æ³¨æ„ï¼šè¿™æ„å‘³ç€å¯¹åŸç”Ÿå‡½æ•°çš„å­—ç¬¦ä¸²è°ƒç”¨<code>eval()</code> å°†å§‹ç»ˆäº§ç”Ÿè¯­æ³•é”™è¯¯ï¼ˆå³å°†å†…éƒ¨å¯¹è±¡æ–¹æ³•å’Œå‡½æ•°çš„<code>toString()</code> ç»“æœä½œä¸º<code>eval()</code> çš„å‚æ•°è¿›è¡Œå‡½æ•°å£°æ˜ç¼–ç ï¼Œä¼šå› ä¸ºè¯­æ³•é”™è¯¯æŠ›å‡ºå¼‚å¸¸ï¼‰</div></figure><hr id="56ea3977-ad51-4bf7-84f3-b010979b488b"/><ul id="eb366f1c-f0b9-4b28-a4c2-fce95bc80e50" class="bulleted-list"><li style="list-style-type:disc">ä½¿ç”¨<code>Function</code> æ„é€ å‡½æ•°åˆ›å»ºçš„å‡½æ•°å¯¹è±¡è°ƒç”¨<code>toString()</code> ä¼šè¿”å›åˆ›å»ºåçš„å‡½æ•°æºç ï¼ŒåŒ…å«å½¢å‚å’Œå‡½æ•°ä½“ï¼Œå‡½æ•°åç§°ä¸ºâ€œanonymousâ€ï¼ˆåŒ¿åï¼‰<pre id="009f9d3d-0d4f-493d-bf89-bf7f694a287e" class="code code-wrap"><code>// æ„é€ å‡½æ•°åˆ›å»ºçš„å‡½æ•°å¯¹è±¡
const sum = new Function(&quot;num1&quot;, &quot;num2&quot;, &quot;return num1 + num2&quot;);
console.log(sum.toString());
// æ‰“å°ç»“æœ
function anonymous(num1,num2
) {
return num1 + num2
}</code></pre></li></ul><ul id="d3870618-8f08-4062-8f40-9a2b258a0116" class="bulleted-list"><li style="list-style-type:disc">å…³äº<code>Function</code>æ„é€ å‡½æ•°åˆ›å»ºçš„å‡½æ•°å¯¹è±¡ï¼Œå¯ä»¥æŸ¥çœ‹ä¸Šé¢çš„<a href="%E5%87%BD%E6%95%B0%EF%BC%88Function%EF%BC%89.html">åŠ¨æ€ç¼–è¯‘</a></li></ul><hr id="b59d2429-2c18-4df4-99dc-2c631e9bd223"/><ul id="8cea12df-17fb-432b-b81d-07ce565b22b5" class="bulleted-list"><li style="list-style-type:disc">ä»ES2018å¼€å§‹è§„èŒƒè¦æ±‚<code>toString()</code> çš„è¿”å›å€¼ä¸å£°æ˜çš„<strong>æºä»£ç å®Œå…¨ç›¸åŒ</strong>ï¼ˆ<strong>exact same source code</strong>ï¼‰ï¼ŒåŒ…æ‹¬ä»»ä½•çš„ç©ºæ ¼ï¼Œæ¢è¡Œå’Œ<strong>æ³¨é‡Š</strong>ï¼ˆ<strong>comments</strong>ï¼‰ï¼›å¦‚æœå› ä¸ºæŸç§åŸå› ä¸»æœºï¼ˆ<strong>host</strong>ï¼‰æ²¡æœ‰æºä»£ç ï¼Œåˆ™è¦æ±‚è¿”å›ä¸€ä¸ª<strong>åŸç”Ÿå‡½æ•°ä»£ç å­—ç¬¦ä¸²ï¼ˆ</strong><strong><em>native function string</em></strong><strong>ï¼‰</strong></li></ul><ul id="99023bd8-f12f-4cdb-9128-48e63ad5aca0" class="bulleted-list"><li style="list-style-type:disc">å…³äºè¿™ä¸€è¡Œä¸º(<strong>ImplementsÂ </strong><code><strong>Function.prototype.toString</strong></code><strong>Â revision, toStringå®ç°ä¿®è®¢</strong>)æ”¯æŒçš„æƒ…å†µå¯ä»¥æŸ¥çœ‹MDNä¸Šçš„<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/toString#browser_compatibility">æµè§ˆå™¨å…¼å®¹æ€§</a> ï¼ˆ2022/10/19æ˜¾ç¤ºNodeï¼ŒDenoå’ŒSafariä¸æ”¯æŒè¿™ä¸€è¡Œä¸ºï¼‰</li></ul><h3 id="73d5f29b-c0ac-4d46-9a5b-3d9762366283" class="">3.4.3 ä¾‹å­</h3><p id="2fab5f72-a6b3-484c-95fc-b858aac4349c" class="">é€šè¿‡<strong>æ¨¡æ¿å­—ç¬¦ä¸²</strong>ï¼ˆ<strong>template literal</strong>ï¼‰è·å–å‡½æ•°å¯¹è±¡çš„<strong>æºæ–‡æœ¬</strong>ï¼ˆ<strong>source text</strong>ï¼‰ï¼Œä½¿ç”¨<code>${}</code> è¯­æ³•ä¼šæŠŠå‡½æ•°å¯¹è±¡å¼ºåˆ¶è½¬æ¢ä¸ºå¯¹åº”çš„å­—ç¬¦ä¸²</p><pre id="f0448901-ebcc-421a-8122-f70f5ceea5bd" class="code code-wrap"><code>function foo() {
  /* æˆ‘æ˜¯æ³¨é‡Š */
  return &quot;bar&quot;;
}
console.log(`${foo}`);
// æ‰“å°ç»“æœ
`function foo() {
  /* æˆ‘æ˜¯æ³¨é‡Š */
  return &quot;bar&quot;;
}`</code></pre><p id="9d20ba6d-564a-4fdc-90e8-71e3095d4cc8" class="">å®é™…æºä»£ç ä¸<code>toString()</code> ç»“æœ</p><ul id="ce43d16e-d22e-4ef5-b0d3-cfeadc50620e" class="bulleted-list"><li style="list-style-type:disc">åœ¨<code>Function.prototype.toString()</code> è¡Œä¸ºå˜æ›´ï¼ˆES2018çš„<strong>ImplementsÂ </strong><code><strong>Function.prototype.toString</strong></code><strong>Â revision</strong>ï¼‰åï¼Œåœ¨è°ƒç”¨<code>toString()</code> æ—¶ï¼Œè¯¥æ–¹æ³•çš„å®ç°ä¸å…è®¸åœ¨å‡½æ•°å¯¹è±¡ä¸æ˜¯<strong>åŸç”Ÿå‡½æ•°</strong>ï¼ˆ<strong>native function</strong>ï¼‰æ—¶<strong>åˆæˆ</strong>ï¼ˆ<strong>synthesize</strong>ï¼‰å‡½æ•°çš„æºç ï¼ˆæ„æ€å°±æ˜¯è¯´åŸç”Ÿå‡½æ•°å¯ä»¥ä½¿ç”¨<strong>åŸç”Ÿå‡½æ•°ä»£ç å­—ç¬¦ä¸²</strong>åˆæˆå‡½æ•°æºç è¿”å›ï¼Œè€Œè‡ªå®šä¹‰çš„å‡½æ•°å¿…é¡»è¿”å›å®šä¹‰æ—¶ç¡®åˆ‡çš„æºä»£ç ï¼‰</li></ul><ul id="a8985569-5491-4401-b17a-47091f55a593" class="bulleted-list"><li style="list-style-type:disc">æ–¹æ³•å§‹ç»ˆè¿”å›åˆ›å»ºå‡½æ•°æ—¶ä½¿ç”¨çš„<strong>ç¡®åˆ‡çš„æºä»£ç ï¼ˆexact source codeï¼‰ï¼Œ</strong>é€‚ç”¨äºsetterä¸ªgetterï¼Œè€Œ<code>Function</code>æ„é€ å‡½æ•°æœ¬èº«å…·æœ‰åˆæˆå‡½æ•°æºä»£ç çš„èƒ½åŠ›<pre id="00b20514-cbe2-4eaa-bcf1-c2e86aed67f8" class="code code-wrap"><code>// å®é™…æºä»£ç ä¸toString()ç»“æœ
function test(fn) {
  console.log(fn.toString());
}

test(function f() {}); // function f() {}
test(function* g() {}); // function* g() {}
test(class A {}); // class A {}

test((a, ...args) =&gt; console.log(a, args)); // (a, ...args) =&gt; console.log(a, args)

test({ [0]() {} }[0]); // [0]() {}
test({ [0]: function () {} }[0]); // function () {}

test(Object.getOwnPropertyDescriptor({ get a() {} }, &quot;a&quot;).get); // get a() {}
test(
  Object.getOwnPropertyDescriptor(
    {
      /**
       * @param {any} _val
       */
      set a(_val) {},
    },
    &quot;a&quot;
  ).set
); // set a(_val) {}

test(Function.prototype.toString); // function toString() { [native code] }

test(function f() {}.bind(null)); // function () { [native code] }

test(Function(&quot;a&quot;, &quot;b&quot;));

// function anonymous(a
// ) {
// b
// }</code></pre></li></ul><p id="a4e9f7c6-1e6d-4fc5-babd-02884f2afcab" class="">
</p></div></div><p id="8852ea90-1c62-41a7-a6c8-170beae6b615" class="">
</p></div></article></body></html>