<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>3 ç”Ÿæˆå™¨ï¼ˆGeneratorï¼‰</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-opaquegray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style><link rel="stylesheet" href="../../style.css"></head><body><article id="d1ecc532-3b6e-41ae-8bd3-f082cf2f78f2" class="page sans"><header><img class="page-cover-image" src="https://www.notion.so/images/page-cover/nasa_eva_during_skylab_3.jpg" style="object-position:center 40%"/><div class="page-header-icon page-header-icon-with-cover"><span class="icon">ğŸ›‹ï¸</span></div><h1 class="page-title">3 ç”Ÿæˆå™¨ï¼ˆGeneratorï¼‰</h1></header><div class="page-body"><p id="2845f94d-8aa5-4017-a8be-17fe59527058" class="">ç”Ÿæˆå™¨æ˜¯ECMAScript 6æ–°å¢çš„<strong>æä¸ºçµæ´»</strong>çš„ç»“æ„ï¼Œæ‹¥æœ‰åœ¨ä¸€ä¸ªå‡½æ•°å—å†…æš‚åœå’Œæ¢å¤ä»£ç æ‰§è¡Œçš„èƒ½åŠ›ï¼›ä½¿ç”¨ç”Ÿæˆå™¨å¯ä»¥<strong>è‡ªå®šä¹‰è¿­ä»£å™¨å’Œå®ç°åç¨‹</strong></p><div id="e47f6d5b-5300-48a8-98ea-90ca7e7b9c4b" class="column-list"><div id="f68a2244-9db8-40b6-a4b1-03038d90054d" style="width:12.5%" class="column"><nav id="cf30976a-aad8-43bf-9e7a-db33e237161b" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#6e35d438-5434-4127-849d-bffb024564f2">3.1 ç”Ÿæˆå™¨åŸºç¡€</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#145862c6-47fc-4be3-824a-e40aee1d5099">3.1.1 ç”Ÿæˆå™¨çš„åŸºæœ¬è¯­æ³•</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#0f17dcd6-72d0-4d95-bfaa-caca32d30d8a">3.1.2 ç”Ÿæˆå™¨çš„ä½¿ç”¨åŸåˆ™</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#fec187fe-72cf-4ae3-83f4-1e197f9b565c">3.1.3 ç”Ÿæˆå™¨å¯¹è±¡</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#d5d2e9c8-772f-48a8-b478-068c4cc65fab">3.1.3.1 ç”Ÿæˆå™¨å¯¹è±¡çš„è¿”å›å€¼</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#d21179f9-b234-4c76-af19-0d4820000db2">3.1.3.2 ç”Ÿæˆå™¨å‡½æ•°ä¸­è¯­å¥çš„æ‰§è¡Œ</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#5c17c618-4db7-4691-be2b-8e8d0f3d3330">3.1.3.3 ç”Ÿæˆå™¨çš„è‡ªå¼•ç”¨</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#ec003c39-659f-4883-9651-a8501e10b2df">3.2 yieldè¯­å¥</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#a8c9a126-c3ab-4e8d-b3e3-cf4e2d053a18">3.2.1 yieldçš„åŸºæœ¬ä½¿ç”¨</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#2db871c8-1e98-459f-9de3-b4b112985ced">3.2.2 yieldè¯­å¥è§„åˆ™</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#dc0ce8ae-8e98-4f7e-88a9-8dfa1a78a511">3.2.3 ç”Ÿæˆå™¨å¯¹è±¡ä½œä¸ºå¯è¿­ä»£å¯¹è±¡(Iterable Object)</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#fd3460a3-0d85-4086-9bfb-1dda44060278">3.2.4 ä½¿ç”¨yieldå®ç°è¾“å…¥å’Œè¾“å‡º</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#23461415-246d-4837-a03e-43b8c3416b73">3.2.5 ä½¿ç”¨ç”Ÿæˆå™¨è‡ªå®šä¹‰è¿­ä»£å¯¹è±¡-è®¡æ•°å™¨</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#9f15d922-9f1f-4d00-91fd-46b4796edf7f">3.3 yield * è¯­å¥</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#31449053-b999-45b4-8160-8fde5d85675c">3.3.1 å®šä¹‰</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#c410d537-76fb-495b-8c14-df9653f45c88">3.3.2 yield * çš„è¿”å›å€¼</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#6198b620-2484-4d2b-a7ff-adaea881b6e0">3.3.3 yield * å®ç°é€’å½’ç®—æ³•</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#ed108c4e-b12e-49c2-bee1-d95c5151f558">3.4 ç”Ÿæˆå™¨ä½œä¸ºé»˜è®¤è¿­ä»£å™¨</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#f4c37e0d-a77c-4718-a1bc-93005bf6219d">3.5 æå‰ç»ˆæ­¢ç”Ÿæˆå™¨</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#33328029-50e1-4c9d-813a-3d603fe71648">3.5.1 <code>Generator.prototype.return()</code></a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#3cce4368-afc3-4201-84d7-6291546c96af">3.5.1.1 æ˜¾ç¤ºè°ƒç”¨</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#a928b19c-06b6-4a35-bce2-248685ab7a75">3.5.1.2 éšå¼è°ƒç”¨</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#90b6f74a-86d2-40e2-a123-c16a59215a41">3.5.2 <code>Generator.prototype.throw()</code></a></div></nav><p id="38462f70-134d-482f-ae43-acfb854e2213" class="">
</p></div><div id="b5d2690a-9a61-456a-8644-30fea093094f" style="width:87.5%" class="column"><h1 id="6e35d438-5434-4127-849d-bffb024564f2" class="">3.1 ç”Ÿæˆå™¨åŸºç¡€</h1><h2 id="145862c6-47fc-4be3-824a-e40aee1d5099" class="">3.1.1 ç”Ÿæˆå™¨çš„åŸºæœ¬è¯­æ³•</h2><ul id="7c403beb-1ba9-4682-b6dd-92869d7a5c23" class="bulleted-list"><li style="list-style-type:disc">ç”Ÿæˆå™¨çš„å½¢å¼å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°åç§°å‰é¢åŠ ä¸€ä¸ªæ˜Ÿå·ï¼ˆ<strong>*</strong>ï¼‰è¡¨ç¤ºå®ƒæ˜¯ä¸€ä¸ªç”Ÿæˆå™¨<pre id="b08ba57f-c823-4aeb-9d22-5e16725bb4d1" class="code code-wrap"><code>function * generatorFun(argument) {
	// ç”Ÿæˆå™¨ç›¸å…³ä»£ç 
}</code></pre></li></ul><h2 id="0f17dcd6-72d0-4d95-bfaa-caca32d30d8a" class="">3.1.2 ç”Ÿæˆå™¨çš„ä½¿ç”¨åŸåˆ™</h2><ol type="1" id="0535088d-14d1-4d4f-a21f-e905634a3a11" class="numbered-list" start="1"><li>åªè¦å¯ä»¥<strong>å®šä¹‰å‡½æ•°çš„åœ°æ–¹</strong>å°±å¯ä»¥å®šä¹‰ç”Ÿæˆå™¨</li></ol><ol type="1" id="370c8b56-9644-4b5a-b8f1-41336157eb71" class="numbered-list" start="2"><li>ç®­å¤´å‡½æ•°<strong>ä¸èƒ½</strong>ç”¨æ¥å®šä¹‰ç”Ÿæˆå™¨å‡½æ•°</li></ol><ol type="1" id="894dbdf8-910e-4a52-8f8a-1590331eda05" class="numbered-list" start="3"><li>ç”Ÿæˆå™¨å¯ä»¥ä½¿ç”¨<strong>å‡½æ•°å£°æ˜</strong>ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç”Ÿæˆå™¨<strong>å‡½æ•°è¡¨è¾¾å¼</strong>å£°æ˜<pre id="e470c18a-bda0-4fd1-936c-953135defd17" class="code code-wrap"><code>function * generatorFn() {} // å‡½æ•°å£°æ˜
var generatorFn = function * () {} // å‡½æ•°è¡¨è¾¾å¼</code></pre></li></ol><ol type="1" id="7ebeb1be-7427-4717-8679-37c7afc08c60" class="numbered-list" start="4"><li>ç”Ÿæˆå™¨å‡½æ•°å¯ä»¥ä½œä¸ºå¯¹è±¡å­—é¢é‡çš„å±æ€§<pre id="4529750e-c778-44c3-8278-0acb247ad458" class="code code-wrap"><code>let foo = {
	* generatorFn() {},
	gF: function * () {}
}</code></pre></li></ol><ol type="1" id="2cbe24ba-cbd4-484d-b55f-e56df15bad98" class="numbered-list" start="5"><li>ç”Ÿæˆå™¨å‡½æ•°å¯ä»¥ä½œä¸ºç±»å®ä¾‹æ–¹æ³•å±æ€§<pre id="c0af1781-7127-445d-a3df-a917becd8a7e" class="code code-wrap"><code>class Foo {
	* generatorFn() {
		
	}
}</code></pre></li></ol><ol type="1" id="73047604-f18c-4ad9-9fe9-0241abd90311" class="numbered-list" start="6"><li>ç”Ÿæˆå™¨å‡½æ•°å¯ä»¥ä½œä¸ºç±»é™æ€æ–¹æ³•å±æ€§<pre id="17e6f498-b8f5-41bf-a78d-648a1b280bc3" class="code code-wrap"><code>class Foo {
	static * generatorFn() {
		
	}
}</code></pre></li></ol><ol type="1" id="0518bcf5-b42c-4cdb-b79f-33026776648c" class="numbered-list" start="7"><li>æ ‡è¯†ç”Ÿæˆå™¨å‡½æ•°çš„æ˜Ÿå·ä¸å—ä¸¤ä¾§ç©ºæ ¼çš„å½±å“ï¼ˆæœ€å¥½å·¦å³å„ä¸€ä¸ªç©ºæ ¼ï¼‰</li></ol><h2 id="fec187fe-72cf-4ae3-83f4-1e197f9b565c" class="">3.1.3 ç”Ÿæˆå™¨å¯¹è±¡</h2><ul id="8ac77050-3412-4a25-85b3-0b47f5a7dd5d" class="bulleted-list"><li style="list-style-type:disc">è°ƒç”¨ç”Ÿæˆå™¨å‡½æ•°ä¼šäº§ç”Ÿä¸€ä¸ª<strong>ç”Ÿæˆå™¨å¯¹è±¡ï¼ˆgenerator objectï¼‰ </strong><ul id="f9d2db0f-befe-4cd3-9177-7ec7fbb4250d" class="bulleted-list"><li style="list-style-type:circle">å®ç°äº†è¿­ä»£å™¨åè®®ï¼ˆIterator æ¥å£ï¼‰ï¼Œå…·æœ‰<code>next()</code>æ–¹æ³•</li></ul><ul id="4ff792ec-0acf-414c-9f15-b553dd3a5ca2" class="bulleted-list"><li style="list-style-type:circle">åˆå§‹å¤„äº<strong>æš‚åœæ‰§è¡Œ</strong>çŠ¶æ€(<strong>suspended</strong>)</li></ul><ul id="36a57e21-b6ea-4368-ad00-280802bf5f9f" class="bulleted-list"><li style="list-style-type:circle">æ‰§è¡Œ<code>next()</code> <strong>è®©ç”Ÿæˆå™¨å¼€å§‹æˆ–æ¢å¤æ‰§è¡Œ</strong>ï¼Œå¹¶è¿”å›å’Œè¿­ä»£å™¨ä¸€æ ·ç±»å‹çš„è¿”å›å€¼ï¼Œæœ‰<code>done</code>å±æ€§å’Œ<code>value</code>å±æ€§ï¼Œç„¶åç»§ç»­å¤„äºä¸‹ä¸€ä¸ªæš‚åœæ‰§è¡ŒçŠ¶æ€</li></ul></li></ul><ul id="f8a1471f-f76b-400d-854e-93f3d3da8e17" class="bulleted-list"><li style="list-style-type:disc">å‡½æ•°ä½“ä¸ºç©ºçš„ç”Ÿæˆå™¨å‡½æ•°ä¸ä¼šåœç•™ï¼Œè°ƒç”¨ä¸€æ¬¡<code>next()</code> åå°±è®©ç”Ÿæˆå™¨è¾¾åˆ°äº†<code>done:true</code> çš„çŠ¶æ€<pre id="4cea5edb-765c-4b85-bc77-c9331f18b4a1" class="code code-wrap"><code>const generatorFn = function* () {};
let gt = generatorFn();
console.log(gt); // Object [Generator] {}
console.log(gt.next); // [Function, next]
console.log(gt.next()); // { value: undefined, done: true }
console.log(gt); // Object [Generator] {}</code></pre><ul id="4f5599da-c7d5-4774-9376-da10ccbb04b4" class="bulleted-list"><li style="list-style-type:circle">ä¸Šè¿°çš„æ‰“å°æ˜¯nodeï¼ˆv16.14.0ï¼‰ç¯å¢ƒä¸‹çš„æ‰“å°</li></ul><ul id="2e1f0ff2-77d8-4ae3-bb98-e057a1458d06" class="bulleted-list"><li style="list-style-type:circle">åœ¨æµè§ˆå™¨ï¼ˆè°·æ­Œv100+ï¼‰ç¯å¢ƒä¸‹çš„æ‰“å°ä¸º<figure id="6686922d-2c48-465a-b112-3f6a2ab20561" class="image"><a href="3%20%E7%94%9F%E6%88%90%E5%99%A8%EF%BC%88Generator%EF%BC%89/Untitled.png"><img style="width:566px" src="3%20%E7%94%9F%E6%88%90%E5%99%A8%EF%BC%88Generator%EF%BC%89/Untitled.png"/></a></figure></li></ul><ul id="b9250772-09a4-4fa6-b49c-9d56a06dceab" class="bulleted-list"><li style="list-style-type:circle">å¯ä»¥å‘ç°ï¼Œè°ƒç”¨äº†ä¸€æ¬¡<code>next()</code> åï¼Œç”Ÿæˆå™¨å¯¹è±¡çš„çŠ¶æ€å°±è½¬å˜ä¸ºäº†<code>closed</code> ï¼Œè¿™æ˜¯<a href="3%20%E7%94%9F%E6%88%90%E5%99%A8%EF%BC%88Generator%EF%BC%89.html">å› ä¸ºå‡½æ•°ä½“ä¸ºç©ºçš„ç”Ÿæˆå™¨å‡½æ•°ä¸ä¼šåœç•™</a></li></ul><ul id="88662a5d-1e8d-4bbd-a942-c1335aaf6916" class="bulleted-list"><li style="list-style-type:circle"><code>value</code>å±æ€§é»˜è®¤ä¸º<code>undefined</code></li></ul></li></ul><h3 id="d5d2e9c8-772f-48a8-b478-068c4cc65fab" class="">3.1.3.1 ç”Ÿæˆå™¨å¯¹è±¡çš„è¿”å›å€¼</h3><ul id="0c310c3a-bfbe-470e-8527-1342ed52cfa0" class="bulleted-list"><li style="list-style-type:disc">ç”Ÿæˆå™¨å¯¹è±¡åœ¨æœ€åå¯ä»¥ä½¿ç”¨<code>return</code>è¿”å›ä¸€ä¸ªå€¼ï¼Œè¿™ä¸ªå€¼ä¼šä½œä¸ºæœ€åä¸€ä¸ªï¼ˆ<code>done</code> ä¸º<code>true</code>æ—¶ï¼‰<code>next()</code> è¿”å›å€¼çš„<code>value</code>å±æ€§å€¼<pre id="7fef0b27-a732-460d-80b9-977b91d49c10" class="code code-wrap"><code>const generatorFn2 = function* () {
  return &quot;foo&quot;;
};
let gt2 = generatorFn2();
console.log(gt2.next()); // { value: &#x27;foo&#x27;, done: true }
console.log(gt2.next()); // { value: undefined, done: true }</code></pre><ul id="29c76389-11c6-40b7-abf1-c0f966255eae" class="bulleted-list"><li style="list-style-type:circle">è¿”å›å€¼åªä¼šä½œä¸ºç”Ÿæˆå™¨å¯¹è±¡è¦å…³é—­æ—¶è°ƒç”¨çš„<code>next()</code> è¿”å›çš„å¯¹è±¡çš„<code>value</code>å±æ€§å€¼</li></ul></li></ul><h3 id="d21179f9-b234-4c76-af19-0d4820000db2" class="">3.1.3.2 ç”Ÿæˆå™¨å‡½æ•°ä¸­è¯­å¥çš„æ‰§è¡Œ</h3><ul id="4586057a-c249-4282-908b-502803e6c28e" class="bulleted-list"><li style="list-style-type:disc">è°ƒç”¨ç”Ÿæˆå™¨å‡½æ•°ç”Ÿæˆç”Ÿæˆå™¨å¹¶ä¸ä¼šæ‰§è¡Œç”Ÿæˆå™¨å‡½æ•°ä¸­çš„è¯­å¥ï¼ˆå¤„äºæš‚åœæ‰§è¡Œ<strong>suspended</strong>çŠ¶æ€ï¼‰</li></ul><ul id="6fa084f1-9049-4823-9f26-d56fcb26584d" class="bulleted-list"><li style="list-style-type:disc">ç”Ÿæˆå™¨å‡½æ•°ä¼šåœ¨<strong>åˆæ¬¡</strong>è°ƒç”¨<code>next()</code> æ–¹æ³•åå¼€å§‹æ‰§è¡Œ<strong>ä¸€èˆ¬</strong>è¯­å¥<pre id="80bc934b-bca5-4e3d-8304-41d845702f49" class="code code-wrap"><code>const generatorFn3 = function* () {
  console.log(&quot;Executed on the first call of next()&quot;);
  return &quot;foo&quot;;
};
let gt3 = generatorFn3();
console.log(gt3.next()); // Executed on the first call of next()
// { value: &#x27;foo&#x27;, done: true }
console.log(&quot;ä¸Šé¢æ˜¯åˆæ¬¡æ‰§è¡Œnextçš„æ‰“å°&quot;);
console.log(gt3.next()); // { value: undefined, done: true }</code></pre></li></ul><h3 id="5c17c618-4db7-4691-be2b-8e8d0f3d3330" class="">3.1.3.3 ç”Ÿæˆå™¨çš„è‡ªå¼•ç”¨</h3><ul id="c9cba445-423b-416d-805b-72c15ef5c425" class="bulleted-list"><li style="list-style-type:disc">ç”Ÿæˆå™¨å¯¹è±¡æœ¬èº«æ˜¯å¯è¿­ä»£å¯¹è±¡ï¼Œå®ƒå®ç°äº†Iteratble æ¥å£ï¼ˆå¯è¿­ä»£åè®®ï¼‰ï¼Œå®ƒé»˜è®¤çš„è¿­ä»£å™¨æ˜¯è‡ªå¼•ç”¨çš„<pre id="1ea19fe3-2a17-4886-8e3b-5f36e1ea5df9" class="code code-wrap"><code>const gt4 = generatorFn3();
const gt5 = gt4[Symbol.iterator]();
console.log(gt4); // Object [Generator] {}
console.log(gt5); // Object [Generator] {}
console.log(gt4 === gt5); // true</code></pre></li></ul><h1 id="ec003c39-659f-4883-9651-a8501e10b2df" class="">3.2 yieldè¯­å¥</h1><h2 id="a8c9a126-c3ab-4e8d-b3e3-cf4e2d053a18" class="">3.2.1 yieldçš„åŸºæœ¬ä½¿ç”¨</h2><ul id="1500ef0f-4452-4802-b436-827ae1639001" class="bulleted-list"><li style="list-style-type:disc"><code>yield</code> å…³é”®å­—èƒ½è®©ç”Ÿæˆå™¨åœæ­¢å’Œå¼€å§‹æ‰§è¡Œï¼Œä¹Ÿæ˜¯ç”Ÿæˆå™¨æœ€æœ‰ç”¨çš„åœ°æ–¹<ul id="a6eb76d2-f605-429f-af70-b227169da96c" class="bulleted-list"><li style="list-style-type:circle">ç”Ÿæˆå™¨å‡½æ•°åœ¨é‡åˆ°<code>yield</code>å…³é”®å­—ä¹‹å‰ä¼šæ­£å¸¸æ‰§è¡Œ</li></ul><ul id="48fe6728-2c2c-464e-8b4b-b0d60760f48b" class="bulleted-list"><li style="list-style-type:circle">é‡åˆ°è¿™ä¸ªå…³é”®å­—åï¼Œæ‰§è¡Œä¼šåœæ­¢,å‡½æ•°ä½œç”¨åŸŸçš„çŠ¶æ€ä¼šè¢«ä¿ç•™</li></ul><ul id="dd033431-5022-40db-a7e9-f96f35b5441e" class="bulleted-list"><li style="list-style-type:circle">åœæ­¢æ‰§è¡Œçš„ç”Ÿæˆå™¨å‡½æ•°åªèƒ½é€šè¿‡åœ¨ç”Ÿæˆå™¨å¯¹è±¡ä¸Šè°ƒç”¨<code>next()</code>æ–¹æ³•æ¥æ¢å¤æ‰§è¡Œ</li></ul></li></ul><ul id="36ca78a2-63e6-47ec-a92b-eab64c9db413" class="bulleted-list"><li style="list-style-type:disc"><code>yield</code> å…³é”®å­—æœ‰ç‚¹åƒå‡½æ•°çš„<strong>ä¸­é—´è¿”å›è¯­å¥,</strong>å®ƒç”Ÿæˆçš„å€¼å‡ºç°åœ¨<code>next()</code> æ–¹æ³•è¿”å›çš„å¯¹è±¡ä¸­<ul id="fada5212-f291-4f66-b914-c4fae23889aa" class="bulleted-list"><li style="list-style-type:circle">ä½†æ˜¯é€šè¿‡<code>yield</code> å…³é”®å­—é€€å‡ºçš„ç”Ÿæˆå™¨å‡½æ•°ä¼šå¤„åœ¨<code>done:false</code>çŠ¶æ€</li></ul><ul id="2cd5e884-28d1-45a6-859e-85aacb924692" class="bulleted-list"><li style="list-style-type:circle">è€Œé€šè¿‡<code>return</code> å…³é”®å­—é€€å‡ºçš„ç”Ÿæˆå™¨å‡½æ•°ä¼šå¤„äº<code>done: true</code> çŠ¶æ€</li></ul></li></ul><ul id="8aced165-1249-48ac-b268-2769c6cafc6a" class="bulleted-list"><li style="list-style-type:disc">è¯­æ³•<pre id="2e4c962b-e2c9-46c6-b13a-5578dd93f079" class="code code-wrap"><code>function * generatorFn() {
	yield value1;
	yield value2;
	....
	yield valuen;
	return value;
}</code></pre><ul id="df66bf56-bf2f-4e6a-9611-60768ed47c67" class="bulleted-list"><li style="list-style-type:circle"><code>valuex</code> æ˜¯ä½œä¸ºä¸€æ¬¡<code>next()</code> è°ƒç”¨åçš„è¿”å›å€¼çš„<code>value</code>å±æ€§</li></ul><ul id="d4bdd42b-6eca-45d0-a2cd-101dc0cbf948" class="bulleted-list"><li style="list-style-type:circle"><code>next()</code> è°ƒç”¨å<code>done</code>ä¸º<code>false</code> çš„æ¬¡æ•°å°±æ˜¯<code>yield</code> çš„ä¸ªæ•°</li></ul></li></ul><ul id="97efad85-d9b8-4d3a-8866-91ea0ec270cc" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å­<pre id="141158a1-e1af-4d13-88b0-d97cd17a2910" class="code code-wrap"><code>function* generatorFn() {
  console.log(&quot;1&quot;);
  yield &quot;foo&quot;;
  console.log(&quot;2&quot;);
  yield &quot;bar&quot;;
  console.log(&quot;3&quot;);
  return &quot;baz&quot;;
}
const gt1 = generatorFn();
console.log(gt1.next());
console.log(gt1.next());
console.log(gt1.next());
console.log(gt1.next());
// æ‰“å°ç»“æœ
1
{ value: &#x27;foo&#x27;, done: false }
2
{ value: &#x27;bar&#x27;, done: false }
3
{ value: &#x27;baz&#x27;, done: true }
{ value: undefined, done: true }</code></pre><ul id="1ac13bdd-2095-4d65-a85b-055ce44c087d" class="bulleted-list"><li style="list-style-type:circle">ç¬¬ä¸€æ¬¡è°ƒç”¨<code>next()</code> å¼€å§‹æ‰§è¡Œç”Ÿæˆå™¨å‡½æ•°ï¼Œæ­£å¸¸æ‰§è¡Œè¯­å¥ï¼Œæ‰“å°å‡º1ï¼Œç„¶åé‡åˆ°<code>yield</code>è¯­å¥ï¼Œè·å–åˆ°<strong>ä¸­é—´è¿”å›å€¼ï¼Œ</strong>æ‰§è¡Œåœæ­¢ï¼Œå‡½æ•°ä½œç”¨åŸŸçŠ¶æ€è¢«æŠ¥é”™ï¼Œç”Ÿæˆå™¨çŠ¶æ€å˜ä¸ºæš‚åœæ‰§è¡Œï¼ˆsuspendedï¼‰</li></ul><ul id="01158adf-2214-47c2-b053-057075c31677" class="bulleted-list"><li style="list-style-type:circle">ç¬¬äºŒæ¬¡è°ƒç”¨<code>next()</code> æ¢å¤æ‰§è¡Œç”Ÿæˆå™¨å‡½æ•°ï¼Œæ­£å¸¸æ‰§è¡Œè¯­å¥ï¼Œæ‰“å°å‡º2ï¼Œç„¶åé‡åˆ°<code>yield</code>è¯­å¥ï¼Œè·å–åˆ°ä¸­é—´è¿”å›å€¼ï¼Œæ‰§è¡Œåœæ­¢ï¼Œå‡½æ•°ä½œç”¨åŸŸçŠ¶æ€è¢«æŠ¥é”™ï¼Œç”Ÿæˆå™¨çŠ¶æ€å˜ä¸ºæš‚åœæ‰§è¡Œï¼ˆsuspendedï¼‰</li></ul><ul id="2ed6ebfa-fe61-42a2-ac38-af4e69596801" class="bulleted-list"><li style="list-style-type:circle">ç¬¬ä¸‰æ¬¡è°ƒç”¨<code>next()</code> æ¢å¤æ‰§è¡Œç”Ÿæˆå™¨å‡½æ•°ï¼Œæ­£å¸¸æ‰§è¡Œè¯­å¥ï¼Œæ‰“å°å‡º3ï¼Œç„¶åé‡åˆ°<code>return</code>è¯­å¥ï¼Œè·å–åˆ°æœ€ç»ˆè¿”å›å€¼ï¼Œæ‰§è¡Œåœæ­¢ï¼Œå‡½æ•°è¢«æ‰§è¡Œå®Œæ¯•ï¼Œç”Ÿæˆå™¨çŠ¶æ€å˜ä¸ºå…³é—­ï¼ˆclosedï¼‰</li></ul><ul id="e0e9c9fe-d6c8-4796-8f3d-27fee661496e" class="bulleted-list"><li style="list-style-type:circle">åç»­çš„<code>next()</code> è°ƒç”¨éƒ½ä¼šé»˜è®¤è¿”å›<code>{ value: undefined, done: true }</code> å› ä¸ºç”Ÿæˆå™¨çŠ¶æ€å˜ä¸ºå…³é—­ï¼Œä¸èƒ½ç»§ç»­è¿­ä»£å¯</li></ul></li></ul><ul id="d79037e6-018d-464e-82ab-7adc78456761" class="bulleted-list"><li style="list-style-type:disc"><strong>æ³¨æ„ï¼šç”Ÿæˆå™¨å‡½æ•°å†…éƒ¨çš„æ‰§è¡Œæµç¨‹ä¼šé’ˆå¯¹æ¯ä¸ªç”Ÿæˆå™¨å¯¹è±¡åŒºåˆ†ä½œç”¨åŸŸï¼Œå³åœ¨ä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡ä¸Šè°ƒç”¨next()ä¸ä¼šå½±å“å…¶å®ƒç”Ÿæˆå™¨</strong></li></ul><h2 id="2db871c8-1e98-459f-9de3-b4b112985ced" class="">3.2.2 yieldè¯­å¥è§„åˆ™</h2><ol type="1" id="14cc8bc7-d932-4d44-a2aa-009bdd777d42" class="numbered-list" start="1"><li><code>yield</code>å…³é”®å­—<strong>åªèƒ½åœ¨ç”Ÿæˆå™¨å‡½æ•°å†…éƒ¨</strong>ä½¿ç”¨ï¼Œç”¨åœ¨å…¶å®ƒåœ°æ–¹ä¼šæŠ›å‡ºé”™è¯¯</li></ol><ol type="1" id="f9387c74-3303-43a0-b71b-02e810858c0a" class="numbered-list" start="2"><li><code>yield</code> å…³é”®å­—ä¸èƒ½å®šä¹‰åœ¨ç”Ÿæˆå™¨å‡½æ•°çš„åµŒå¥—çš„éç”Ÿæˆå™¨å‡½æ•°ä¸­ï¼ˆå¿…é¡»ç›´æ¥ä½äºç”Ÿæˆå™¨å‡½æ•°å®šä¹‰ä¸­ï¼‰ï¼Œå¦åˆ™æŠ›å‡ºè¯­æ³•é”™è¯¯<pre id="5a477e41-5400-4f83-bfd8-9191c570c756" class="code code-wrap"><code>function * invalidGeneratorFn {
	function a() {
		yield;// æŠ›å‡ºè¯­æ³•é”™è¯¯
	}
  (function b() {
		yield;// æŠ›å‡ºè¯­æ³•é”™è¯¯
	})(); // å³ä½¿æ˜¯é—­åŒ…ä¹Ÿä¸è¡Œ
}</code></pre></li></ol><h2 id="dc0ce8ae-8e98-4f7e-88a9-8dfa1a78a511" class="">3.2.3 ç”Ÿæˆå™¨å¯¹è±¡ä½œä¸ºå¯è¿­ä»£å¯¹è±¡(Iterable Object)</h2><ul id="bbe3a614-342b-4b11-8cf9-ea45c2e4525a" class="bulleted-list"><li style="list-style-type:disc">è·å–ç”Ÿæˆå™¨å¯¹è±¡åæ˜¾å¼çš„è°ƒç”¨<code>next()</code> ä½œç”¨å¹¶ä¸å¤§</li></ul><ul id="e4f18a36-1177-4abd-a9ec-baed31a5d1be" class="bulleted-list"><li style="list-style-type:disc">å› ä¸º<a href="3%20%E7%94%9F%E6%88%90%E5%99%A8%EF%BC%88Generator%EF%BC%89.html">å®ç°äº†è¿­ä»£å™¨åè®®ï¼ˆIterator æ¥å£ï¼‰ï¼Œå…·æœ‰next()æ–¹æ³•</a> æ‰€ä»¥ç”Ÿæˆå™¨å¯ä»¥ä½œä¸ºè¿­ä»£å™¨ä½¿ç”¨</li></ul><ul id="3a004568-0ba3-4641-8274-2438e11d5c05" class="bulleted-list"><li style="list-style-type:disc">åˆå› ä¸ºä½¿ç”¨<a href="2%20%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F.html">é—­åŒ…å®ç°çš„è¿­ä»£å™¨æœ¬èº«å®ç°äº†å¯è¿­ä»£åè®®</a>ï¼ˆIterable protocolï¼‰ï¼Œæ‰€ä»¥ç”Ÿæˆå™¨å¯ä»¥ä½œä¸ºå¯è¿­ä»£å¯¹è±¡ä½¿ç”¨</li></ul><ul id="7f5163b4-0436-42e0-9d14-c27871a785cd" class="bulleted-list"><li style="list-style-type:disc">å¯¹äºå¯è¿­ä»£å¯¹è±¡ï¼Œå®ƒ<strong><mark class="highlight-purple"><a href="2%20%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F.html">æ¥å—éšå¼è°ƒç”¨å…¶å·¥å‚å‡½æ•°</a></mark></strong>çš„è¯­è¨€ç‰¹æ€§ï¼Œä½¿ç”¨èµ·æ¥ä¼šå¾ˆæ–¹ä¾¿ï¼Œæœ€å…¸å‹çš„å°±æ˜¯<code>forâ€¦of</code> å¾ªç¯è¯­å¥<pre id="44ddfc48-b620-4f88-8b47-a542ab0fe2f6" class="code code-wrap"><code>function* generatorFn() {
  yield 1;
  yield 2;
  yield 4;
  yield 3;
  return 5;
}
for (const item of generatorFn()) {
  console.log(item); // 1 2 4 3
}</code></pre></li></ul><ul id="11a95a95-1e6d-4f68-92ff-9e3871a985f5" class="bulleted-list"><li style="list-style-type:disc">å› ä¸ºç”Ÿæˆå™¨æ—¢å¯ä»¥ä½œä¸ºè¿­ä»£å™¨ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå¯è¿­ä»£å¯¹è±¡ä½¿ç”¨<ul id="772df604-4cb1-40fe-8bbb-bb042dc530d9" class="bulleted-list"><li style="list-style-type:circle">æ‰€ä»¥åœ¨<strong>è‡ªå®šä¹‰è¿­ä»£å¯¹è±¡</strong>æ—¶ï¼Œå°±å¯ä»¥ç›´æ¥å£°æ˜ä¸€ä¸ªç”Ÿæˆå™¨å‡½æ•°ï¼Œç”¨å®ƒæ¥ç”Ÿæˆéœ€è¦çš„å¯è¿­ä»£å¯¹è±¡</li></ul><ul id="fb45f8d6-0037-49a7-bf9a-90626c395d3a" class="bulleted-list"><li style="list-style-type:circle">ç›¸äº¤äºå£°æ˜è‡ªå®šä¹‰ç±»å‹ï¼Œå®ç°å®ä¾‹ç¬¦å·å±æ€§<code>Symbol.iertator</code> ï¼Œä½¿ç”¨ç”Ÿæˆå™¨å‡½æ•°æ›´åŠ ä¾¿æ·</li></ul></li></ul><ul id="d64787fa-cb39-455d-8e4c-5e2880c54930" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å¦‚ï¼Œæƒ³è¦ä¸€ä¸ªè¿­ä»£æŒ‡å®šæ¬¡æ•°ï¼ˆnï¼‰çš„è¿­ä»£å™¨ï¼Œç›´æ¥ä½¿ç”¨ç”Ÿæˆå™¨å‡½æ•°é…åˆå¾ªç¯è¯­å¥å°±å¯ä»¥æ„é€ ï¼š<pre id="f152713d-a222-4a9d-865d-3ab530d57dbd" class="code code-wrap"><code>function* nGeneratorFn(n) {
  // å¾ªç¯næ¬¡
  while (n--) {
    yield;
  }
}
for (const _ of nGeneratorFn(3)) {
  console.log(&quot;foo&quot;);
}
// æ‰“å°ä¸‰æ¬¡foo</code></pre></li></ul><h2 id="fd3460a3-0d85-4086-9bfb-1dda44060278" class="">3.2.4 ä½¿ç”¨yieldå®ç°è¾“å…¥å’Œè¾“å‡º</h2><ul id="e2d21b5d-6288-4d4a-9f26-b2cbf6956bb9" class="bulleted-list"><li style="list-style-type:disc">yieldè¯­å¥æ˜¯æœ‰è¿”å›å€¼çš„ï¼Œå…¶è¯­æ³•å¦‚ä¸‹<pre id="fcf513fe-a4f3-4775-b3b3-c2db4c402145" class="code code-wrap"><code>rv = yield expression;</code></pre><ul id="b46087ab-2335-4b6c-88e4-bb15cac19718" class="bulleted-list"><li style="list-style-type:circle"><code>rv</code> : <code>yield</code>è¯­å¥ä¼šè¿”å›è°ƒç”¨ç”Ÿæˆå™¨çš„<code>next()</code> æ—¶ä¼ é€’ç»™<code>next()</code> çš„å€¼ï¼Œå¦‚æœæ²¡æœ‰ä¼ é€’ç»™<code>next()</code> ï¼Œ<code>rv</code>å°±æ˜¯<code>undefined</code></li></ul><ul id="020df0f9-b765-4f41-a70f-a86aafcb878c" class="bulleted-list"><li style="list-style-type:circle"><code>expression</code>ï¼šè¯¥è¡¨è¾¾å¼çš„è¿”å›å€¼ä¼šä½œä¸º<code>next()</code> è¿”å›å€¼ä¸­çš„<code>value</code>å±æ€§å€¼ï¼Œé»˜è®¤å°±æ˜¯<code>undefined</code></li></ul></li></ul><ul id="05bb7cb1-7315-442a-9d68-a0efc72082da" class="bulleted-list"><li style="list-style-type:disc">yieldçš„è¾“å…¥å’Œè¾“å‡º<ul id="5d9ca4ef-aefe-41c7-ac9c-9b90b76739e1" class="bulleted-list"><li style="list-style-type:circle">è¾“å…¥ï¼šä¸Šä¸€æ¬¡è®©ç”Ÿæˆå™¨å‡½æ•°æš‚åœçš„<code>yield</code>å…³é”®å­—ä¼šæ¥æ”¶åˆ°æœ¬æ¬¡è°ƒç”¨ä¼ ç»™<code>next()</code>æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå€¼</li></ul><ul id="4b357d53-8af3-4b1a-bded-00b6e9ca3d6f" class="bulleted-list"><li style="list-style-type:circle">è¾“å‡ºï¼šæœ¬æ¬¡ç”Ÿæˆå™¨å‡½æ•°æ‰§è¡Œçš„ç¯å¢ƒå¯ä»¥ä½¿ç”¨ä¸Šä¸€ä¸ª<code>yield</code>å…³é”®å­—è¿”å›çš„<code>rv</code> å³æ˜¯é€šè¿‡æœ¬æ¬¡è°ƒç”¨<code>next()</code> ä¼ é€’çš„å€¼</li></ul></li></ul><ul id="b08ae234-0647-4f3d-b816-158630e63674" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å­ï¼š<pre id="7d73d225-360a-47df-92f1-73601518c735" class="code code-wrap"><code>function* inputAndOutPut(initial) {
  console.log(initial);
  let first = yield 1;
  console.log(
    &quot;æœ¬è¯­å¥æ˜¯ç¬¬äºŒä¸ªnext()è°ƒç”¨æ—¶æ‰§è¡Œï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨çš„nextå‚æ•°ä¸ä¼šè¢«ä½¿ç”¨ï¼Œä½†ä¸Šä¸€ä¸ªyieldè¿”å›æœ¬æ¬¡ä¼ é€’ç»™nextå‚æ•°çš„å€¼&quot;,
    first
  );
  let second = yield 2;
  console.log(&quot;æœ¬è¯­å¥æ˜¯ç¬¬ä¸‰ä¸ªnext(),ç¬¬ä¸‰ä¸ªnextçš„å‚æ•°ä¸º&quot;, second);
  let third = yield 3;
  console.log(&quot;æœ¬è¯­å¥æ˜¯ç¬¬å››ä¸ªnext(),ç¬¬å››ä¸ªnextçš„å‚æ•°ä¸º&quot;, third);
  return &quot;foo&quot;;
}
const gt = inputAndOutPut(&quot;initial&quot;);
console.log(&quot;------&quot;);
console.log(gt.next(&quot;ä¸ä¼šè¢«ä½¿ç”¨çš„å€¼&quot;));
console.log(&quot;------&quot;);

console.log(gt.next(&quot;next2&quot;));
console.log(&quot;------&quot;);
// æ‰“å°ç»“æœ
------
initial
{ value: 1, done: false }
------
æœ¬è¯­å¥æ˜¯ç¬¬äºŒä¸ªnext()è°ƒç”¨æ—¶æ‰§è¡Œï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨çš„nextå‚æ•°ä¸ä¼šè¢«ä½¿ç”¨ï¼Œä½†ä¸Šä¸€ä¸ªyieldè¿”å›æœ¬æ¬¡ä¼ é€’ç»™nextå‚æ•°çš„å€¼ next2
{ value: 2, done: false }
------
æœ¬è¯­å¥æ˜¯ç¬¬ä¸‰ä¸ªnext(),ç¬¬ä¸‰ä¸ªnextçš„å‚æ•°ä¸º next3
{ value: 3, done: false }
------
æœ¬è¯­å¥æ˜¯ç¬¬å››ä¸ªnext(),ç¬¬å››ä¸ªnextçš„å‚æ•°ä¸º next4
{ value: &#x27;foo&#x27;, done: true }
------</code></pre></li></ul><ul id="04fa51f5-0c11-4368-80b7-0b793b864011" class="bulleted-list"><li style="list-style-type:disc"><strong>æ³¨æ„ï¼Œ</strong>é€šè¿‡ä¸Šé¢çš„ä¾‹å­å¯å¾—çŸ¥çš„ä¸€äº›äº‹æƒ…<ol type="1" id="cd48d3a0-cbd7-40bf-abc9-d92698ee684c" class="numbered-list" start="1"><li>ç¬¬ä¸€æ¬¡è°ƒç”¨<code>next()</code> ä¼ å…¥çš„å€¼<strong>ä¸ä¼š</strong>è¢«ä½¿ç”¨ï¼Œå› ä¸ºç¬¬ä¸€æ¬¡è°ƒç”¨ä¸ºåˆå§‹åŒ–ï¼Œè¿˜æ²¡æœ‰ä¸Šä¸€ä¸ª<code>yield</code> è¯­å¥ï¼Œæ‰€ä»¥ä¸ä¼šæœ‰ä¼ å…¥çš„å€¼</li></ol><ol type="1" id="094de7de-de6c-4c3c-a7d0-3984d5e9a50d" class="numbered-list" start="2"><li>åé¢æ¯æ¬¡è°ƒç”¨<code>next()</code> ä¼ å…¥çš„å€¼éƒ½ä¼šè¢«ä¸Šä¸€ä¸ª<code>yield</code> è¯­å¥è¿”å›ï¼Œå¦‚ä¸‹è¯­å¥<p id="d3b29667-4a09-4bdc-8afb-0af4d96b420e" class=""><code>let first = yield 1;</code> </p><p id="0b8be197-aedd-45f0-854d-6cfc807796a9" class="">è¿™æ˜¯ç¬¬ä¸€ä¸ª<code>yield</code>è¯­å¥ï¼Œç¬¬ä¸€ä¸ª<code>next()</code>æ‰§è¡Œåˆ°è¿™é‡Œæ—¶<strong>æš‚åœæ‰§è¡Œ</strong>ï¼Œè·å–åˆ°<code>yield</code>åçš„å€¼ä½œä¸ºè¿”å›å€¼çš„<code>value</code> å±æ€§å€¼</p><p id="37bad452-3ed8-4a55-88ea-df4c46a2411c" class="">ä½†æ˜¯<code>first</code>æ­¤æ—¶è¿˜æ²¡è¢«èµ‹å€¼ï¼Œå³è¿™ä¸ªè¯­å¥åªæ‰§è¡Œäº†äº†ååŠå¥ï¼Œå˜æˆäº†<code>let first = rv;</code> ï¼Œ<code>rv</code>æ­¤æ—¶çš„å€¼ä¸º<code>undefined</code></p><p id="42a4010d-b32b-49fb-aec1-67a3df372e6f" class="">æ‰§è¡Œç¬¬äºŒä¸ª<code>next()</code> è¯­å¥æ—¶ï¼Œä»ä¸Šæ¬¡æš‚åœæ‰§è¡Œçš„è¯­å¥æ¢å¤æ‰§è¡Œï¼Œå³æ‰§è¡Œå·²å˜æˆ<code>let first = rv</code> çš„è¯­å¥</p><p id="c4653c6f-5b46-418b-84d9-56edb9559a50" class="">å‡è®¾ç¬¬äºŒä¸ª<code>next()</code> ä¼ é€’çš„å‚æ•°ä¸º<code>val</code> ,é‚£ä¹ˆä¸Šä¸€ä¸ª<code>yield</code> è¯­å¥çš„è¿”å›å€¼<code>rv</code> å°±æ˜¯<code>val</code> ï¼Œå³æ‰§è¡Œ<code>let first = val</code> è¯­å¥</p><p id="e8f1cfc3-1e81-474f-afa8-3b34677efd17" class="">æ‰€ä»¥<code>first</code>å°±æ˜¯ç¬¬äºŒæ¬¡æ‰§è¡Œ<code>next()</code> ä¼ é€’ç»™<code>next()</code>çš„å‚æ•°å€¼<code>val</code></p></li></ol></li></ul><ul id="8230c574-8544-436b-8c0a-6d8ecffc3751" class="bulleted-list"><li style="list-style-type:disc">å› ä¸ºä¸Šä¸€ä¸ª<code>yield</code> è¯­å¥ä¼šè¿”å›æœ¬æ¬¡<code>next()</code> æ‰§è¡Œä¼ é€’çš„å‚æ•°å€¼ï¼Œæ‰€ä»¥å¯ä»¥åŒæ—¶ç”¨äºè¾“å…¥è¾“å‡ºï¼Œå¦‚ä¸‹<pre id="fa4e4185-fed4-4c85-ae84-84e2190300f0" class="code code-wrap"><code>function* gFn() {
  return yield &quot;foo&quot;;
}
const gt2 = gFn();
console.log(gt2.next()); // { value: &#x27;foo&#x27;, done: false }
console.log(gt2.next(&quot;bar&quot;)); // { value: &#x27;bar&#x27;, done: true }</code></pre><ul id="736fe219-5de1-4bbb-a87c-ed0246d2cbae" class="bulleted-list"><li style="list-style-type:circle">åŒ<a href="3%20%E7%94%9F%E6%88%90%E5%99%A8%EF%BC%88Generator%EF%BC%89.html">æ³¨æ„</a>ä¸­çš„è§£é‡Šï¼Œè¿™é‡Œåªæ˜¯æŠŠä¸Šä¸€ä¸ª<code>yield</code> çš„è¿”å›å€¼å½“ä½œäº†æœ€åä¸€æ¬¡<code>next()</code> è¿”å›å€¼ä¸­çš„<code>value</code>å±æ€§å€¼</li></ul><ul id="8d661fa5-e1cf-40e7-8097-b4e21dce6dbe" class="bulleted-list"><li style="list-style-type:circle">è€Œä¸Šä¸€ä¸ª<code>yield</code>çš„è¿”å›å€¼å°±æ˜¯æœ¬æ¬¡<code>next()</code> è°ƒç”¨ä¼ é€’çš„å€¼<code>bar</code></li></ul></li></ul><h2 id="23461415-246d-4837-a03e-43b8c3416b73" class="">3.2.5 ä½¿ç”¨ç”Ÿæˆå™¨è‡ªå®šä¹‰è¿­ä»£å¯¹è±¡-è®¡æ•°å™¨</h2><ul id="684a85be-ff34-45ee-9ea5-46d76935930f" class="bulleted-list"><li style="list-style-type:disc">åœ¨<a href="3%20%E7%94%9F%E6%88%90%E5%99%A8%EF%BC%88Generator%EF%BC%89.html">3.2.3 ç”Ÿæˆå™¨å¯¹è±¡ä½œä¸ºå¯è¿­ä»£å¯¹è±¡(Iterable Object)</a> ä¸­ï¼Œæ„é€ äº†ä¸€ä¸ªå¯ä»¥ç”ŸæˆæŒ‡å®šè¿­ä»£æ¬¡æ•°çš„å¯è¿­ä»£å¯¹è±¡çš„ç”Ÿæˆå™¨å‡½æ•°</li></ul><ul id="b745a81c-67aa-41b2-8c8f-5aa34f39852d" class="bulleted-list"><li style="list-style-type:disc">å…¶å®é€šè¿‡<code>yield</code> æ„é€ çš„ç”Ÿæˆå™¨å‡½æ•°ç”Ÿæˆçš„å¯è¿­ä»£å¯¹è±¡åŠŸèƒ½å¯ä»¥å¾ˆå¼ºå¤§</li></ul><ol type="1" id="ed91748e-6032-4d6a-b24c-9ab2037954b0" class="numbered-list" start="1"><li>æ— ç©·è®¡æ•°ç”Ÿæˆå™¨å‡½æ•°ï¼šç”Ÿæˆä¸€ä¸ªæ— ç©·è®¡æ•°çš„å¯è¿­ä»£å¯¹è±¡<pre id="02a34f4e-eb31-4b7a-a63f-ef8d891e3ea3" class="code code-wrap"><code>function* generatorFn() {
  for (let i = 0; ; i++) {
    yield i;
  }
}
for (const item of generatorFn()) {
  console.log(item); // 0 - 100
  if (item == 100) {
    break; // å¦‚æœä½¿ç”¨å¾ªç¯é€€å‡ºè¯­å¥ï¼Œä¼šä¸€ç›´
  }
}</code></pre></li></ol><ol type="1" id="b983c76a-c4d5-42ee-9c7d-246f4dc8ecd5" class="numbered-list" start="2"><li>å¯ä»¥å®ç°pythonä¸­çš„<code>range()</code> å‡½æ•°ï¼ŒæŒ‡å®šå¼€å§‹ç´¢å¼•ï¼Œç»“æŸç´¢å¼•ä»¥åŠæ­¥æ•°ï¼Œç„¶ååœ¨ä¸€ä¸ªèŒƒå›´ä¸­è¿›è¡Œè¿­ä»£çš„å¯è¿­ä»£å¯¹è±¡<pre id="f26484cb-0db3-49c9-a4fe-9e5499ad7820" class="code code-wrap"><code>function* range(start = 0, end = 0, step = 1) {
  while (start &lt; end) {
    yield start;
    start += step;
  }
}
for (const item of range(5, 9)) {
  console.log(item); //  5 6 7 8 
}
for (const item of range(7, 17, 3)) {
  console.log(item); // 7 10 13 16
}</code></pre></li></ol><ol type="1" id="aed11396-a2d4-4b4e-920f-0b02fe4fcecf" class="numbered-list" start="3"><li>å¯ä»¥å®ç°pythonä¸­çš„<code>zeros()</code> å‡½æ•°ï¼ŒæŒ‡å®š0çš„ä¸ªæ•°æ„é€ ä¸€ä¸ªæŒ‡å®šé•¿åº¦ï¼Œå…¨éƒ¨å¡«å……0çš„å¯è¿­ä»£å¯¹è±¡ï¼Œå¯ç”¨äºåˆå§‹åŒ–æ•°ç»„<pre id="c7c9a220-9ce8-4b49-9f0d-faf47cefeffd" class="code code-wrap"><code>function* zeros(n = 0) {
  while (n--) {
    yield 0;
  }
}
console.log(Array.from(zeros(5))); // [0,0,0,0,0]</code></pre></li></ol><h1 id="9f15d922-9f1f-4d00-91fd-46b4796edf7f" class="">3.3 yield * è¯­å¥</h1><h2 id="31449053-b999-45b4-8160-8fde5d85675c" class="">3.3.1 å®šä¹‰</h2><ul id="5b57ceb4-9753-4825-82dc-6761501ccdbe" class="bulleted-list"><li style="list-style-type:disc"><code>yield *</code> è¡¨è¾¾å¼ç”¨äº<strong>å§”æ‰˜</strong>ï¼ˆ<strong>delegate</strong>ï¼‰ç»™å¦ä¸€ä¸ªç”Ÿæˆå™¨æˆ–å¯è¿­ä»£å¯¹è±¡</li></ul><ul id="b0e849d4-a293-4645-9a30-70ec7c96042c" class="bulleted-list"><li style="list-style-type:disc"><code>yield *</code> ä¸­çš„æ˜Ÿå·ç”¨äºå¢å¼º<strong>yield</strong>çš„è¡Œä¸ºï¼Œè®©å®ƒèƒ½å¤Ÿè¿­ä»£ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œä»è€Œä¸€æ¬¡äº§å‡ºä¸€ä¸ªå€¼</li></ul><ul id="baf6f694-29fc-41b3-9f03-91fbe28cc6e6" class="bulleted-list"><li style="list-style-type:disc">è¯­æ³•<pre id="a8a601bb-0e8b-4881-aec4-a30b44aad8d5" class="code code-wrap"><code>yield * expression</code></pre><ul id="e66fad68-c2ed-4767-827d-9f35922a137b" class="bulleted-list"><li style="list-style-type:circle"><code>expression</code> è¡¨è¾¾å¼è¿”å›ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡</li></ul></li></ul><ul id="bc575d22-806b-4f11-b5af-83e8c302da42" class="bulleted-list"><li style="list-style-type:disc">ä¸ç”Ÿæˆå™¨å‡½æ•°çš„æ˜Ÿå·ç±»ä¼¼ï¼Œ<code>yield</code>æ˜Ÿå·ä¸¤ä¾§çš„ç©ºæ ¼ä¸å—å½±å“</li></ul><ul id="302e0422-8191-4267-a572-befb4c44ce24" class="bulleted-list"><li style="list-style-type:disc"><strong><code>yield * </code></strong><strong> å®é™…ä¸Šå°±æ˜¯æŠŠå¯è¿­ä»£å¯¹è±¡åºåˆ—åŒ–ä¸ºä¸€è¿ä¸²å¯ä»¥å•ç‹¬äº§å‡ºçš„å€¼</strong>ï¼Œç›¸å½“äºåœ¨ç”Ÿæˆå™¨å‡½æ•°ä¸­è¿­ä»£å¯è¿­ä»£å¯¹è±¡ï¼Œç„¶åæŠŠ<code>yield</code> æ”¾åˆ°è¿™ä¸ªè¿­ä»£å¾ªç¯é‡Œ<pre id="e18fade3-4d4c-43a7-bfc2-de3891092578" class="code code-wrap"><code>function* generatorFn() {
  yield* [1, 2, 3];
}
function* generatorFn2() {
  for (const item of [1, 2, 3]) {
    yield item;
  }
}
for(const item of generatorFn()) {
  console.log(item);
}
for(const item of generatorFn2()) {
  console.log(item);
}</code></pre><ul id="9aced3b2-85cc-4065-9cb5-75eaaa0e4370" class="bulleted-list"><li style="list-style-type:circle"><code>generatorFn</code>ç”Ÿæˆå™¨å‡½æ•°å’Œ<code>generatorFn2</code> ç”Ÿæˆå™¨å‡½æ•°æœ¬è´¨ä¸Šæ˜¯ä¸€æ ·çš„</li></ul></li></ul><ul id="0a45937c-087e-42b8-b603-60129b2a9cf2" class="bulleted-list"><li style="list-style-type:disc">æ³¨æ„ï¼Œå’Œç”Ÿæˆå™¨å‡½æ•°ä¸€æ ·ï¼Œæ˜Ÿå·å·¦å³ä¸¤ä¾§çš„ç©ºæ ¼ä¸å½±å“è¡Œä¸º</li></ul><h2 id="c410d537-76fb-495b-8c14-df9653f45c88" class="">3.3.2 yield * çš„è¿”å›å€¼</h2><ul id="9c3abc7d-014c-48a0-a0c8-28812509fb98" class="bulleted-list"><li style="list-style-type:disc"><code>yield * </code> çš„é»˜è®¤è¿”å›å€¼å°±æ˜¯<code>undefined</code> ï¼Œä¸åŒäº<code>yield</code> çš„è¿”å›å€¼ä¾é ç”Ÿæˆå™¨çš„ä¸‹ä¸€ä¸ª<code>next()</code> ä¼ å…¥çš„å€¼ï¼Œ<code>yield * </code> çš„è¿”å›å€¼ä¾é åé¢çš„<code>expression</code></li></ul><ul id="3fc2a50e-7ed1-4316-802e-7a951cbd175e" class="bulleted-list"><li style="list-style-type:disc">å¦‚æœ<code>expression</code> æ˜¯æ™®é€šçš„è¿­ä»£å¯¹è±¡ï¼Œä¾‹å¦‚æ•°ç»„ï¼Œé›†åˆç­‰ï¼Œ<code>yield *</code> çš„è¿”å›å€¼å°±æ˜¯<code>undefined</code></li></ul><ul id="8a8f365e-d810-4bf0-b7b0-9dedbcec965d" class="bulleted-list"><li style="list-style-type:disc">å¦‚æœ<code>expression</code> æ˜¯ç”Ÿæˆå™¨å‡½æ•°äº§ç”Ÿçš„ç”Ÿæˆå™¨ï¼Œé‚£ä¹ˆè¿™ä¸ªå€¼å°±ç”Ÿæˆå™¨å‡½æ•°çš„è¿”å›å€¼ï¼š<ul id="cf08e2c7-5866-4245-8898-2fb637097510" class="bulleted-list"><li style="list-style-type:circle">å³<code>expression</code> æ‰§è¡Œ<code>next()</code> è¿”å›<code>done:true</code> æ—¶çš„<code>value</code>å±æ€§å€¼</li></ul><ul id="3849e64e-dd11-45c5-9038-e08df65ee0b5" class="bulleted-list"><li style="list-style-type:circle">å½“ç„¶è¿™ä¸ªå€¼ä¹Ÿæœ‰å¯èƒ½æ—¶<code>undefined</code> ï¼Œåªè¦ç”Ÿæˆå™¨å‡½æ•°ä¸è¿”å›ä»»ä½•å€¼</li></ul></li></ul><ul id="ea644ca8-ad1f-46f9-9d4f-a146007b1a01" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å­<pre id="166ef8de-463b-485a-a20c-398960984369" class="code code-wrap"><code>function* generatorFn() {
  yield 1;
  yield 2;
  return &quot;foo&quot;;
}
function* generatorFn2() {
  let first = yield* generatorFn();
  console.log(&quot;yield *çš„è¿”å›å€¼ï¼š&quot;, first);
  yield first;
}
for (const item of generatorFn2()) {
  console.log(&quot;------&quot;);
  console.log(item);
  console.log(&quot;------&quot;);
}
// æ‰“å°ç»“æœ
------
1
------
------
2
------
yield *çš„è¿”å›å€¼ï¼š foo
------
foo
------</code></pre><ul id="286c6294-10be-4fd4-be33-ffb3ca548665" class="bulleted-list"><li style="list-style-type:circle">ä¸€å…±è¿­ä»£3æ¬¡</li></ul><ul id="ee837cfe-f4f4-4eee-b939-76fed2885abf" class="bulleted-list"><li style="list-style-type:circle"><code>yield *</code> çš„è¿”å›å€¼æ˜¯<code>generatorFn()</code> æ‰§è¡Œå®Œçš„è¿”å›å€¼</li></ul></li></ul><h2 id="6198b620-2484-4d2b-a7ff-adaea881b6e0" class="">3.3.3 yield * å®ç°é€’å½’ç®—æ³•</h2><ul id="a5a096ea-30d4-4c28-b155-9cd61cbf01e8" class="bulleted-list"><li style="list-style-type:disc">å› ä¸º<code>yield *</code> ç”¨äºè¿­ä»£ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œç”Ÿæˆå™¨å‡½æ•°äº§ç”Ÿçš„ç”Ÿæˆå™¨ä¹Ÿæ˜¯ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥åœ¨å£°æ˜ç”Ÿæˆå™¨å‡½æ•°æ—¶ï¼Œåœ¨<code>yield *</code> å<strong>è°ƒç”¨è‡ªèº«</strong>ç”Ÿæˆä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼ˆç”Ÿæˆå™¨ï¼‰</li></ul><ul id="004ebf97-0010-4775-93ab-7e776e4e9b58" class="bulleted-list"><li style="list-style-type:disc">é€’å½’è¯­æ³•ï¼š<pre id="fd6e2653-d651-4872-ad27-5227ef1956ac" class="code code-wrap"><code>function * generatorFn(arg) {
	// é€’å½’è¿­ä»£
	yield * generatorFn(newArg);
	// é€€å‡ºæ¡ä»¶
	yield; // é€šå¸¸æœ‰ä¸€ä¸ªé€€å‡ºæ—¶çš„é»˜è®¤yield
}</code></pre></li></ul><ul id="83c7fb2a-6385-4c3b-85e2-b834d405445b" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å­, ä½¿ç”¨<code>yield *</code> å®ç°è®¡æ•°å™¨<pre id="6500f383-ff31-481c-a2f7-a9becbb348f5" class="code code-wrap"><code>function* nTimes(n) {
  if (n &gt; 0) {
    yield* nTimes(n - 1);
    yield n - 1;
  }
}
for (const item of nTimes(5)) {
  console.log(item); // 0 1 2 3 4
}</code></pre><ul id="48ea90a4-3576-4dca-978d-75f7cd4bc344" class="bulleted-list"><li style="list-style-type:circle">æ¯ä¸ªç”Ÿæˆå™¨é¦–å…ˆä¼šä»æ–°åˆ›å»ºçš„ç”Ÿæˆå™¨å¯¹è±¡äº§å‡ºæ¯ä¸ªå€¼ï¼Œç„¶åå†äº§å‡ºä¸€ä¸ªæ•´æ•°</li></ul><ul id="ecaf1850-82b6-431b-871e-764b2590c769" class="bulleted-list"><li style="list-style-type:circle">ç»“æœå°±æ˜¯ç”Ÿæˆå™¨å‡½æ•°ä¼šé€’å½’åœ°å‡å°‘è®¡æ•°å™¨å€¼ï¼Œå¹¶å®ä¾‹åŒ–å¦ä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡</li></ul><ul id="3dec5f34-1548-4361-81b6-d465bf9e12ab" class="bulleted-list"><li style="list-style-type:circle">ä»é¡¶å±‚æ¥çœ‹ï¼Œç›¸å½“äºåˆ›å»ºäº†ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡å¹¶è¿”å›é€’å¢çš„æ•´æ•°</li></ul></li></ul><ul id="ac8e6eb9-b8a0-415f-be45-962a113c47e7" class="bulleted-list"><li style="list-style-type:disc">å›¾çš„<a href="https://www.notion.so/653ae62c0843418ab84653d39e2fd1f2">æ·±åº¦ä¼˜å…ˆéå†(dfs)</a>ï¼Œå¯ä»¥ä½¿ç”¨<code>yield *</code> é€’å½’ç®—æ³•å®ç°<ul id="fd727722-0b41-4b66-a07e-c676975770f6" class="bulleted-list"><li style="list-style-type:circle">å›¾çš„èŠ‚ç‚¹ç±»<pre id="524abd68-f5f8-405e-bda5-2a10dcd6c989" class="code code-wrap"><code>class Node {
  constructor(id, neighbors = new Set()) {
    this.id = id;
    this.neighbors = neighbors;
  }
  connect(node) {
    if (node !== this) {
      this.neighbors.add(node);
      node.neighbors.add(this);
    }
  }
}</code></pre></li></ul><ul id="ac0f63d1-5177-4116-9584-7553a53c4be6" class="bulleted-list"><li style="list-style-type:circle">éšæœºå›¾<pre id="3739f04b-ddbd-47a3-ad2a-df336e9a605d" class="code code-wrap"><code>class RandomGraph {
  constructor(size) {
    this.size = size;
    this.nodes = new Set();
    // åˆ›å»ºèŠ‚ç‚¹
    for (let i = 0; i &lt; size; i++) {
      this.nodes.add(new Node(i));
    }
    // éšæœºè¿æ¥èŠ‚ç‚¹
    this.generateRandomGraph();
  }
  generateRandomGraph() {
    // æ¸…ç©ºåŸå§‹è¿æ¥
    for (const node of this.nodes) {
      node.neighbors.clear();
    }
    // éšæœºè¿æ¥ç‚¹
    const threshold = 1 / this.size; // ä¸¤ä¸ªç‚¹æ˜¯å¦è¿æ¥çš„å›ºå®šå€¼
    for (const nodea of this.nodes) {
      for (const nodeb of this.nodes) {
        if (Math.random() &lt; threshold) {
          nodea.connect(nodeb);
        }
      }
    }
  }
  toString() {
    // æ‰“å°æˆå­—ç¬¦ä¸²çš„æ–¹æ³•
    const prints = [];
    for (const node of this.nodes) {
      const ids = [...node.neighbors].map((n) =&gt; n.id).join(&quot;,&quot;);
      prints.push(`${node.id}:${ids}`);
    }
    return prints.join(&quot;\n&quot;);
  }
}</code></pre></li></ul><ul id="2d440464-ff00-420d-a085-d0c2b15ff102" class="bulleted-list"><li style="list-style-type:circle">éšæœºå›¾æ˜¯å¦è¿é€šçš„æ–¹æ³•(æ”¾åœ¨å›¾å†…éƒ¨)<pre id="a149b4f5-d706-4943-b790-4c682ea7e9fb" class="code code-wrap"><code>class RandomGraph {  
	isConnected() {
    const visited = new Set();
    function* traverse(nodes) {
      for (const node of nodes) {
        if (!visited.has(node)) {
          // æ²¡æœ‰å°±è¿›è¡Œé€’å½’
          yield node;
          yield* traverse(node.neighbors);
        }
      }
    }
    // è·å–ç¬¬ä¸€ä¸ªèŠ‚ç‚¹
    const firstNode = this.nodes[Symbol.iterator]().next().value;
    // ä½¿ç”¨é€’å½’å°†å·²éå†åˆ°çš„èŠ‚ç‚¹å…¥visited
    for (const node of traverse([firstNode])) {
      visited.add(node);
    }
    return visited.size === this.nodes.size;
  }
}</code></pre><ul id="edcc8ac9-1925-473c-9d84-cb595946cafa" class="bulleted-list"><li style="list-style-type:square">è¿™ä¸ªæ–¹æ³•å·§å¦™åœ°ä½¿ç”¨äº†<code>yield *</code> é€’å½’èŠ‚ç‚¹</li></ul><ul id="adfd1bce-3145-4658-a721-cffeaa9ea1f6" class="bulleted-list"><li style="list-style-type:square">æ¯æ¬¡éå†åˆ°ä¸€ä¸ªæ–°èŠ‚ç‚¹éƒ½ä½œä¸ºè¿­ä»£å€¼å¼¹å‡ºï¼Œç„¶åæ·»åŠ åˆ°å·²è®¿é—®èŠ‚ç‚¹(<strong>visited</strong>)ä¸­</li></ul><ul id="c7caf0b3-592d-42f8-ba5d-a16705fbfee9" class="bulleted-list"><li style="list-style-type:square">å†è¿›è¡Œé€’å½’è¿­ä»£æ—¶ï¼Œéœ€è¦åˆ¤æ–­å½“å‰çš„nodeæ˜¯å¦å·²è¢«è¿­ä»£è¿‡ï¼Œæ²¡æœ‰å°±å¯ä»¥ä½¿ç”¨<code>yield *</code> éå†å®ƒçš„é‚»å±…èŠ‚ç‚¹</li></ul></li></ul><ul id="65066ec1-2bb6-41c2-9d1a-b231c372d257" class="bulleted-list"><li style="list-style-type:circle">ä½¿ç”¨<pre id="195f4489-cea7-4e45-9d48-3a10d7200a1c" class="code code-wrap"><code>const g = new RandomGraph(6);
console.log(g.toString(), g.isConnected());
g.generateRandomGraph();
console.log(g.toString(), g.isConnected());
g.generateRandomGraph();
console.log(g.toString(), g.isConnected());
// å¯èƒ½çš„æ‰“å°ç»“æœ
0:2
1:4
2:0,3,4
3:2,5
4:1,2
5:3
 true
0:5
1:5,3
2:5
3:1
4:
5:0,1,2
 false
0:3,4
1:5,3
2:4,5
3:0,1
4:2,0,5
5:1,2,4
 true</code></pre></li></ul></li></ul><h1 id="ed108c4e-b12e-49c2-bee1-d95c5151f558" class="">3.4 ç”Ÿæˆå™¨ä½œä¸ºé»˜è®¤è¿­ä»£å™¨</h1><ul id="beb846b0-d44e-4d6b-a853-3d3efefc9987" class="bulleted-list"><li style="list-style-type:disc"><a href="3%20%E7%94%9F%E6%88%90%E5%99%A8%EF%BC%88Generator%EF%BC%89.html">å› ä¸º@å®ç°äº†è¿­ä»£å™¨åè®®ï¼ˆIterator æ¥å£ï¼‰ï¼Œå…·æœ‰next()æ–¹æ³• æ‰€ä»¥ç”Ÿæˆå™¨å¯ä»¥ä½œä¸ºè¿­ä»£å™¨ä½¿ç”¨</a> </li></ul><ul id="14337f43-4ee8-4d5b-89d2-bd754ca51384" class="bulleted-list"><li style="list-style-type:disc">è€Œä¸”ç”Ÿæˆå™¨å‡½æ•°å’Œé»˜è®¤è¿­ä»£å™¨è°ƒç”¨åéƒ½äº§ç”Ÿè¿­ä»£å™¨ï¼Œæ‰€ä»¥ç”Ÿæˆå™¨æ ¼å¤–é€‚åˆä½œä¸ºé»˜è®¤è¿­ä»£å™¨</li></ul><ul id="e1f3ee5e-68d2-4294-afe0-5986470add62" class="bulleted-list"><li style="list-style-type:disc">åœ¨å£°æ˜ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡çš„å¼•ç”¨ç±»å‹æ—¶ï¼Œå®ç°<strong>å¯è¿­ä»£åè®®</strong>ï¼ˆ<strong>Iterable protocol</strong>ï¼‰å°±æ˜¯èµ‹äºˆè¿­ä»£å™¨ç¬¦å·å±æ€§èƒ½äº§ç”Ÿè¿­ä»£å™¨çš„èƒ½åŠ›ï¼Œå³è¿­ä»£å™¨å·¥å‚å‡½æ•°ï¼Œè¿™ä¸ªè¿­ä»£å™¨å·¥å‚å‡½æ•°é€‚åˆä½¿ç”¨ç”Ÿæˆå™¨å‡½æ•°</li></ul><ul id="a7e4c418-6728-4204-b64a-fd2bd102bfce" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å¦‚<pre id="1de69034-329f-4a8d-a1d0-fab595e8b566" class="code code-wrap"><code>class Foo {
  constructor(values) {
    this.values = new Set(values);
  }
  add(val) {
    this.values.add(val);
    return this;
  }
  *[Symbol.iterator]() {
    yield* this.values;
  }
}
const foo = new Foo([1, 2, 3]).add(4).add(8);
for (const item of foo) {
  console.log(item);
}</code></pre><ul id="28d1b6eb-f64f-4107-a0b5-a7937b6a9844" class="bulleted-list"><li style="list-style-type:circle"><code>forâ€¦of</code> å¾ªç¯è°ƒç”¨é»˜è®¤è¿­ä»£å™¨äº§ç”Ÿä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡ï¼Œç”Ÿæˆå™¨å¯¹è±¡æ—¶å¯è¿­ä»£çš„ï¼Œæ‰€ä»¥å¯ä»¥å½“æˆè¿­ä»£å™¨ä½¿ç”¨</li></ul></li></ul><h1 id="f4c37e0d-a77c-4718-a1bc-93005bf6219d" class="">3.5 æå‰ç»ˆæ­¢ç”Ÿæˆå™¨</h1><ul id="57b8c81d-4f89-41b1-a809-8b838b503f49" class="bulleted-list"><li style="list-style-type:disc">å’Œè¿­ä»£å™¨ç±»ä¼¼ï¼Œç”Ÿæˆå™¨ä¹Ÿæ”¯æŒâ€œå¯å…³é—­â€çš„æ¦‚å¿µ</li></ul><ul id="c0872365-96c2-4b35-8d57-170556657049" class="bulleted-list"><li style="list-style-type:disc">å®ç°è¿­ä»£å™¨åè®®ï¼ˆIterator æ¥å£ï¼‰çš„å¯¹è±¡æœ‰<code>next(), return(), throw()</code> æ–¹æ³•</li></ul><ul id="23019d12-f2e4-4902-b5ed-93cb05a0a843" class="bulleted-list"><li style="list-style-type:disc">ç”Ÿæˆå™¨ä¹Ÿå®ç°äº†è¿­ä»£å™¨åè®®ï¼Œæ‰€ä»¥ä¹Ÿæœ‰è¿™ä¸‰ä¸ªæ–¹æ³•<pre id="a576e3cd-57ec-4d48-9844-e54feb19665c" class="code code-wrap"><code>function* generatorFn() {
  yield 1;
  yield 2;
}
const gt = generatorFn();
console.log(gt.next); 
console.log(gt.throw);
console.log(gt.return);</code></pre><ul id="9ec35754-7052-440e-aa4e-c7383212f6cf" class="bulleted-list"><li style="list-style-type:circle">nodeç¯å¢ƒï¼ˆv16.14.0ï¼‰æ‰“å°<pre id="dd59c5ee-b4e8-432d-aa64-efa9cb3d237b" class="code code-wrap"><code>[Function: next]
[Function: throw]
[Function: return]</code></pre></li></ul><ul id="0cf016cd-fe3c-4176-a455-5546ad997453" class="bulleted-list"><li style="list-style-type:circle">æµè§ˆå™¨ç¯å¢ƒæ‰“å°ï¼ˆè°·æ­Œæµè§ˆå™¨v100+ï¼‰<pre id="85e1b402-f530-4a42-8a20-c5ba62747cae" class="code code-wrap"><code>Æ’ next() { [native code] }
Æ’ throw() { [native code] }
Æ’ return() { [native code] }</code></pre></li></ul></li></ul><ul id="2ab53663-9e56-4325-923f-2c5610905a14" class="bulleted-list"><li style="list-style-type:disc"><code>return()</code>å’Œ<code>throw()</code> éƒ½èƒ½å¼ºåˆ¶ç”Ÿæˆå™¨è¿›å…¥å…³é—­çŠ¶æ€</li></ul><h2 id="33328029-50e1-4c9d-813a-3d603fe71648" class="">3.5.1 <code>Generator.prototype.return()</code></h2><ul id="8277bf81-7993-4cf8-a501-72a9f0d00fe0" class="bulleted-list"><li style="list-style-type:disc">return()æ–¹æ³•å¼ºåˆ¶ç”Ÿæˆå™¨è¿›å…¥å…³é—­çŠ¶æ€ï¼Œæä¾›ç»™<code>return()</code>æ–¹æ³•çš„å€¼å°±æ˜¯ç»ˆæ­¢è¿­ä»£å™¨å¯¹è±¡çš„å€¼</li></ul><ul id="47b07f25-0afe-4490-90b0-80a557848b86" class="bulleted-list"><li style="list-style-type:disc">ä¸è¿­ä»£å™¨ä¸åŒçš„æ˜¯ï¼Œæ‰€æœ‰ç”Ÿæˆå™¨éƒ½æœ‰<code>return()</code> æ–¹æ³•ï¼Œåªè¦é€šè¿‡å®ƒè¿›å…¥äº†<strong>å…³é—­çŠ¶æ€</strong>ï¼ˆclosedï¼‰å°±æ— æ³•æ¢å¤äº†ï¼Œåç»­è°ƒç”¨<code>next()</code>ä¼šæ˜¾ç¤º<code>done: true</code> çŠ¶æ€</li></ul><h3 id="3cce4368-afc3-4201-84d7-6291546c96af" class="">3.5.1.1 æ˜¾ç¤ºè°ƒç”¨</h3><ul id="965145da-35d7-4082-9fa3-f4a8533cc424" class="bulleted-list"><li style="list-style-type:disc">é€šè¿‡ç”Ÿæˆå™¨æ˜¾ç¤ºè°ƒç”¨ï¼š<pre id="cf2326ea-0239-4084-8f70-9236aede90c7" class="code"><code>function* range(start, end) {
  while (start &lt; end) {
    yield start;
    start++;
  }
}
const gt = range(1, 8);
console.log(gt); // rangeÂ {&lt;suspended&gt;}
console.log(gt.next()); // { value: 1, done: false }
console.log(gt.next()); // { value: 2, done: false }
console.log(gt.next()); // { value: 3, done: false }
console.log(gt.return(4)); // { value: 4, done: true }
console.log(gt.return(5)); // { value: 5, done: true }
console.log(gt.next()); // { value: undefined, done: true }
console.log(gt.next()); // { value: undefined, done: true }
console.log(gt); // rangeÂ {&lt;closed&gt;}</code></pre><ul id="a83f6fb8-3f09-40ed-b936-e967a9a2a70e" class="bulleted-list"><li style="list-style-type:circle">å¯ä»¥çœ‹åˆ°åœ¨è°ƒç”¨<code>return()</code> åï¼Œç”Ÿæˆå™¨ç›´æ¥è¿›å…¥å…³é—­çŠ¶æ€ï¼Œå†æ¬¡è°ƒç”¨<code>next()</code> å·²ç»æ— æ³•è·å–åºåˆ—ä¸­çš„å€¼</li></ul></li></ul><h3 id="a928b19c-06b6-4a35-bce2-248685ab7a75" class="">3.5.1.2 éšå¼è°ƒç”¨</h3><ul id="be084867-0112-44f1-8b5d-0e8e3909d2d6" class="bulleted-list"><li style="list-style-type:disc">å’Œè¿­ä»£å™¨ä¸€æ ·ï¼Œ<code>return()</code> åœ¨æ•°ç»„è§£æ„è¯­æ³•å’Œ<code>forâ€¦of</code> å¾ªç¯ä¸­å¦‚æœä¸è¿­ä»£å®Œæ¯•ç”Ÿæˆå™¨ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œä¼šè°ƒç”¨å…¶<code>return()</code> æ–¹æ³•<pre id="9010ad72-66d5-42b4-9a02-b836a0a1500a" class="code"><code>const gt2 = range(2, 6); // ä½¿ç”¨ä¸Šé¢å®šä¹‰çš„ç”Ÿæˆå™¨å‡½æ•°
const [a, b] = gt2;
console.log(gt2); // rangeÂ {&lt;closed&gt;}
console.log(gt2.next()); // { value: undefined, done: true }

const gt3 = range(3, 8);
for (const item of gt3) {
  console.log(item); // 3 4 5
  if (item == 5) {
    break;
  }
}
console.log(gt3); // rangeÂ {&lt;closed&gt;}
console.log(gt3.next()); // {value: undefined, done: true}</code></pre><ul id="b0f14c8b-4dfd-4e80-b165-0aae16b7641f" class="bulleted-list"><li style="list-style-type:circle">ç”Ÿæˆå™¨çš„<code>return()</code> æ–¹æ³•æ¯”è‡ªå®šä¹‰çš„è¿­ä»£å™¨æ›´ä¸¥æ ¼ï¼Œè¿›å…¥å…³é—­çŠ¶æ€åå°±æ— æ³•å†è¿­ä»£äº†</li></ul></li></ul><ul id="93a5aa77-c7cf-403d-9554-b1ac93045ad7" class="bulleted-list"><li style="list-style-type:disc">å¦‚æœå†<code>forâ€¦of</code> å¾ªç¯ä¸­é€”ç›´æ¥æ˜¾ç¤ºè°ƒç”¨<code>return()</code> è¾¾åˆ°çš„æ•ˆæœå’Œä½¿ç”¨<code>break;</code> è¯­å¥æ˜¯ä¸€æ ·çš„ï¼Œå”¯ä¸€åŒºåˆ«æ˜¯è°ƒç”¨return()åæœ¬è½®å¾ªç¯çš„åç»­è¯­å¥ä¼šæ‰§è¡Œå®Œæ¯•å†é€€å‡ºå¾ªç¯<pre id="2b90a88b-d70c-405d-9230-fb36473e50f6" class="code"><code>const gt4 = range(3, 8);
for (const item of gt4) {
  console.log(item); // 3 4 5
  if (item == 5) {
    gt4.return();
    console.log(&quot;åç»­è¯­å¥&quot;); // ä¼šè¢«æ‰§è¡Œ
  }
}
console.log(gt4); // rangeÂ {&lt;closed&gt;}
console.log(gt4.next()); // {value: undefined, done: true}</code></pre></li></ul><h2 id="90b6f74a-86d2-40e2-a123-c16a59215a41" class="">3.5.2 <code>Generator.prototype.throw()</code></h2><ul id="a380c8a1-a69f-4796-8c90-6a7899d058eb" class="bulleted-list"><li style="list-style-type:disc">ä¼ å…¥ä¸€ä¸ªé”™è¯¯ï¼Œ<code>throw()</code> æ–¹æ³•è¢«è°ƒç”¨åœ¨æš‚åœçŠ¶æ€å°†è¿™ä¸ªé”™è¯¯æ³¨å…¥åˆ°ç”Ÿæˆå™¨å¯¹è±¡ï¼Œå¦‚æœé”™è¯¯æœªè¢«å¤„ï¼Œç”Ÿæˆå™¨å°±ä¼šè¢«å…³é—­<pre id="765e0f4b-a861-461f-bb4a-dbe440988175" class="code"><code>const range = function* (start, end) {
  while (start &lt; end) {
    yield start;
    start++;
  }
};
const gt = range(1, 6);
gt.next();
console.log(gt); // rangeÂ {&lt;suspended&gt;}
try {
  gt.throw(&quot;æŠ›å‡ºé”™è¯¯&quot;);
} catch (error) {
  console.log(error); // æŠ›å‡ºé”™è¯¯
}
console.log(gt); // rangeÂ {&lt;closed&gt;}
console.log(gt.next()); // {value: undefined, done: true}</code></pre></li></ul><ul id="9a804c4f-7943-4b16-b4c3-25e4f46315dd" class="bulleted-list"><li style="list-style-type:disc">å¦‚æœç”Ÿæˆå™¨å‡½æ•°å†…éƒ¨å¤„ç†äº†è¿™ä¸ªé”™è¯¯ï¼Œé‚£ä¹ˆç”Ÿæˆå™¨å°±ä¸ä¼šå…³é—­ï¼Œè€Œä¸”å¯ä»¥æ¢å¤æ‰§è¡Œï¼Œä½†æ˜¯é”™è¯¯å¤„ç†ä¼šè·³è¿‡æœ¬è½®çš„<code>yeild</code> å³è·³è¿‡åºåˆ—ä¸­çš„ä¸€ä¸ªå€¼<pre id="1eb17eb5-f6d0-411b-92f1-e7ecc9e6431d" class="code"><code>const range2 = function* (start, end) {
  while (start++ &lt; end) {
    try {
      yield start;
    } catch (error) {
      console.log(error); // æŠ›å‡ºé”™è¯¯
    }
  }
};
const gt2 = range2(2, 7);
console.log(gt2); // range2Â {&lt;suspended&gt;}
gt2.next();
gt2.throw(&quot;æŠ›å‡ºé”™è¯¯&quot;); 
console.log(gt2); // range2Â {&lt;suspended&gt;}
console.log(gt2.next()); // {value: 5, done: false}</code></pre><ul id="b298819f-78f3-4493-b3d7-31c938ef3d21" class="bulleted-list"><li style="list-style-type:circle"><code>gt2.throw(&quot;æŠ›å‡ºé”™è¯¯&quot;); </code> å‘ç”Ÿæˆå™¨å¯¹è±¡å†…éƒ¨æ³¨å…¥ä¸€ä¸ªé”™è¯¯ï¼Œè¿™ä¸ªé”™è¯¯ä¼šè¢«<code>yield</code>å…³é”®å­—æŠ›å‡º</li></ul><ul id="49d33298-3276-4d9f-905d-e70623075dd1" class="bulleted-list"><li style="list-style-type:circle">å› ä¸ºé”™è¯¯åœ¨ç”Ÿæˆå™¨å‡½æ•°çš„try/catchå—ä¸­è¢«æ•è·ï¼Œç”Ÿæˆå™¨ä¸ä¼šè¢«å…³é—­ï¼Œåªæ˜¯è·‘æœ¬æ¬¡æŠ›å‡ºé”™è¯¯çš„<code>yield</code> è¯­å¥ä¸ä¼šäº§å‡ºå€¼ <code>4</code></li></ul></li></ul><ul id="bdf354fa-a74a-4537-913a-72d8bfe9d3b7" class="bulleted-list"><li style="list-style-type:disc"><strong>æ³¨æ„</strong><ul id="60f19d5b-45cd-4b15-b2b5-46b9a5935458" class="bulleted-list"><li style="list-style-type:circle">å¦‚æœç”Ÿæˆå™¨å¯¹è±¡è¿˜æ²¡æœ‰å¼€å§‹æ‰§è¡Œï¼Œé‚£ä¹ˆè°ƒç”¨throw()æŠ›å‡ºçš„é”™è¯¯ä¸ä¼šåœ¨ç”Ÿæˆå™¨å‡½æ•°å†…éƒ¨è¢«æ•è·ï¼Œå› ä¸ºè¿™ç›¸å½“äºåœ¨å‡½æ•°å—å¤–éƒ¨æŠ›å‡ºäº†é”™è¯¯<pre id="780c0a0b-1c6d-4a16-8092-d180851a3342" class="code"><code>const gt3 = range2(2, 7);
gt3.throw(&quot;ç›´æ¥æŠ¥é”™&quot;);</code></pre></li></ul></li></ul><p id="f3719466-4ce1-48d1-9707-df201de6f4c9" class="">
</p></div></div><p id="8ff5d485-5185-428a-a403-09ae8ba6519c" class="">
</p></div></article><script src="../../gotoBack.js"></script><script src="../../gotoTop.js"></script></body></html>